var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,o=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&a(e,r,t[r]);return e},l=(e,n)=>t(e,r(n)),c=(e,t)=>{var r={};for(var a in e)i.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&n)for(var a of n(e))t.indexOf(a)<0&&s.call(e,a)&&(r[a]=e[a]);return r},u=(e,t,r)=>(a(e,"symbol"!=typeof t?t+"":t,r),r);import{B as d,R as h,a as p,N as f,Y as m,x as g,y as b,F as v,a5 as y,G as x,A as _,D as w,U as S,Z as C}from"./vendor.bbf9911b.js";import{go as I,Z as T,b4 as N,c as k,d as P,cL as M,dw as E,k as A,db as L,gp as O,gq as D,gr as R,ey as q,M as j,D as U,bZ as H,C as F,d_ as B,dV as V,gs as G,a1 as z,gt as W,gu as K,cP as Z,dT as X,dS as Y,ax as Q,dP as $,dM as J,gv as ee,a3 as te,gw as re,cn as ne,K as ie,gx as se,eZ as ae,aa as oe,gy as le,gz as ce,gA as ue,b3 as de,gB as he,cJ as pe,bd as fe,cM as me,aH as ge,gC as be,gD as ve,bg as ye,aS as xe,gE as _e,gF as we,gG as Se,v as Ce,gH as Ie,gI as Te,gJ as Ne,gK as ke,aN as Pe,e1 as Me,cH as Ee,gL as Ae,bf as Le,a2 as Oe,gM as De,gN as Re,gO as qe,gP as je,bI as Ue,gQ as He,dr as Fe,gR as Be,dq as Ve,gS as Ge,gT as ze,gU as We,cw as Ke,eP as Ze,fy as Xe,bR as Ye,a7 as Qe}from"./index.190edc01.js";import{t as $e,w as Je,n as et,S as tt,e as rt,o as nt,r as it,v as st,$ as at,M as ot,b as lt,Q as ct,c as ut,a as dt}from"./index.7b48b190.js";import{r as ht}from"./jsx-runtime_commonjs-proxy.8e94ef61.js";import{j as pt,H as ft,y as mt,C as gt,u as bt,p as vt,_ as yt,I as xt,n as _t,o as wt,x as St,l as Ct,q as It,W as Tt,P as Nt,U as kt}from"./index.0ec9f6e9.js";import{F as Pt}from"./FormattedMarkdownMessage.bdef2d7a.js";import{a0 as Mt}from"./index.f9be2f73.js";function Et(e){var t;if(e.type)return e.type;let r=null!=(t=e.as)?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()?"button":void 0}function At(e,t){let[r,n]=d.exports.useState((()=>Et(e)));return pt((()=>{n(Et(e))}),[e.type,e.as]),pt((()=>{r||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")}),[r,t]),r}var Lt,Ot=((Lt=Ot||{})[Lt.First=0]="First",Lt[Lt.Previous=1]="Previous",Lt[Lt.Next=2]="Next",Lt[Lt.Last=3]="Last",Lt[Lt.Specific=4]="Specific",Lt[Lt.Nothing=5]="Nothing",Lt);function Dt(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=null!=n?n:-1,s=(()=>{switch(e.focus){case 0:return r.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=r.slice().reverse().findIndex(((e,r,n)=>!(-1!==i&&n.length-r-1>=i)&&!t.resolveDisabled(e)));return-1===e?e:r.length-1-e}case 2:return r.findIndex(((e,r)=>!(r<=i)&&!t.resolveDisabled(e)));case 3:{let e=r.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:r.length-1-e}case 4:return r.findIndex((r=>t.resolveId(r)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===s?n:s}var Rt,qt,jt=((qt=jt||{})[qt.Open=0]="Open",qt[qt.Closed=1]="Closed",qt),Ut=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ut||{}),Ht=((Rt=Ht||{})[Rt.OpenMenu=0]="OpenMenu",Rt[Rt.CloseMenu=1]="CloseMenu",Rt[Rt.GoToItem=2]="GoToItem",Rt[Rt.Search=3]="Search",Rt[Rt.ClearSearch=4]="ClearSearch",Rt[Rt.RegisterItem=5]="RegisterItem",Rt[Rt.UnregisterItem=6]="UnregisterItem",Rt);function Ft(e,t=(e=>e)){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=st(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),i=r?n.indexOf(r):null;return-1===i&&(i=null),{items:n,activeItemIndex:i}}let Bt={1:e=>1===e.menuState?e:l(o({},e),{activeItemIndex:null,menuState:1}),0:e=>0===e.menuState?e:l(o({},e),{menuState:0}),2:(e,t)=>{var r;let n=Ft(e),i=Dt(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return l(o(o({},e),n),{searchQuery:"",activeItemIndex:i,activationTrigger:null!=(r=t.trigger)?r:1})},3:(e,t)=>{let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled})),s=i?e.items.indexOf(i):-1;return-1===s||s===e.activeItemIndex?l(o({},e),{searchQuery:n}):l(o({},e),{searchQuery:n,activeItemIndex:s,activationTrigger:1})},4:e=>""===e.searchQuery?e:l(o({},e),{searchQuery:"",searchActiveItemIndex:null}),5:(e,t)=>{let r=Ft(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return o(o({},e),r)},6:(e,t)=>{let r=Ft(e,(e=>{let r=e.findIndex((e=>e.id===t.id));return-1!==r&&e.splice(r,1),e}));return l(o(o({},e),r),{activationTrigger:1})}},Vt=d.exports.createContext(null);function Gt(e){let t=d.exports.useContext(Vt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Gt),t}return t}function zt(e,t){return bt(t.type,Bt,e,t)}Vt.displayName="MenuContext";let Wt=d.exports.Fragment,Kt=ft((function(e,t){let r=d.exports.useReducer(zt,{menuState:1,buttonRef:d.exports.createRef(),itemsRef:d.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:n,itemsRef:i,buttonRef:s},a]=r,o=mt(t);Je([s,i],((e,t)=>{var r;0===n&&(a({type:1}),tt(t,rt.Loose)||(e.preventDefault(),null==(r=s.current)||r.focus()))}));let l=d.exports.useMemo((()=>({open:0===n})),[n]),c=e,u={ref:o};return h.createElement(Vt.Provider,{value:r},h.createElement(gt,{value:bt(n,{0:vt.Open,1:vt.Closed})},yt({ourProps:u,theirProps:c,slot:l,defaultTag:Wt,name:"Menu"})))})),Zt=ft((function(e,t){var r;let[n,i]=Gt("Menu.Button"),s=mt(n.buttonRef,t),a=`headlessui-menu-button-${xt()}`,o=_t(),l=wt((e=>{switch(e.key){case nt.Space:case nt.Enter:case nt.ArrowDown:e.preventDefault(),e.stopPropagation(),i({type:0}),o.nextFrame((()=>i({type:2,focus:Ot.First})));break;case nt.ArrowUp:e.preventDefault(),e.stopPropagation(),i({type:0}),o.nextFrame((()=>i({type:2,focus:Ot.Last})))}})),c=wt((e=>{switch(e.key){case nt.Space:e.preventDefault()}})),u=wt((t=>{if(it(t.currentTarget))return t.preventDefault();e.disabled||(0===n.menuState?(i({type:1}),o.nextFrame((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),i({type:0})))})),h=d.exports.useMemo((()=>({open:0===n.menuState})),[n]),p=e,f={ref:s,id:a,type:At(e,n.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=n.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===n.menuState,onKeyDown:l,onKeyUp:c,onClick:u};return yt({ourProps:f,theirProps:p,slot:h,defaultTag:"button",name:"Menu.Button"})})),Xt=St.RenderStrategy|St.Static,Yt=ft((function(e,t){var r,n;let[i,s]=Gt("Menu.Items"),a=mt(i.itemsRef,t),o=et(i.itemsRef),l=`headlessui-menu-items-${xt()}`,c=_t(),u=Ct(),h=null!==u?u===vt.Open:0===i.menuState;d.exports.useEffect((()=>{let e=i.itemsRef.current;!e||0===i.menuState&&e!==(null==o?void 0:o.activeElement)&&e.focus({preventScroll:!0})}),[i.menuState,i.itemsRef,o]),function({container:e,accept:t,walk:r,enabled:n=!0}){let i=d.exports.useRef(t),s=d.exports.useRef(r);d.exports.useEffect((()=>{i.current=t,s.current=r}),[t,r]),pt((()=>{if(!e||!n)return;let t=$e(e);if(!t)return;let r=i.current,a=s.current,o=Object.assign((e=>r(e)),{acceptNode:r}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,o,!1);for(;l.nextNode();)a(l.currentNode)}),[e,n,i,s])}({container:i.itemsRef.current,enabled:0===i.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let p=wt((e=>{var t,r;switch(c.dispose(),e.key){case nt.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:3,value:e.key});case nt.Enter:if(e.preventDefault(),e.stopPropagation(),s({type:1}),null!==i.activeItemIndex){let{dataRef:e}=i.items[i.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}It().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case nt.ArrowDown:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Ot.Next});case nt.ArrowUp:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Ot.Previous});case nt.Home:case nt.PageUp:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Ot.First});case nt.End:case nt.PageDown:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Ot.Last});case nt.Escape:e.preventDefault(),e.stopPropagation(),s({type:1}),It().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case nt.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:3,value:e.key}),c.setTimeout((()=>s({type:4})),350))}})),f=wt((e=>{switch(e.key){case nt.Space:e.preventDefault()}})),m=d.exports.useMemo((()=>({open:0===i.menuState})),[i]),g=e,b={"aria-activedescendant":null===i.activeItemIndex||null==(r=i.items[i.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(n=i.buttonRef.current)?void 0:n.id,id:l,onKeyDown:p,onKeyUp:f,role:"menu",tabIndex:0,ref:a};return yt({ourProps:b,theirProps:g,slot:m,defaultTag:"div",features:Xt,visible:h,name:"Menu.Items"})})),Qt=d.exports.Fragment,$t=ft((function(e,t){let r=e,{disabled:n=!1}=r,i=c(r,["disabled"]),[s,a]=Gt("Menu.Item"),o=`headlessui-menu-item-${xt()}`,l=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===o,u=d.exports.useRef(null),h=mt(t,u);pt((()=>{if(0!==s.menuState||!l||0===s.activationTrigger)return;let e=It();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=u.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[u,l,s.menuState,s.activationTrigger,s.activeItemIndex]);let p=d.exports.useRef({disabled:n,domRef:u});pt((()=>{p.current.disabled=n}),[p,n]),pt((()=>{var e,t;p.current.textValue=null==(t=null==(e=u.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[p,u]),pt((()=>(a({type:5,id:o,dataRef:p}),()=>a({type:6,id:o}))),[p,o]);let f=wt((e=>{if(n)return e.preventDefault();a({type:1}),It().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))})),m=wt((()=>{if(n)return a({type:2,focus:Ot.Nothing});a({type:2,focus:Ot.Specific,id:o})})),g=wt((()=>{n||l||a({type:2,focus:Ot.Specific,id:o,trigger:0})})),b=wt((()=>{n||!l||a({type:2,focus:Ot.Nothing})})),v=d.exports.useMemo((()=>({active:l,disabled:n})),[l,n]);return yt({ourProps:{id:o,ref:h,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:f,onFocus:m,onPointerMove:g,onMouseMove:g,onPointerLeave:b,onMouseLeave:b},theirProps:i,slot:v,defaultTag:Qt,name:"Menu.Item"})})),Jt=Object.assign(Kt,{Button:Zt,Items:Yt,Item:$t});const er=[];function tr(e){return e.entities.groups.groups}function rr(e){return e.entities.groups.myGroups}const nr=p(sr,(e=>{const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];t[n.name]=n}return t}));function ir(e,t,r,n){const i=sr(e,r,n);if(!i)return er;return function(e,t){let r=t.toLowerCase();return r.startsWith("@")&&(r=r.substr(1)),e.filter((e=>{if(!e)return!1;const t=[],n=I((e.name||"").toLowerCase(),T.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...n);const i=(e.display_name||"").toLowerCase();return t.push(i),t.filter((e=>""!==e)).some((e=>e.startsWith(r)))}))}(i,t)}function sr(e,t,r){const n=N(e,t),i=k(e,r);let s=[];if(n&&n.group_constrained&&i&&i.group_constrained){const n=ur(e,r),i=cr(e,t);s=n.concat(i.filter((e=>n.indexOf(e)<0)))}else s=n&&n.group_constrained?cr(e,t):i&&i.group_constrained?ur(e,r):dr(e);return s}p(sr,(e=>new Map(e.map((e=>[`@${e.name}`,e])))));const ar=p(((e,t)=>{var r;return(null==(r=e.entities.teams.groupsAssociatedToTeam[t])?void 0:r.ids)||[]}),(e=>new Set(e))),or=p(((e,t)=>{var r;return(null==(r=e.entities.channels.groupsAssociatedToChannel[t])?void 0:r.ids)||[]}),(e=>new Set(e)));p(tr,((e,t)=>ar(e,t)),((e,t)=>Object.entries(e).filter((([e])=>!t.has(e))).map((e=>e[1]))));const lr=p(tr,((e,t)=>ar(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).map((e=>e[1]))));p(tr,((e,t)=>or(e,t)),((e,t,r)=>N(e,r)),((e,t,r)=>lr(e,r)),((e,t,r,n)=>{let i=Object.values(e).filter((e=>!t.has(e.id)));if(r.group_constrained){const e=n.map((e=>e.id));i=i.filter((t=>null==e?void 0:e.includes(t.id)))}return i})),p(tr,((e,t)=>or(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).map((e=>e[1]))));const cr=p(tr,((e,t)=>ar(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),ur=p(tr,((e,t)=>or(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),dr=p(tr,(e=>Object.entries(e).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),hr=p(dr,(e=>{const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];t[n.name]=n}return t})),pr=p(rr,(e=>Object.values(e).filter((e=>e.allow_reference&&0===e.delete_at)))),fr=p(rr,nr,((e,t)=>Object.values(e).filter((e=>e.allow_reference&&0===e.delete_at&&t[e.name])))),mr=p(pr,(e=>{const t=[];return e.forEach((e=>t.push({key:`@${e.name}`}))),t})),gr=p(fr,(e=>{const t=[];return e.forEach((e=>t.push({key:`@${e.name}`}))),t}));p((e=>e.entities.search.current),P,((e,t)=>e[t])),p((e=>e.entities.search.currentFlagged),P,((e,t)=>e[t]));const br=p(M,mr,((e,t)=>e.concat(t)));var vr=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},yr=vr;var xr=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]},_r=xr;var wr=function(e){return function t(r){return 0===arguments.length||_r(r)?t:e.apply(this,arguments)}},Sr=wr,Cr=xr;var Ir=function(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return Cr(r)?t:Sr((function(t){return e(r,t)}));default:return Cr(r)&&Cr(n)?t:Cr(r)?Sr((function(t){return e(t,n)})):Cr(n)?Sr((function(t){return e(r,t)})):e(r,n)}}},Tr=Ir(function(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return yr(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}("forEach",(function(e,t){for(var r=t.length,n=0;n<r;)e(t[n]),n+=1;return t})));var Nr=vr,kr=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]};var Pr=function(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),i=n.pop();if(!Nr(i)){for(var s=0;s<e.length;){if("function"==typeof i[e[s]])return i[e[s]].apply(i,n);s+=1}if(kr(i)){var a=t.apply(null,n);return a(i)}}return r.apply(this,arguments)}};var Mr={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},Er=Ir,Ar=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}},Lr=Mr,Or=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=Lr.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=Ar(this.xf["@@transducer/step"](e,t))),e},e}(),Dr=Ir(Pr(["find"],Er((function(e,t){return new Or(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})));var Rr=function(e){return function(){return!e.apply(this,arguments)}};var qr=function(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i};var jr=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var Ur=vr,Hr=function(e){return"[object String]"===Object.prototype.toString.call(e)},Fr=wr((function(e){return!!Ur(e)||!!e&&("object"==typeof e&&(!Hr(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),Br=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var Vr=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,i){return t.apply(this,arguments)};case 5:return function(e,r,n,i,s){return t.apply(this,arguments)};case 6:return function(e,r,n,i,s,a){return t.apply(this,arguments)};case 7:return function(e,r,n,i,s,a,o){return t.apply(this,arguments)};case 8:return function(e,r,n,i,s,a,o,l){return t.apply(this,arguments)};case 9:return function(e,r,n,i,s,a,o,l,c){return t.apply(this,arguments)};case 10:return function(e,r,n,i,s,a,o,l,c,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}},Gr=Vr,zr=Fr,Wr=function(e){return new Br(e)},Kr=Ir((function(e,t){return Gr(e.length,(function(){return e.apply(t,arguments)}))}));function Zr(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function Xr(e,t,r,n){return e["@@transducer/result"](r[n](Kr(e["@@transducer/step"],e),t))}var Yr="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";var Qr=function(e,t,r){if("function"==typeof e&&(e=Wr(e)),zr(r))return function(e,t,r){for(var n=0,i=r.length;n<i;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"==typeof r["fantasy-land/reduce"])return Xr(e,t,r,"fantasy-land/reduce");if(null!=r[Yr])return Zr(e,t,r[Yr]());if("function"==typeof r.next)return Zr(e,t,r);if("function"==typeof r.reduce)return Xr(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")},$r=Ir,Jr=Mr,en=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Jr.init,e.prototype["@@transducer/result"]=Jr.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),tn=$r((function(e,t){return new en(e,t)}));var rn=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},nn=rn,sn=Object.prototype.toString,an=wr,on=rn,ln=function(){return"[object Arguments]"===sn.call(arguments)?function(e){return"[object Arguments]"===sn.call(e)}:function(e){return nn("callee",e)}}(),cn=!{toString:null}.propertyIsEnumerable("toString"),un=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],dn=function(){return arguments.propertyIsEnumerable("length")}(),hn=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},pn="function"!=typeof Object.keys||dn?an((function(e){if(Object(e)!==e)return[];var t,r,n=[],i=dn&&ln(e);for(t in e)!on(t,e)||i&&"length"===t||(n[n.length]=t);if(cn)for(r=un.length-1;r>=0;)on(t=un[r],e)&&!hn(n,t)&&(n[n.length]=t),r-=1;return n})):an((function(e){return Object(e)!==e?[]:Object.keys(e)})),fn=qr,mn=jr,gn=Qr,bn=pn,vn=Rr,yn=Ir(Pr(["filter"],tn,(function(e,t){return mn(t)?gn((function(r,n){return e(t[n])&&(r[n]=t[n]),r}),{},bn(t)):fn(e,t)}))),xn=Ir((function(e,t){return yn(vn(e),t)}));var _n=function(e,t){var r;t=t||[];var n=(e=e||[]).length,i=t.length,s=[];for(r=0;r<n;)s[s.length]=e[r],r+=1;for(r=0;r<i;)s[s.length]=t[r],r+=1;return s},wn=Vr,Sn=xr;var Cn=Vr,In=wr,Tn=function e(t,r,n){return function(){for(var i=[],s=0,a=t,o=0;o<r.length||s<arguments.length;){var l;o<r.length&&(!Sn(r[o])||s>=arguments.length)?l=r[o]:(l=arguments[s],s+=1),i[o]=l,Sn(l)||(a-=1),o+=1}return a<=0?n.apply(this,i):wn(a,e(t,i,n))}},Nn=Ir((function(e,t){return 1===e?In(t):Cn(e,Tn(e,[],t))})),kn=_n,Pn=Nn,Mn=wr((function(e){return Pn(e.length,(function(){var t=0,r=arguments[0],n=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=r.apply(this,kn(arguments,[t,n]));return t+=1,e},e.apply(this,i)}))}));var En=function(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i},An=Ir,Ln=Mr,On=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Ln.init,e.prototype["@@transducer/result"]=Ln.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Dn=En,Rn=Qr,qn=Nn,jn=pn,Un=Ir(Pr(["fantasy-land/map","map"],An((function(e,t){return new On(e,t)})),(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return qn(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Rn((function(r,n){return r[n]=e(t[n]),r}),{},jn(t));default:return Dn(e,t)}}))),Hn={},Fn={},Bn={},Vn={},Gn=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});var zn=Gn({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),Wn=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};Vn.default=function(e){return e>=55296&&e<=57343||e>1114111?"�":(e in zn.default&&(e=zn.default[e]),Wn(e))};var Kn={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"};var Zn={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"};var Xn={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},Yn=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0});var Qn=Yn(Vn),$n=Yn(Kn),Jn=Yn(Zn),ei=Yn(Xn);function ti(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function ri(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function ni(e,t,r){var n=e.toLowerCase();return e===n?function(e,i){i===n?e._state=t:(e._state=r,e._index--)}:function(i,s){s===n||s===e?i._state=t:(i._state=r,i._index--)}}function ii(e,t){var r=e.toLowerCase();return function(n,i){i===r||i===e?n._state=t:(n._state=3,n._index--)}}var si=ni("C",24,16),ai=ni("D",25,16),oi=ni("A",26,16),li=ni("T",27,16),ci=ni("A",28,16),ui=ii("R",35),di=ii("I",36),hi=ii("P",37),pi=ii("T",38),fi=ni("R",40,1),mi=ni("I",41,1),gi=ni("P",42,1),bi=ni("T",43,1),vi=ii("Y",45),yi=ii("L",46),xi=ii("E",47),_i=ni("Y",49,1),wi=ni("L",50,1),Si=ni("E",51,1),Ci=ii("I",54),Ii=ii("T",55),Ti=ii("L",56),Ni=ii("E",57),ki=ni("I",58,1),Pi=ni("T",59,1),Mi=ni("L",60,1),Ei=ni("E",61,1),Ai=ni("#",63,64),Li=ni("X",66,65),Oi=function(){function e(e,t){var r;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null==e?void 0:e.xmlMode),this.decodeEntities=null===(r=null==e?void 0:e.decodeEntities)||void 0===r||r}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||ti(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):ri(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||ti(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){ti(e)||(">"===e?this._state=1:1!==this.special?"s"===e||"S"===e?this._state=33:"t"===e||"T"===e?this._state=53:(this._state=1,this._index--):ri(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||ti(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:ti(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):ti(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||ti(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):ti(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):ti(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){ti(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||ti(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||ti(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?ei.default:$n.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var r=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(Jn.default,r))return this.emitPartial(Jn.default[r]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!ri(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(Jn.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,r){var n=this.sectionStart+e;if(n!==this._index){var i=this.buffer.substring(n,this._index),s=parseInt(i,t);this.emitPartial(Qn.default(s)),this.sectionStart=r?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?ki(this,e):39===this._state?fi(this,e):40===this._state?mi(this,e):41===this._state?gi(this,e):34===this._state?ui(this,e):35===this._state?di(this,e):36===this._state?hi(this,e):37===this._state?pi(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?bi(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?vi(this,e):29===this._state?this.stateInCdata(e):45===this._state?yi(this,e):46===this._state?xi(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?_i(this,e):49===this._state?wi(this,e):50===this._state?Si(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?Ci(this,e):54===this._state?Ii(this,e):55===this._state?Ti(this,e):56===this._state?Ni(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?Pi(this,e):59===this._state?Mi(this,e):60===this._state?Ei(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?si(this,e):62===this._state?Ai(this,e):24===this._state?ai(this,e):25===this._state?oi(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?li(this,e):27===this._state?ci(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?Li(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();Bn.default=Oi;var Di=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Parser=void 0;var Ri=Di(Bn),qi=new Set(["input","option","optgroup","select","button","datalist","textarea"]),ji=new Set(["p"]),Ui={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:ji,h1:ji,h2:ji,h3:ji,h4:ji,h5:ji,h6:ji,select:qi,input:qi,output:qi,button:qi,datalist:qi,textarea:qi,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:ji,article:ji,aside:ji,blockquote:ji,details:ji,div:ji,dl:ji,fieldset:ji,figcaption:ji,figure:ji,footer:ji,form:ji,header:ji,hr:ji,main:ji,nav:ji,ol:ji,pre:ji,section:ji,table:ji,ul:ji,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},Hi=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Fi=new Set(["math","svg"]),Bi=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Vi=/\s|\//,Gi=function(){function e(e,t){var r,n,i,s,a;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(r=t.lowerCaseTags)&&void 0!==r?r:!t.xmlMode,this.lowerCaseAttributeNames=null!==(n=t.lowerCaseAttributeNames)&&void 0!==n?n:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:Ri.default)(this.options,this),null===(a=(s=this.cbs).onparserinit)||void 0===a||a.call(s,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,r;this.updatePosition(1),this.endIndex--,null===(r=(t=this.cbs).ontext)||void 0===r||r.call(t,e)},e.prototype.onopentagname=function(e){var t,r;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(Ui,e))for(var n=void 0;this.stack.length>0&&Ui[e].has(n=this.stack[this.stack.length-1]);)this.onclosetag(n);!this.options.xmlMode&&Hi.has(e)||(this.stack.push(e),Fi.has(e)?this.foreignContext.push(!0):Bi.has(e)&&this.foreignContext.push(!1)),null===(r=(t=this.cbs).onopentagname)||void 0===r||r.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&Hi.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(Fi.has(e)||Bi.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&Hi.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,r=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===r&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,r),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,r;null===(r=(t=this.cbs).onattribute)||void 0===r||r.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(Vi),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,r,n,i;this.updatePosition(4),null===(r=(t=this.cbs).oncomment)||void 0===r||r.call(t,e),null===(i=(n=this.cbs).oncommentend)||void 0===i||i.call(n)},e.prototype.oncdata=function(e){var t,r,n,i,s,a;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(r=(t=this.cbs).oncdatastart)||void 0===r||r.call(t),null===(i=(n=this.cbs).ontext)||void 0===i||i.call(n,e),null===(a=(s=this.cbs).oncdataend)||void 0===a||a.call(s)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,r;null===(r=(t=this.cbs).onerror)||void 0===r||r.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,r,n;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(n=(r=this.cbs).onparserinit)||void 0===n||n.call(r,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();Fn.Parser=Gi;var zi,Wi={},Ki={},Zi=f&&f.__extends||(zi=function(e,t){return(zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}zi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Xi=f&&f.__assign||function(){return(Xi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.cloneNode=Ki.Element=Ki.NodeWithChildren=Ki.ProcessingInstruction=Ki.Comment=Ki.Text=Ki.DataNode=Ki.Node=void 0;var Yi=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),Qi=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=Yi.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),is(this,e)},e}();Ki.Node=Qi;var $i=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return Zi(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(Qi);Ki.DataNode=$i;var Ji=function(e){function t(t){return e.call(this,"text",t)||this}return Zi(t,e),t}($i);Ki.Text=Ji;var es=function(e){function t(t){return e.call(this,"comment",t)||this}return Zi(t,e),t}($i);Ki.Comment=es;var ts=function(e){function t(t,r){var n=e.call(this,"directive",r)||this;return n.name=t,n}return Zi(t,e),t}($i);Ki.ProcessingInstruction=ts;var rs=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return Zi(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(Qi);Ki.NodeWithChildren=rs;var ns=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,"script"===t?"script":"style"===t?"style":"tag",n)||this;return i.name=t,i.attribs=r,i.attribs=r,i}return Zi(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){return{name:t,value:e.attribs[t]}}))},enumerable:!1,configurable:!0}),t}(rs);function is(e,t){switch(void 0===t&&(t=!1),e.type){case"text":return new Ji(e.data);case"directive":var r=e;return new ts(r.name,r.data);case"comment":return new es(e.data);case"tag":case"script":case"style":var n=e,i=t?ss(n.children):[],s=new ns(n.name,Xi({},n.attribs),i);return i.forEach((function(e){return e.parent=s})),s;case"cdata":i=t?ss(e.children):[];var a=new rs("cdata",i);return i.forEach((function(e){return e.parent=a})),a;case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}function ss(e){for(var t=e.map((function(e){return is(e,!0)})),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}Ki.Element=ns,Ki.cloneNode=is,function(e){var t=f&&f.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=f&&f.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Ki;r(Ki,e);var i=/\s+/g,s={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},a=function(){function e(e,t,r){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof t&&(r=t,t=s),"object"==typeof e&&(t=e,e=void 0),this._callback=null!=e?e:null,this._options=null!=t?t:s,this._elementCB=null!=r?r:null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){var e;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null!==(e=this._parser)&&void 0!==e?e:null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var r=new n.Element(e,t);this.addNode(r),this._tagStack.push(r)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,r=this._lastNode;if(r&&"text"===r.type)t?r.data=(r.data+e).replace(i," "):r.data+=e;else{t&&(e=e.replace(i," "));var s=new n.Text(e);this.addNode(s),this._lastNode=s}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=e;else{var t=new n.Comment(e);this.addNode(t),this._lastNode=t}},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new n.Text(""),t=new n.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new n.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],r=t?t.children:this.dom,n=r[r.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),r.push(e),n&&(e.prev=n,n.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();e.DomHandler=a,e.default=a}(Wi);var as,os,ls,cs={};as=cs,Object.defineProperty(as,"__esModule",{value:!0}),as.Doctype=as.CDATA=as.Tag=as.Style=as.Script=as.Comment=as.Directive=as.Text=as.Root=as.isTag=as.ElementType=void 0,(ls=os=as.ElementType||(as.ElementType={})).Root="root",ls.Text="text",ls.Directive="directive",ls.Comment="comment",ls.Script="script",ls.Style="style",ls.Tag="tag",ls.CDATA="cdata",ls.Doctype="doctype",as.isTag=function(e){return e.type===os.Tag||e.type===os.Script||e.type===os.Style},as.Root=os.Root,as.Text=os.Text,as.Directive=os.Directive,as.Comment=os.Comment,as.Script=os.Script,as.Style=os.Style,as.Tag=os.Tag,as.CDATA=os.CDATA,as.Doctype=os.Doctype;var us={},ds={},hs={},ps={},fs={},ms=f&&f.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gs=f&&f.__assign||function(){return(gs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(fs,"__esModule",{value:!0}),fs.cloneNode=fs.hasChildren=fs.isDocument=fs.isDirective=fs.isComment=fs.isText=fs.isCDATA=fs.isTag=fs.Element=fs.Document=fs.NodeWithChildren=fs.ProcessingInstruction=fs.Comment=fs.Text=fs.DataNode=fs.Node=void 0;var bs=cs,vs=new Map([[bs.ElementType.Tag,1],[bs.ElementType.Script,1],[bs.ElementType.Style,1],[bs.ElementType.Directive,1],[bs.ElementType.Text,3],[bs.ElementType.CDATA,4],[bs.ElementType.Comment,8],[bs.ElementType.Root,9]]),ys=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=vs.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),Ls(this,e)},e}();fs.Node=ys;var xs=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return ms(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(ys);fs.DataNode=xs;var _s=function(e){function t(t){return e.call(this,bs.ElementType.Text,t)||this}return ms(t,e),t}(xs);fs.Text=_s;var ws=function(e){function t(t){return e.call(this,bs.ElementType.Comment,t)||this}return ms(t,e),t}(xs);fs.Comment=ws;var Ss=function(e){function t(t,r){var n=e.call(this,bs.ElementType.Directive,r)||this;return n.name=t,n}return ms(t,e),t}(xs);fs.ProcessingInstruction=Ss;var Cs=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return ms(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(ys);fs.NodeWithChildren=Cs;var Is=function(e){function t(t){return e.call(this,bs.ElementType.Root,t)||this}return ms(t,e),t}(Cs);fs.Document=Is;var Ts=function(e){function t(t,r,n,i){void 0===n&&(n=[]),void 0===i&&(i="script"===t?bs.ElementType.Script:"style"===t?bs.ElementType.Style:bs.ElementType.Tag);var s=e.call(this,i,n)||this;return s.name=t,s.attribs=r,s}return ms(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var r,n;return{name:t,value:e.attribs[t],namespace:null===(r=e["x-attribsNamespace"])||void 0===r?void 0:r[t],prefix:null===(n=e["x-attribsPrefix"])||void 0===n?void 0:n[t]}}))},enumerable:!1,configurable:!0}),t}(Cs);function Ns(e){return(0,bs.isTag)(e)}function ks(e){return e.type===bs.ElementType.CDATA}function Ps(e){return e.type===bs.ElementType.Text}function Ms(e){return e.type===bs.ElementType.Comment}function Es(e){return e.type===bs.ElementType.Directive}function As(e){return e.type===bs.ElementType.Root}function Ls(e,t){var r;if(void 0===t&&(t=!1),Ps(e))r=new _s(e.data);else if(Ms(e))r=new ws(e.data);else if(Ns(e)){var n=t?Os(e.children):[],i=new Ts(e.name,gs({},e.attribs),n);n.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=gs({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=gs({},e["x-attribsPrefix"])),r=i}else if(ks(e)){n=t?Os(e.children):[];var s=new Cs(bs.ElementType.CDATA,n);n.forEach((function(e){return e.parent=s})),r=s}else if(As(e)){n=t?Os(e.children):[];var a=new Is(n);n.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),r=a}else{if(!Es(e))throw new Error("Not implemented yet: ".concat(e.type));var o=new Ss(e.name,e.data);null!=e["x-name"]&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),r=o}return r.startIndex=e.startIndex,r.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function Os(e){for(var t=e.map((function(e){return Ls(e,!0)})),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}fs.Element=Ts,fs.isTag=Ns,fs.isCDATA=ks,fs.isText=Ps,fs.isComment=Ms,fs.isDirective=Es,fs.isDocument=As,fs.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},fs.cloneNode=Ls,function(e){var t=f&&f.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=f&&f.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=cs,i=fs;r(fs,e);var s=/\s+/g,a={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function e(e,t,r){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(r=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=r?r:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var r=this.options.xmlMode?n.ElementType.Tag:void 0,s=new i.Element(e,t,void 0,r);this.addNode(s),this.tagStack.push(s)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,r=this.lastNode;if(r&&r.type===n.ElementType.Text)t?r.data=(r.data+e).replace(s," "):r.data+=e,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{t&&(e=e.replace(s," "));var a=new i.Text(e);this.addNode(a),this.lastNode=a}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment)this.lastNode.data+=e;else{var t=new i.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new i.Text(""),t=new i.NodeWithChildren(n.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new i.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},e}();e.DomHandler=o,e.default=o}(ps);var Ds={},Rs={},qs={},js=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.decodeHTML=qs.decodeHTMLStrict=qs.decodeXML=void 0;var Us=js(Kn),Hs=js(Zn),Fs=js(Xn),Bs=js(Vn),Vs=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function Gs(e){var t=Ws(e);return function(e){return String(e).replace(Vs,t)}}qs.decodeXML=Gs(Fs.default),qs.decodeHTMLStrict=Gs(Us.default);var zs=function(e,t){return e<t?1:-1};function Ws(e){return function(t){if("#"===t.charAt(1)){var r=t.charAt(2);return"X"===r||"x"===r?Bs.default(parseInt(t.substr(3),16)):Bs.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}qs.decodeHTML=function(){for(var e=Object.keys(Hs.default).sort(zs),t=Object.keys(Us.default).sort(zs),r=0,n=0;r<t.length;r++)e[n]===t[r]?(t[r]+=";?",n++):t[r]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=Ws(Us.default);function a(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(i,a)}}();var Ks={},Zs=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.escapeUTF8=Ks.escape=Ks.encodeNonAsciiHTML=Ks.encodeHTML=Ks.encodeXML=void 0;var Xs=ta(Zs(Xn).default),Ys=ra(Xs);Ks.encodeXML=oa(Xs);var Qs,$s,Js=ta(Zs(Kn).default),ea=ra(Js);function ta(e){return Object.keys(e).sort().reduce((function(t,r){return t[e[r]]="&"+r+";",t}),{})}function ra(e){for(var t=[],r=[],n=0,i=Object.keys(e);n<i.length;n++){var s=i[n];1===s.length?t.push("\\"+s):r.push(s)}t.sort();for(var a=0;a<t.length-1;a++){for(var o=a;o<t.length-1&&t[o].charCodeAt(1)+1===t[o+1].charCodeAt(1);)o+=1;var l=1+o-a;l<3||t.splice(a,l,t[a]+"-"+t[o])}return r.unshift("["+t.join("")+"]"),new RegExp(r.join("|"),"g")}Ks.encodeHTML=(Qs=Js,$s=ea,function(e){return e.replace($s,(function(e){return Qs[e]})).replace(na,sa)}),Ks.encodeNonAsciiHTML=oa(Js);var na=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,ia=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function sa(e){return"&#x"+(e.length>1?ia(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var aa=new RegExp(Ys.source+"|"+na.source,"g");function oa(e){return function(t){return t.replace(aa,(function(t){return e[t]||sa(t)}))}}Ks.escape=function(e){return e.replace(aa,sa)},Ks.escapeUTF8=function(e){return e.replace(Ys,sa)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=qs,r=Ks;e.decode=function(e,r){return(!r||r<=0?t.decodeXML:t.decodeHTML)(e)},e.decodeStrict=function(e,r){return(!r||r<=0?t.decodeXML:t.decodeHTMLStrict)(e)},e.encode=function(e,t){return(!t||t<=0?r.encodeXML:r.encodeHTML)(e)};var n=Ks;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return n.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return n.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return n.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return n.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return n.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return n.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return n.encodeHTML}});var i=qs;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return i.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return i.decodeXML}})}(Rs);var la={};Object.defineProperty(la,"__esModule",{value:!0}),la.attributeNames=la.elementNames=void 0,la.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),la.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]]);var ca=f&&f.__assign||function(){return(ca=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ua=f&&f.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),da=f&&f.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ha=f&&f.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&ua(t,e,r);return da(t,e),t};Object.defineProperty(Ds,"__esModule",{value:!0});var pa=ha(cs),fa=Rs,ma=la,ga=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var ba=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function va(e,t){void 0===t&&(t={});for(var r=("length"in e?e:[e]),n="",i=0;i<r.length;i++)n+=ya(r[i],t);return n}function ya(e,t){switch(e.type){case pa.Root:return va(e.children,t);case pa.Directive:case pa.Doctype:return"<"+e.data+">";case pa.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case pa.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case pa.Script:case pa.Style:case pa.Tag:return function(e,t){var r;"foreign"===t.xmlMode&&(e.name=null!==(r=ma.elementNames.get(e.name))&&void 0!==r?r:e.name,e.parent&&xa.has(e.parent.name)&&(t=ca(ca({},t),{xmlMode:!1})));!t.xmlMode&&_a.has(e.name)&&(t=ca(ca({},t),{xmlMode:"foreign"}));var n="<"+e.name,i=function(e,t){if(e)return Object.keys(e).map((function(r){var n,i,s=null!==(n=e[r])&&void 0!==n?n:"";return"foreign"===t.xmlMode&&(r=null!==(i=ma.attributeNames.get(r))&&void 0!==i?i:r),t.emptyAttrs||t.xmlMode||""!==s?r+'="'+(!1!==t.decodeEntities?fa.encodeXML(s):s.replace(/"/g,"&quot;"))+'"':r})).join(" ")}(e.attribs,t);i&&(n+=" "+i);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&ba.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=va(e.children,t)),!t.xmlMode&&ba.has(e.name)||(n+="</"+e.name+">"));return n}(e,t);case pa.Text:return function(e,t){var r=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&ga.has(e.parent.name)||(r=fa.encodeXML(r));return r}(e,t)}}Ds.default=va;var xa=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_a=new Set(["svg","math"]);var wa=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0}),hs.innerText=hs.textContent=hs.getText=hs.getInnerHTML=hs.getOuterHTML=void 0;var Sa=ps,Ca=wa(Ds),Ia=cs;function Ta(e,t){return(0,Ca.default)(e,t)}hs.getOuterHTML=Ta,hs.getInnerHTML=function(e,t){return(0,Sa.hasChildren)(e)?e.children.map((function(e){return Ta(e,t)})).join(""):""},hs.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,Sa.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,Sa.isCDATA)(t)?e(t.children):(0,Sa.isText)(t)?t.data:""},hs.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,Sa.hasChildren)(t)&&!(0,Sa.isComment)(t)?e(t.children):(0,Sa.isText)(t)?t.data:""},hs.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,Sa.hasChildren)(t)&&(t.type===Ia.ElementType.Tag||(0,Sa.isCDATA)(t))?e(t.children):(0,Sa.isText)(t)?t.data:""};var Na={};Object.defineProperty(Na,"__esModule",{value:!0}),Na.prevElementSibling=Na.nextElementSibling=Na.getName=Na.hasAttrib=Na.getAttributeValue=Na.getSiblings=Na.getParent=Na.getChildren=void 0;var ka=ps,Pa=[];function Ma(e){var t;return null!==(t=e.children)&&void 0!==t?t:Pa}function Ea(e){return e.parent||null}Na.getChildren=Ma,Na.getParent=Ea,Na.getSiblings=function(e){var t=Ea(e);if(null!=t)return Ma(t);for(var r=[e],n=e.prev,i=e.next;null!=n;)r.unshift(n),n=n.prev;for(;null!=i;)r.push(i),i=i.next;return r},Na.getAttributeValue=function(e,t){var r;return null===(r=e.attribs)||void 0===r?void 0:r[t]},Na.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},Na.getName=function(e){return e.name},Na.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,ka.isTag)(t);)t=t.next;return t},Na.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,ka.isTag)(t);)t=t.prev;return t};var Aa={};function La(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.prepend=Aa.prependChild=Aa.append=Aa.appendChild=Aa.replaceElement=Aa.removeElement=void 0,Aa.removeElement=La,Aa.replaceElement=function(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var i=t.parent=e.parent;if(i){var s=i.children;s[s.lastIndexOf(e)]=t}},Aa.appendChild=function(e,t){if(La(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null},Aa.append=function(e,t){La(t);var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var i=r.children;i.splice(i.lastIndexOf(n),0,t)}}else r&&r.children.push(t)},Aa.prependChild=function(e,t){if(La(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var r=e.children[1];r.prev=t,t.next=r}else t.next=null},Aa.prepend=function(e,t){La(t);var r=e.parent;if(r){var n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t};var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.findAll=Oa.existsOne=Oa.findOne=Oa.findOneChild=Oa.find=Oa.filter=void 0;var Da=ps;function Ra(e,t,r,n){for(var i=[],s=0,a=t;s<a.length;s++){var o=a[s];if(e(o)&&(i.push(o),--n<=0))break;if(r&&(0,Da.hasChildren)(o)&&o.children.length>0){var l=Ra(e,o.children,r,n);if(i.push.apply(i,l),(n-=l.length)<=0)break}}return i}Oa.filter=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),Array.isArray(t)||(t=[t]),Ra(e,t,r,n)},Oa.find=Ra,Oa.findOneChild=function(e,t){return t.find(e)},Oa.findOne=function e(t,r,n){void 0===n&&(n=!0);for(var i=null,s=0;s<r.length&&!i;s++){var a=r[s];(0,Da.isTag)(a)&&(t(a)?i=a:n&&a.children.length>0&&(i=e(t,a.children)))}return i},Oa.existsOne=function e(t,r){return r.some((function(r){return(0,Da.isTag)(r)&&(t(r)||r.children.length>0&&e(t,r.children))}))},Oa.findAll=function(e,t){for(var r,n,i=[],s=t.filter(Da.isTag);n=s.shift();){var a=null===(r=n.children)||void 0===r?void 0:r.filter(Da.isTag);a&&a.length>0&&s.unshift.apply(s,a),e(n)&&i.push(n)}return i};var qa={};Object.defineProperty(qa,"__esModule",{value:!0}),qa.getElementsByTagType=qa.getElementsByTagName=qa.getElementById=qa.getElements=qa.testElement=void 0;var ja=ps,Ua=Oa,Ha={tag_name:function(e){return"function"==typeof e?function(t){return(0,ja.isTag)(t)&&e(t.name)}:"*"===e?ja.isTag:function(t){return(0,ja.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,ja.isText)(t)&&e(t.data)}:function(t){return(0,ja.isText)(t)&&t.data===e}}};function Fa(e,t){return"function"==typeof t?function(r){return(0,ja.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,ja.isTag)(r)&&r.attribs[e]===t}}function Ba(e,t){return function(r){return e(r)||t(r)}}function Va(e){var t=Object.keys(e).map((function(t){var r=e[t];return Object.prototype.hasOwnProperty.call(Ha,t)?Ha[t](r):Fa(t,r)}));return 0===t.length?null:t.reduce(Ba)}qa.testElement=function(e,t){var r=Va(e);return!r||r(t)},qa.getElements=function(e,t,r,n){void 0===n&&(n=1/0);var i=Va(e);return i?(0,Ua.filter)(i,t,r,n):[]},qa.getElementById=function(e,t,r){return void 0===r&&(r=!0),Array.isArray(t)||(t=[t]),(0,Ua.findOne)(Fa("id",e),t,r)},qa.getElementsByTagName=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),(0,Ua.filter)(Ha.tag_name(e),t,r,n)},qa.getElementsByTagType=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),(0,Ua.filter)(Ha.tag_type(e),t,r,n)};var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.uniqueSort=Ga.compareDocumentPosition=Ga.removeSubsets=void 0;var za=ps;function Wa(e,t){var r=[],n=[];if(e===t)return 0;for(var i=(0,za.hasChildren)(e)?e:e.parent;i;)r.unshift(i),i=i.parent;for(i=(0,za.hasChildren)(t)?t:t.parent;i;)n.unshift(i),i=i.parent;for(var s=Math.min(r.length,n.length),a=0;a<s&&r[a]===n[a];)a++;if(0===a)return 1;var o=r[a-1],l=o.children,c=r[a],u=n[a];return l.indexOf(c)>l.indexOf(u)?o===t?20:4:o===e?10:2}Ga.removeSubsets=function(e){for(var t=e.length;--t>=0;){var r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0)e.splice(t,1);else for(var n=r.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e},Ga.compareDocumentPosition=Wa,Ga.uniqueSort=function(e){return(e=e.filter((function(e,t,r){return!r.includes(e,t+1)}))).sort((function(e,t){var r=Wa(e,t);return 2&r?-1:4&r?1:0})),e};var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.getFeed=void 0;var Za=hs,Xa=qa;Ka.getFeed=function(e){var t=Ja(ro,e);return t?"feed"===t.name?function(e){var t,r=e.children,n={type:"atom",items:(0,Xa.getElementsByTagName)("entry",r).map((function(e){var t,r=e.children,n={media:$a(r)};to(n,"id","id",r),to(n,"title","title",r);var i=null===(t=Ja("link",r))||void 0===t?void 0:t.attribs.href;i&&(n.link=i);var s=eo("summary",r)||eo("content",r);s&&(n.description=s);var a=eo("updated",r);return a&&(n.pubDate=new Date(a)),n}))};to(n,"id","id",r),to(n,"title","title",r);var i=null===(t=Ja("link",r))||void 0===t?void 0:t.attribs.href;i&&(n.link=i);to(n,"description","subtitle",r);var s=eo("updated",r);s&&(n.updated=new Date(s));return to(n,"author","email",r,!0),n}(t):function(e){var t,r,n=null!==(r=null===(t=Ja("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==r?r:[],i={type:e.name.substr(0,3),id:"",items:(0,Xa.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,r={media:$a(t)};to(r,"id","guid",t),to(r,"title","title",t),to(r,"link","link",t),to(r,"description","description",t);var n=eo("pubDate",t);return n&&(r.pubDate=new Date(n)),r}))};to(i,"title","title",n),to(i,"link","link",n),to(i,"description","description",n);var s=eo("lastBuildDate",n);s&&(i.updated=new Date(s));return to(i,"author","managingEditor",n,!0),i}(t):null};var Ya=["url","type","lang"],Qa=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function $a(e){return(0,Xa.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},n=0,i=Ya;n<i.length;n++){t[o=i[n]]&&(r[o]=t[o])}for(var s=0,a=Qa;s<a.length;s++){var o;t[o=a[s]]&&(r[o]=parseInt(t[o],10))}return t.expression&&(r.expression=t.expression),r}))}function Ja(e,t){return(0,Xa.getElementsByTagName)(e,t,!0,1)[0]}function eo(e,t,r){return void 0===r&&(r=!1),(0,Za.textContent)((0,Xa.getElementsByTagName)(e,t,r,1)).trim()}function to(e,t,r,n,i){void 0===i&&(i=!1);var s=eo(r,n,i);s&&(e[t]=s)}function ro(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}!function(e){var t=f&&f.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=f&&f.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(hs,e),r(Na,e),r(Aa,e),r(Oa,e),r(qa,e),r(Ga,e),r(Ka,e);var n=ps;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(ds);var no=f&&f.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),io=f&&f.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),so=f&&f.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ao=f&&f.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&io(t,e,r);return so(t,e),t},oo=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0}),us.parseFeed=us.FeedHandler=void 0;var lo,co,uo,ho,po=oo(Wi),fo=ao(ds),mo=Fn;(co=lo||(lo={}))[co.image=0]="image",co[co.audio=1]="audio",co[co.video=2]="video",co[co.document=3]="document",co[co.executable=4]="executable",(ho=uo||(uo={}))[ho.sample=0]="sample",ho[ho.full=1]="full",ho[ho.nonstop=2]="nonstop";var go=function(e){function t(t,r){return"object"==typeof t&&(r=t=void 0),e.call(this,t,r)||this}return no(t,e),t.prototype.onend=function(){var e,t,r={},n=yo(So,this.dom);if(n)if("feed"===n.name){var i=n.children;r.type="atom",wo(r,"id","id",i),wo(r,"title","title",i);var s=_o("href",yo("link",i));s&&(r.link=s),wo(r,"description","subtitle",i),(a=xo("updated",i))&&(r.updated=new Date(a)),wo(r,"author","email",i,!0),r.items=vo("entry",i).map((function(e){var t={},r=e.children;wo(t,"id","id",r),wo(t,"title","title",r);var n=_o("href",yo("link",r));n&&(t.link=n);var i=xo("summary",r)||xo("content",r);i&&(t.description=i);var s=xo("updated",r);return s&&(t.pubDate=new Date(s)),t.media=bo(r),t}))}else{var a;i=null!==(t=null===(e=yo("channel",n.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];r.type=n.name.substr(0,3),r.id="",wo(r,"title","title",i),wo(r,"link","link",i),wo(r,"description","description",i),(a=xo("lastBuildDate",i))&&(r.updated=new Date(a)),wo(r,"author","managingEditor",i,!0),r.items=vo("item",n.children).map((function(e){var t={},r=e.children;wo(t,"id","guid",r),wo(t,"title","title",r),wo(t,"link","link",r),wo(t,"description","description",r);var n=xo("pubDate",r);return n&&(t.pubDate=new Date(n)),t.media=bo(r),t}))}this.feed=r,this.handleCallback(n?null:Error("couldn't find root of feed"))},t}(po.default);function bo(e){return vo("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function vo(e,t){return fo.getElementsByTagName(e,t,!0)}function yo(e,t){return fo.getElementsByTagName(e,t,!0,1)[0]}function xo(e,t,r){return void 0===r&&(r=!1),fo.getText(fo.getElementsByTagName(e,t,r,1)).trim()}function _o(e,t){return t?t.attribs[e]:null}function wo(e,t,r,n,i){void 0===i&&(i=!1);var s=xo(r,n,i);s&&(e[t]=s)}function So(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}us.FeedHandler=go;var Co={xmlMode:!0};us.parseFeed=function(e,t){void 0===t&&(t=Co);var r=new go(t);return new mo.Parser(r,t).end(e),r.feed},function(e){var t=f&&f.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=f&&f.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=f&&f.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=f&&f.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)},s=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.RssHandler=e.DefaultHandler=e.DomUtils=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.DomHandler=e.Parser=void 0;var a=Fn;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=Wi;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return o.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return o.DomHandler}}),e.parseDOM=function(e,t){var r=new o.DomHandler(void 0,t);return new a.Parser(r,t).end(e),r.dom},e.createDomStream=function(e,t,r){var n=new o.DomHandler(e,t,r);return new a.Parser(n,t)};var l=Bn;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return s(l).default}});var c=n(cs);e.ElementType=c,i(us,e),e.DomUtils=n(ds);var u=us;Object.defineProperty(e,"RssHandler",{enumerable:!0,get:function(){return u.FeedHandler}})}(Hn);var Io={shouldProcessEveryNode:function(e){return!0}},To=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,No=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ko="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Po="[\\ud800-\\udfff]",Mo="["+ko+"]",Eo="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Ao="\\d+",Lo="[\\u2700-\\u27bf]",Oo="[a-z\\xdf-\\xf6\\xf8-\\xff]",Do="[^\\ud800-\\udfff"+ko+Ao+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ro="\\ud83c[\\udffb-\\udfff]",qo="[^\\ud800-\\udfff]",jo="(?:\\ud83c[\\udde6-\\uddff]){2}",Uo="[\\ud800-\\udbff][\\udc00-\\udfff]",Ho="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Fo="(?:"+Oo+"|"+Do+")",Bo="(?:"+Ho+"|"+Do+")",Vo="(?:"+Eo+"|"+Ro+")"+"?",Go="[\\ufe0e\\ufe0f]?"+Vo+("(?:\\u200d(?:"+[qo,jo,Uo].join("|")+")[\\ufe0e\\ufe0f]?"+Vo+")*"),zo="(?:"+[Lo,jo,Uo].join("|")+")"+Go,Wo="(?:"+[qo+Eo+"?",Eo,jo,Uo,Po].join("|")+")",Ko=RegExp("['’]","g"),Zo=RegExp(Eo,"g"),Xo=RegExp(Ro+"(?="+Ro+")|"+Wo+Go,"g"),Yo=RegExp([Ho+"?"+Oo+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Mo,Ho,"$"].join("|")+")",Bo+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Mo,Ho+Fo,"$"].join("|")+")",Ho+"?"+Fo+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ho+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",Ao,zo].join("|"),"g"),Qo=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),$o=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jo="object"==typeof f&&f&&f.Object===Object&&f,el="object"==typeof self&&self&&self.Object===Object&&self,tl=Jo||el||Function("return this")();var rl,nl=(rl={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==rl?void 0:rl[e]});function il(e){return Qo.test(e)}function sl(e){return il(e)?function(e){return e.match(Xo)||[]}(e):function(e){return e.split("")}(e)}var al=Object.prototype.toString,ol=tl.Symbol,ll=ol?ol.prototype:void 0,cl=ll?ll.toString:void 0;function ul(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==al.call(e)}(e))return cl?cl.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function dl(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}(e,t,r)}function hl(e){return null==e?"":ul(e)}var pl,fl=(pl=function(e,t,r){return t=t.toLowerCase(),e+(r?gl(hl(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}(function(e,t,r){return e=hl(e),void 0===(t=r?void 0:t)?function(e){return $o.test(e)}(e)?function(e){return e.match(Yo)||[]}(e):function(e){return e.match(To)||[]}(e):e.match(t)||[]}(function(e){return(e=hl(e))&&e.replace(No,nl).replace(Zo,"")}(e).replace(Ko,"")),pl,"")});var ml,gl=(ml="toUpperCase",function(e){var t=il(e=hl(e))?sl(e):void 0,r=t?t[0]:e.charAt(0),n=t?dl(t,1).join(""):e.slice(1);return r[ml]()+n});var bl=fl,vl=rn,yl=wr((function(e){var t=[];for(var r in e)vl(r,e)&&(t[t.length]=[r,e[r]]);return t})),xl=wr,_l=Ir,wl=xr;var Sl=function(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return wl(r)?t:_l((function(t,n){return e(r,t,n)}));case 2:return wl(r)&&wl(n)?t:wl(r)?_l((function(t,r){return e(t,n,r)})):wl(n)?_l((function(t,n){return e(r,t,n)})):xl((function(t){return e(r,n,t)}));default:return wl(r)&&wl(n)&&wl(i)?t:wl(r)&&wl(n)?_l((function(t,r){return e(t,r,i)})):wl(r)&&wl(i)?_l((function(t,r){return e(t,n,r)})):wl(n)&&wl(i)?_l((function(t,n){return e(r,t,n)})):wl(r)?xl((function(t){return e(t,n,i)})):wl(n)?xl((function(t){return e(r,t,i)})):wl(i)?xl((function(t){return e(r,n,t)})):e(r,n,i)}}}(Qr);var Cl=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r};var Il=function(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1};var Tl=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]};var Nl="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},kl=Cl,Pl=Il,Ml=Tl,El=rn,Al=Nl,Ll=pn,Ol=wr((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function Dl(e,t,r,n){var i=kl(e),s=kl(t);function a(e,t){return Rl(e,t,r.slice(),n.slice())}return!Pl((function(e,t){return!Pl(a,t,e)}),s,i)}function Rl(e,t,r,n){if(Al(e,t))return!0;var i=Ol(e);if(i!==Ol(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===Ml(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Al(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Al(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var s=r.length-1;s>=0;){if(r[s]===e)return n[s]===t;s-=1}switch(i){case"Map":return e.size===t.size&&Dl(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&Dl(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Ll(e);if(a.length!==Ll(t).length)return!1;var o=r.concat([e]),l=n.concat([t]);for(s=a.length-1;s>=0;){var c=a[s];if(!El(c,t)||!Rl(t[c],e[c],o,l))return!1;s-=1}return!0}var ql=Rl,jl=Ir((function(e,t){return ql(e,t,[],[])}));var Ul=function(e,t,r){var n,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(i=e[r])&&1/i===n)return r;r+=1}return-1}if(t!=t){for(;r<e.length;){if("number"==typeof(i=e[r])&&i!=i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(jl(e[r],t))return r;r+=1}return-1};var Hl=Ir((function(e,t){return Ul(t,e,0)>=0})),Fl=["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","classID","className","colSpan","cols","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","nonce","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","rel","required","reversed","role","rowSpan","rows","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","target","title","type","useMap","value","width","wmode","wrap","onClick"].concat(["autoCapitalize","autoCorrect","color","itemProp","itemScope","itemType","itemRef","itemID","security","unselectable","results","autoSave"]).concat(["accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","x1","x2","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlns","xmlnsXlink","xmlBase","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan"]).reduce((function(e,t){var r=t.toLowerCase();return r!==t&&(e[r]=t),e}),{}),Bl=bl,Vl=yl,Gl=Sl,zl=d.exports,Wl=Hl,Kl=Fl;var Zl=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","truespeed"];var Xl={createElement:function(e,t,r,n){var i={key:t};e.attribs&&(i=Gl((function(e,t){var r=t[0],n=t[1];return"style"===(r=Kl[r.replace(/[-:]/,"")]||r)?n=function(e){for(var t,r,n,i=(e=e||"").split(/;(?!base64)/),s={},a=0;a<i.length;++a)(t=i[a].split(":")).length>2&&(t[1]=t.slice(1).join(":")),r=t[0],"string"==typeof(n=t[1])&&(n=n.trim()),null!=r&&null!=n&&r.length>0&&n.length>0&&(s[Bl(r)]=n);return s}(n):"class"===r?r="className":"for"===r&&(r="htmlFor"),Wl(r,Zl)&&""===(n||"")&&(n=r),e[r]=n,e}),i,Vl(e.attribs))),n=n||[];var s=null!=r?[r].concat(n):n;return zl.createElement.apply(null,[e.name,i].concat(s))}},Yl=Xl,Ql=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","menuitem","textarea"];var $l=function(){return{processDefaultNode:function(e,t,r){return"text"===e.type?e.data:"comment"!==e.type&&(Ql.indexOf(e.name)>-1?Yl.createElement(e,r):Yl.createElement(e,r,e.data,t))}}},Jl=Io,ec=$l;var tc=function(){var e=new ec;return{defaultProcessingInstructions:[{shouldProcessNode:Jl.shouldProcessEveryNode,processNode:e.processDefaultNode}]}};var rc={alwaysValid:function(){return!0}},nc=Tr,ic=Dr,sc=xn,ac=Mn,oc=Un,lc=Hn.Parser,cc=Wi.DomHandler,uc=tc,dc=rc,hc=Xl;var pc={Parser:function(e){function t(e,r,n,i,s){if(r(e)){nc((function(t){t.shouldPreprocessNode(e)&&t.preprocessNode(e,s)}),i||[]);var a=ic((function(t){return t.shouldProcessNode(e)}),n||[]);if(null!=a){var o=sc((function(e){return null==e||!1===e}),ac(oc)((function(e,s){return t(e,r,n,i,s)}),e.children||[]));return a.replaceChildren?hc.createElement(e,s,e.data,[a.processNode(e,o,s)]):a.processNode(e,o,s)}return!1}return!1}function r(r,n,i,s){var a=function(t){(e=e||{}).decodeEntities=!0;var r=new cc;return new lc(r,e).parseComplete(t),r.dom.filter((function(e){return"directive"!==e.type}))}(r).map((function(e,r){return t(e,n,i,s,r)}));return a.length<=1?a[0]:a}return{parse:function(e){var t=new uc;return r(e,dc.alwaysValid,t.defaultProcessingInstructions)},parseWithInstructions:r}},ProcessingInstructions:tc,IsValidNodeDefinitions:rc,ProcessNodeDefinitions:$l};class fc extends h.PureComponent{constructor(e){super(e),u(this,"handleClick",(e=>{})),u(this,"hideOverlay",(()=>{this.setState({show:!1})})),this.state={show:!1},this.overlayRef=h.createRef()}getUserFromMentionName(){const{usersByUsername:e,mentionName:t}=this.props;let r=t.toLowerCase();for(;r.length>0;){if(e.hasOwnProperty(r))return e[r];if(!/[._-]$/.test(r))break;r=r.substring(0,r.length-1)}return""}getGroupFromMentionName(){const{groupsByName:e,mentionName:t}=this.props,r=t.toLowerCase().replace(/[._-]*$/,"");return(null==e?void 0:e[r])||{}}render(){const e=this.getUserFromMentionName();if(!this.props.disableGroupHighlight&&!e){const e=this.getGroupFromMentionName();if(e.allow_reference)return g("span",{className:"group-mention-link",children:"@"+e.name})}if(!e)return g(h.Fragment,{children:this.props.children});const t=this.props.mentionName.substring(e.username.length);let r="mention-link";return this.props.disableHighlight||e.id!==this.props.currentUserId||(r+=" mention--highlight"),b("span",{children:[g("a",{className:r,onClick:this.handleClick,ref:this.overlayRef,children:"@"+E(e,this.props.teammateNameDisplay)}),t]})}}u(fc,"propTypes",{children:m.node,currentUserId:m.string.isRequired,channelId:m.string,hasMention:m.bool,disableHighlight:m.bool,disableGroupHighlight:m.bool,isRHS:m.bool,mentionName:m.string.isRequired,teammateNameDisplay:m.string.isRequired,usersByUsername:m.object.isRequired,groupsByName:m.object.isRequired}),u(fc,"defaultProps",{isRHS:!1,hasMention:!1,disableHighlight:!1,disableGroupHighlight:!1});var mc=v((function(e){return{currentUserId:A(e),teammateNameDisplay:L(e),usersByUsername:O(e),groupsByName:hr(e)}}))(fc);var gc=v(((e,{postId:t,imageKey:r})=>({isExpanded:D(e,t,r)})),(e=>({actions:x({toggleInlineImageVisibility:R},e)})))((({children:e,alt:t,isExpanded:r,postId:n,actions:i,onToggle:s,imageKey:a})=>{const{toggleInlineImageVisibility:o}=i;d.exports.useEffect((()=>{s(r)}),[r]);const l=()=>{o(n,a)};return b("div",{className:"markdown-image-expand "+(r?"markdown-image-expand--expanded":""),children:[r&&b(y,{children:[g("button",{className:"markdown-image-expand__collapse-button",type:"button",onClick:l,children:g("span",{className:"icon icon-menu-down"})}),e]}),!r&&b("button",{className:"markdown-image-expand__expand-button",type:"button",onClick:l,children:[g("span",{className:"icon icon-menu-right markdown-image-expand__expand-icon"}),g("span",{className:"markdown-image-expand__alt-text",children:t})]})]})}));class bc extends h.PureComponent{constructor(){super(...arguments),u(this,"isSVGImage",(()=>this.props.imageMetadata?"svg"===this.props.imageMetadata.format:-1!==this.props.src.indexOf(".svg"))),u(this,"shouldRenderImage",(()=>this.props.enableSVGs||!this.isSVGImage()))}render(){let e=q(this.props.src,this.props.hasImageProxy);return this.shouldRenderImage()||(e=""),this.props.children(e)}}var vc=v((function(e){const t=j(e);return{enableSVGs:"true"===t.EnableSVGs,hasImageProxy:"true"===t.HasImageProxy}}))(bc);function yc(e){return U.getFileRoute(e)}function xc(e){return`${U.getFileRoute(e)}?download=1`}function _c(e,t){return t&&U.getCdnEndpoint()?`${U.getCdnEndpoint()}/${t.replace(/ /g,"%20")}`:`${U.getFileRoute(e)}/thumbnail`}function wc(e,t){return t&&U.getCdnEndpoint()?`${U.getCdnEndpoint()}/${t}`:`${U.getFileRoute(e)}/preview`}function Sc(e=[],t=T.DEFAULT_LOCALE){return e.sort(((e,r)=>e.create_at!==r.create_at?e.create_at-r.create_at:e.name.localeCompare(r.name,t,{numeric:!0})))}var Cc=ht.jsx;var Ic=d.exports.forwardRef((function(e,t){return Cc("svg",l(o({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{children:Cc("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}))}));var Tc={messageSend:"mqik-e17a8995",blink:"mqik-bddf2771"},Nc=e=>b("span",{className:_(Tc.loadingSpinner,{[Tc.withText]:!!e.text}),children:[g(Ic,{className:_("u3-w-6 u3-h-6 u3-animate-spin")}),e.text]});const kc=({loading:e,progress:t,containerClass:r})=>{let n=g("span",{className:"loader-percent"});return t&&(n=g("span",{className:"loader-percent",children:`${e} ${t}%`})),b("div",{className:r,children:[g(Nc,{}),n]})};kc.defaultProps={containerClass:"view-image__loading"};class Pc extends h.PureComponent{constructor(e){super(e),u(this,"dimensionsAvailable",(e=>e&&e.width&&e.height)),u(this,"isSmallImage",((e,t)=>e<48||t<48)),u(this,"handleLoad",(e=>{if(this.mounted){const t=e.target,r=this.isSmallImage(t.naturalWidth,t.naturalHeight);this.setState({loaded:!0,error:!1,isSmallImage:r,imageWidth:t.naturalWidth},(()=>{this.props.onImageLoaded&&t.naturalHeight&&this.props.onImageLoaded({height:t.naturalHeight,width:t.naturalWidth})}))}})),u(this,"handleError",(()=>{this.mounted&&(this.props.onImageLoadFail&&this.props.onImageLoadFail(),this.setState({error:!0}))})),u(this,"onEnterKeyDown",(e=>{"Enter"===e.key&&this.props.onClick(e)})),u(this,"renderImageLoaderIfNeeded",(()=>this.state.loaded||!this.props.showLoader||this.state.error?null:g("div",{style:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"},children:g(kc,{containerClass:"file__image-loading"})}))),u(this,"renderImageWithContainerIfNeeded",(()=>{const e=this.props,{fileInfo:t,src:r}=e,n=c(e,["fileInfo","src"]);Reflect.deleteProperty(n,"showLoader"),Reflect.deleteProperty(n,"onImageLoaded"),Reflect.deleteProperty(n,"onImageLoadFail"),Reflect.deleteProperty(n,"dimensions"),Reflect.deleteProperty(n,"handleSmallImageContainer");let i=H("file_attachment.thumbnail","file thumbnail");t&&(i+=` ${t.name}`.toLowerCase());let s="";t&&t.has_preview_image&&r&&(s=wc(t.id,t.preview_path));const a=g("img",l(o({},n),{"aria-label":i,tabIndex:0,onKeyDown:this.onEnterKeyDown,className:this.props.className+(this.props.handleSmallImageContainer&&this.state.isSmallImage?" small-image--inside-container":""),src:s||r,onError:this.handleError,onLoad:this.handleLoad}));if(this.props.handleSmallImageContainer&&this.state.isSmallImage){let e="small-image__container cursor--pointer a11y--active";return this.state.imageWidth<48&&(e+=" small-image__container--min-width"),g("div",{onClick:this.props.onClick,className:e,style:this.state.imageWidth>48?{width:this.state.imageWidth+2}:{},children:a})}return a})),u(this,"renderImageOrPlaceholder",(()=>{const{dimensions:e}=this.props;let t;this.dimensionsAvailable(e)&&!this.state.loaded&&(t=b("div",{className:`image-loading__container ${this.props.className}`,style:{maxWidth:e.width},children:[this.renderImageLoaderIfNeeded(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e.width} ${e.height}`,style:{maxHeight:e.height,maxWidth:e.width,verticalAlign:"middle"}})]}));const r=!this.dimensionsAvailable(e)||this.state.loaded;return b(h.Fragment,{children:[t,g("div",{className:"file-preview__button",style:{display:r?"initial":"none"},children:this.renderImageWithContainerIfNeeded()})]})}));const{dimensions:t}=e;this.state={loaded:!1,isSmallImage:!!this.dimensionsAvailable(t)&&this.isSmallImage(t.width,t.height)},this.heightTimeout=0}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return this.renderImageOrPlaceholder()}}function Mc(e){const t="true"===e.EnableFileAttachments,r="true"===e.EnableMobileFileUpload;return!!t&&(!B()||r)}function Ec(e){return!B()||"true"===e.EnableMobileFileDownload}function Ac(e){let t=e;return e.length>F.MAX_FILENAME_LENGTH&&(t=e.substring(0,Math.min(F.MAX_FILENAME_LENGTH,e.length))+"..."),t}function Lc(e){const t=e.split("/"),r=t[0],n=t[1];if("video"===r)return"video";if("audio"===r)return"audio";if("image"===r)return"image";if(n){if("pdf"===n)return"pdf";if(n.includes("vnd.ms-excel")||n.includes("spreadsheetml")||n.includes("vnd.sun.xml.calc")||n.includes("opendocument.spreadsheet"))return"spreadsheet";if(n.includes("vnd.ms-powerpoint")||n.includes("presentationml")||n.includes("vnd.sun.xml.impress")||n.includes("opendocument.presentation"))return"presentation";if("msword"===n||n.includes("vnd.ms-word")||n.includes("officedocument.wordprocessingml")||n.includes("application/x-mswrite"))return"word"}return"other"}u(Pc,"propTypes",{src:m.string.isRequired,dimensions:m.object,fileInfo:m.object,showLoader:m.bool,onImageLoaded:m.func,onImageLoadFail:m.func,onClick:m.func,className:m.string,handleSmallImageContainer:m.bool});class Oc extends h.PureComponent{render(){const e=this.props.fileInfo,t=this.props.fileUrl,r=[];""!==e.extension&&r.push(H("file_info_preview.type","File type ")+e.extension.toUpperCase()),e.size&&r.push(H("file_info_preview.size","Size ")+V(e.size));const n=r.join(", ");let i=null;return i=this.props.canDownloadFiles?b("a",{className:"file-details__preview",href:t,target:"_blank",rel:"noopener noreferrer",children:[g("span",{className:"file-details__preview-helper"}),g("img",{alt:"file preview",src:G(e),loading:"lazy"})]}):b("span",{className:"file-details__preview",children:[g("span",{className:"file-details__preview-helper"}),g("img",{alt:"file preview",src:G(e),loading:"lazy"})]}),b("div",{className:"file-details__container",children:[i,b("div",{className:"file-details",children:[g("div",{className:"file-details__name",children:e.name}),g("div",{className:"file-details__info",children:n})]})]})}}var Dc=v((function(e){return{canDownloadFiles:Ec(j(e))}}))(Oc);class Rc extends h.PureComponent{constructor(e){super(e),u(this,"videoRef"),u(this,"sourceRef"),u(this,"handleFileInfoChanged",(e=>{let t=this.videoDOM;t||(t=document.createElement("video"));const r=t.canPlayType(e.mime_type);this.setState({canPlay:"probably"===r||"maybe"===r})})),u(this,"handleLoadError",(()=>{this.setState({canPlay:!1})})),u(this,"stop",(()=>{if(this.videoDOM){const e=this.videoDOM;e.pause(),e.currentTime=0}})),this.state={canPlay:!0},this.videoRef=h.createRef(),this.sourceRef=h.createRef()}componentDidMount(){this.handleFileInfoChanged(this.props.fileInfo),this.sourceDOM&&at(this.sourceDOM).one("error",this.handleLoadError)}componentDidUpdate(e){this.props.fileUrl!==e.fileUrl&&this.handleFileInfoChanged(this.props.fileInfo),this.sourceDOM&&at(this.sourceDOM).one("error",this.handleLoadError)}get sourceDOM(){return w.findDOMNode(this.sourceRef.current)}get videoDOM(){return w.findDOMNode(this.videoRef.current)}render(){if(!this.state.canPlay)return g(Dc,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});let e=F.WEB_VIDEO_WIDTH,t=F.WEB_VIDEO_HEIGHT;return z()&&(e=F.MOBILE_VIDEO_WIDTH,t=F.MOBILE_VIDEO_HEIGHT),g("video",{ref:this.videoRef,"data-setup":"{}",controls:!0,width:e,height:t,children:g("source",{ref:this.sourceRef,src:this.props.fileUrl})},this.props.fileInfo.id)}}function qc({fileInfo:e,canDownloadFiles:t}){const r=!e.id;let n,i;return r?(n=e.link,i=e.link):(n=xc(e.id),i=e.has_preview_image?wc(e.id,e.preview_path):n),t?g("a",{href:n,target:"_blank",rel:"noopener noreferrer",download:!r,children:g("img",{"data-testid":"imagePreview",alt:"preview url image",src:i})}):g("img",{src:i})}u(Rc,"propTypes",{fileInfo:m.object.isRequired,fileUrl:m.string.isRequired}),qc.propTypes={fileInfo:m.object.isRequired,canDownloadFiles:m.bool.isRequired};const jc=F.KeyCodes;class Uc extends h.PureComponent{constructor(e){super(e),u(this,"handleNext",(e=>{e&&e.stopPropagation();let t=this.state.imageIndex+1;t>this.props.fileInfos.length-1&&(t=0),this.showImage(t)})),u(this,"handlePrev",(e=>{e&&e.stopPropagation();let t=this.state.imageIndex-1;t<0&&(t=this.props.fileInfos.length-1),this.showImage(t)})),u(this,"handleKeyPress",(e=>{Z(e,jc.RIGHT)?this.handleNext():Z(e,jc.LEFT)&&this.handlePrev()})),u(this,"onModalShown",(e=>{document.addEventListener("keyup",this.handleKeyPress),this.showImage(e.startIndex)})),u(this,"onModalHidden",(()=>{document.removeEventListener("keyup",this.handleKeyPress),this.videoRef.current&&this.videoRef.current.stop()})),u(this,"showImage",(e=>{this.setState({imageIndex:e});const t=window.innerHeight-100;this.setState({imageHeight:t}),this.state.loaded[e]||this.loadImage(e)})),u(this,"loadImage",(e=>{const t=this.props.fileInfos[e];Y(t.extension)===X.IMAGE&&Boolean(t.id),this.handleImageLoaded(e)})),u(this,"handleImageLoaded",(e=>{this.setState((t=>({loaded:l(o({},t.loaded),{[e]:!0})})))})),u(this,"handleImageProgress",((e,t)=>{this.setState((r=>({progress:l(o({},r.progress),{[e]:t})})))})),u(this,"handleGetPublicLink",(()=>{this.handleModalClose(),Mt(this.props.fileInfos[this.state.imageIndex].id)})),u(this,"onMouseEnterImage",(()=>{this.setState({showCloseBtn:!0})})),u(this,"onMouseLeaveImage",(()=>{this.setState({showCloseBtn:!1})})),u(this,"setScale",((e,t)=>{this.setState((r=>({scale:l(o({},r.scale),{[e]:t})})))})),u(this,"handleZoomIn",(()=>{let e=this.state.scale[this.state.imageIndex];e=Math.min(e+K.SCALE_DELTA,K.MAX_SCALE),this.setScale(this.state.imageIndex,e)})),u(this,"handleZoomOut",(()=>{let e=this.state.scale[this.state.imageIndex];e=Math.max(e-K.SCALE_DELTA,K.MIN_SCALE),this.setScale(this.state.imageIndex,e)})),u(this,"handleZoomReset",(()=>{this.setScale(this.state.imageIndex,K.DEFAULT_SCALE)})),u(this,"handleModalClose",(()=>{this.props.onModalDismissed(),this.setState({scale:W(K.DEFAULT_SCALE,this.props.fileInfos.length)})})),this.state={imageIndex:this.props.startIndex,imageHeight:"100%",loaded:W(!1,this.props.fileInfos.length),progress:W(0,this.props.fileInfos.length),showCloseBtn:!1,showZoomControls:!1,scale:W(K.DEFAULT_SCALE,this.props.fileInfos.length)},this.videoRef=h.createRef()}componentDidUpdate(e){!0===this.props.show&&!1===e.show?this.onModalShown(this.props):!1===this.props.show&&!0===e.show&&this.onModalHidden()}static getDerivedStateFromProps(e,t){const r={};return e.fileInfos[t.imageIndex]&&e.fileInfos[t.imageIndex].extension===X.PDF?r.showZoomControls=!0:r.showZoomControls=!1,e.fileInfos.length!==t.prevFileInfosCount&&(r.loaded=W(!1,e.fileInfos.length),r.progress=W(0,e.fileInfos.length),r.prevFileInfosCount=e.fileInfos.length),Object.keys(r).length?r:null}render(){if(this.props.fileInfos.length<1||this.props.fileInfos.length-1<this.state.imageIndex)return null;const e=this.props.fileInfos[this.state.imageIndex];e.link,e.link||e.name;const t=Y(e.extension),r=e.link||yc(e.id);e.link||xc(e.id),e.id;let n;if(this.state.loaded[this.state.imageIndex])n=t===X.IMAGE||t===X.SVG?g(qc,{fileInfo:e,canDownloadFiles:this.props.canDownloadFiles}):t===X.VIDEO||t===X.AUDIO?g(Rc,{fileInfo:e,fileUrl:r}):g(Dc,{fileInfo:e,fileUrl:r});else{const e=H("view_image.loading","Loading"),t=Math.floor(this.state.progress[this.state.imageIndex]);n=g(kc,{loading:e,progress:t})}for(const a of this.props.pluginFilePreviewComponents)if(a.override(e,this.props.post)){n=g(a.component,{fileInfo:e,post:this.props.post,onModalDismissed:this.props.onModalDismissed});break}let i=null,s=null;return this.props.fileInfos.length>1&&(i=g("a",{id:"previewArrowLeft",ref:this.previewArrowLeft,className:"modal-prev-bar",href:"#",onClick:this.handlePrev,children:g("i",{className:"image-control image-prev"})}),s=g("a",{id:"previewArrowRight",ref:this.previewArrowRight,className:"modal-next-bar",href:"#",onClick:this.handleNext,children:g("i",{className:"image-control image-next"})})),this.state.showCloseBtn&&this.handleModalClose,g(ot,{show:this.props.show,onHide:this.handleModalClose,className:"modal-image",dialogClassName:"a11y__modal modal-image",children:b(lt,{children:[g("div",{className:"modal-image__wrapper",onClick:this.handleModalClose,children:g("div",{onMouseEnter:this.onMouseEnterImage,onMouseLeave:this.onMouseLeaveImage,onClick:e=>e.stopPropagation(),children:g("div",{className:"modal-image__background",children:g("div",{className:"modal-image__content",children:n})})})}),i,s]})})}}u(Uc,"propTypes",{postId:m.string,post:m.object,show:m.bool.isRequired,onModalDismissed:m.func.isRequired,fileInfos:m.arrayOf(m.object).isRequired,startIndex:m.number,canDownloadFiles:m.bool,enablePublicLink:m.bool,pluginFilePreviewComponents:m.arrayOf(m.object)}),u(Uc,"defaultProps",{show:!1,fileInfos:[],startIndex:0,pluginFilePreviewComponents:[],post:{}});var Hc=v((function(e,t){const r=j(e);return{canDownloadFiles:Ec(r),enablePublicLink:"true"===r.EnablePublicLink,pluginFilePreviewComponents:e.plugins.components.FilePreview,post:t.post||Q(e,t.postId)}}))(Uc);class Fc extends h.PureComponent{constructor(e){super(e),u(this,"showModal",(e=>{this.props.imageIsLink||(e.preventDefault(),this.setState({showModal:!0}))})),u(this,"hideModal",(()=>{this.setState({showModal:!1})})),u(this,"handleLoadFail",(()=>{this.setState({loadFailed:!0})})),u(this,"isHeaderChangeMessage",(()=>this.props.postType&&this.props.postType===F.PostTypes.HEADER_CHANGE)),u(this,"onUpdated",(e=>{this.props.src&&this.props.src!==e&&this.setState({loadFailed:!1})})),u(this,"handleImageLoaded",(({height:e,width:t})=>{this.setState({loaded:!0},(()=>{this.props.onImageLoaded&&this.props.onImageLoaded({height:e,width:t})}))})),this.state={showModal:!1,loadFailed:!1,loaded:!1}}componentDidUpdate(e){this.onUpdated(e.src)}render(){const{imageMetadata:e,src:t,alt:r,imageIsLink:n}=this.props;if(""===t||this.state.loadFailed){let e="markdown-inline-img broken-image";return this.isHeaderChangeMessage()&&(e+=" broken-image--scaled-down"),g("div",{style:{display:"inline-block"},children:g("img",{className:e,alt:r,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABs0lEQVR4AeRUAasBYRD0//8AekUkIAQApBJRiQKALogKACHNa7ZS6qmOU9X7arv7LmZ2Z2dXZzKZfjweD74RxNbx5Xg8fiWI/U8IkskkHA4HnE7ny8jlcu8RpNNpeL1eVKtVrFarP6PVaiEQCKgj2O/3iEajiEQiqNVq6Pf7eHUmk4k6gs1mA7/fL9nf73fU63VtCfiNf6CuDJINh0PtCPR6PU6n01PwaErw6pzPZ5RKJUr3OcH1emUfHvrvdjuxq8vlQjgcxu12+4wgk8kgHo/DbDaj3W7DarWiUqngcDggm82KfWezGd2mnoCZ2+12bLdbATcajWg0Gk+/KxQKMBgMsNls6ggIRO9Pp1Os12v5Np/P5akoimS+WCx4ZwUcNrrsvUkOBoMol8vy3uv1RK58Pk+5qP17u2g8HjNTAfL5fAJaLBb5lEp42HjeuSYURWFF6npAYOrKhrJ8i8WC5XL5ZFkmwiHksvt4Di6Xi7aDlkqlZE0nEgmxaiwWeyw/zkAoFGJ/BNjtdqsjoC2bzSaDGsu90+lIdLtdNlt6MBgMRL7RaCRu+t3wrDJp2WwBJeNZAIlqEBoS31jNAAAAAElFTkSuQmCC",loading:"lazy"})})}return g(vc,{src:t,imageMetadata:e,children:i=>{if(!i)return g("a",{className:"theme markdown__link",href:t,rel:"noopener noreferrer",target:"_blank",title:this.props.title,children:r});const s=(e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1):null})(i);let a="";if(this.state.loaded)a=n||!s?`${this.props.className} markdown-inline-img--hover markdown-inline-img--no-border`:`${this.props.className} markdown-inline-img--hover cursor--pointer a11y--active`,this.isHeaderChangeMessage()&&(a+=" markdown-inline-img--scaled-down");else{const e=this.isHeaderChangeMessage()?"markdown-inline-img--scaled-down-loading":"markdown-inline-img--loading";a=`${this.props.className} ${e}`}const{height:o,width:l,title:c,postId:u,onImageHeightChanged:d}=this.props,h=b(y,{children:[g(Pc,{alt:r,className:a,src:i,height:o,width:l,title:c,dimensions:e,showLoader:!1,onClick:this.showModal,onImageLoadFail:this.handleLoadFail,onImageLoaded:this.handleImageLoaded}),!n&&s&&g(Hc,{show:this.state.showModal,onModalDismissed:this.hideModal,postId:this.props.postId,startIndex:0,fileInfos:[{has_preview_image:!1,link:i,extension:e.format||s,name:r}]})]});return(null!=o?o:e.height)>=F.EXPANDABLE_INLINE_IMAGE_MIN_HEIGHT?g(gc,{alt:r||i,postId:u,imageKey:i,onToggle:d,children:h}):h}})}}u(Fc,"defaultProps",{imageMetadata:{}}),u(Fc,"propTypes",{alt:m.string,imageMetadata:m.object,src:m.string.isRequired,height:m.number,width:m.number,title:m.string,className:m.string.isRequired,postId:m.string.isRequired,imageIsLink:m.bool.isRequired,onImageLoaded:m.func,onImageHeightChanged:m.func,postType:m.string});class Bc extends h.PureComponent{render(){const e=":"+this.props.name+":";return this.props.imageUrl?g("span",{alt:this.props.name,className:_("emoticon",{"emoticon-big":"custom"===this.props.category}),title:e,style:{backgroundImage:"url("+this.props.imageUrl+")"},children:e}):e}}var Vc=v((function(e,t){const r=$(e).get(t.name);return{imageUrl:r?J(r):"",category:r?r.category:""}}))(Bc);class Gc extends h.PureComponent{render(){if(!this.props.enableFormatting)return g("span",{children:this.props.message});const e=Object.assign({autolinkedUrlSchemes:this.props.autolinkedUrlSchemes,siteURL:this.props.siteURL,mentionKeys:this.props.mentionKeys,atMentions:!0,channelNamesMap:this.props.channelNamesMap,proxyImages:this.props.hasImageProxy&&this.props.proxyImages,team:this.props.team,minimumHashtagLength:this.props.minimumHashtagLength,managedResourcePaths:this.props.managedResourcePaths},this.props.options);return function(e,t,r={}){if(!e)return null;const n=new pc.Parser,i=new pc.ProcessNodeDefinitions(h),s=[{replaceChildren:!1,shouldProcessNode:e=>"tag"===e.type&&"input"===e.name&&"checkbox"===e.attribs.type,processNode:e=>{const t=e.attribs||{};return e.attribs.checked=Boolean(t.checked),h.createElement("input",o({},e.attribs))}}];if(!("mentions"in r)||r.mentions){const e=!("mentionHighlight"in r)||r.mentionHighlight,n="disableGroupHighlight"in r&&!0===r.disableGroupHighlight,i="data-mention";s.push({replaceChildren:!0,shouldProcessNode:e=>e.attribs&&e.attribs[i],processNode:(s,a)=>{const o=s.attribs[i];return g(mc,{mentionName:o,isRHS:t,hasMention:!0,disableHighlight:!e,disableGroupHighlight:n,channelId:r.channelId,children:a})}})}if(!("emoji"in r)||r.emoji){const e="data-emoticon";s.push({replaceChildren:!0,shouldProcessNode:t=>t.attribs&&t.attribs[e],processNode:t=>{const r=t.attribs[e];return g(Vc,{name:r})}})}return"images"in r&&!r.images||s.push({shouldProcessNode:e=>"tag"===e.type&&"img"===e.name,processNode:e=>{const t=e.attribs,{class:n}=t,i=c(t,["class"]);return g(Fc,l(o(o({className:n,imageMetadata:r.imagesMetadata&&r.imagesMetadata[i.src]},i),r.imageProps),{postId:r.postId,imageIsLink:(s=e.parentNode,!(!s||"tag"!==s.type||"a"!==s.name)),postType:r.postType}));var s}}),s.push({shouldProcessNode:()=>!0,processNode:i.processDefaultNode}),n.parseWithInstructions(e,(function(){return!0}),s)}(ee(this.props.message,e,this.props.emojiMap),this.props.isRHS,{imageProps:this.props.imageProps,imagesMetadata:this.props.imagesMetadata,hasPluginTooltips:this.props.hasPluginTooltips,postId:this.props.postId,channelId:this.props.channelId,postType:this.props.postType,mentionHighlight:this.props.options.mentionHighlight,disableGroupHighlight:this.props.options.disableGroupHighlight})}}u(Gc,"defaultProps",{options:{},isRHS:!1,proxyImages:!0,imagesMetadata:{},postId:""});var zc=v((function(){const e=p(te,((e,t)=>t&&t.channelNamesMap),((e,t)=>t?Object.assign({},t,e):e));return function(t,r){var n;const i=j(t);let s;return r.postId&&(s=null==(n=Q(t,r.postId))?void 0:n.channel_id),{autolinkedUrlSchemes:re(t),channelNamesMap:e(t,r),enableFormatting:ne(t,ie.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),managedResourcePaths:se(t),mentionKeys:r.mentionKeys||br(t),siteURL:ae(),team:oe(t),hasImageProxy:"true"===i.HasImageProxy,minimumHashtagLength:parseInt(i.MinimumHashtagLength||"",10),emojiMap:$(t),channelId:s}}}))(Gc),Wc=ht.jsx,Kc=ht.jsxs;var Zc=d.exports.forwardRef((function(e,t){return Kc("svg",l(o({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{children:[Wc("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),Wc("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}))}));function Xc(e){return{type:le.SET_MODAL_SEARCH,data:e}}var Yc=ht.jsx;var Qc=d.exports.forwardRef((function(e,t){return Yc("svg",l(o({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{children:Yc("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}))}));var $c="mqik-b3424807",Jc="mqik-66895934",eu="mqik-86b2ed45",tu="mqik-fb5ce607",ru="mqik-3c634e23",nu="mqik-b0fd5a7d",iu="mqik-025b39da";class su extends h.PureComponent{constructor(e){super(e),u(this,"handleRemoveFromChannel",(async()=>{if(this.state.removing)return;const{actions:e,channel:t,user:r}=this.props;this.setState({removing:!0});const{error:n}=await e.removeChannelMember(t.id,r.id);n?this.setState({serverError:n.message,removing:!1}):(this.setState({removing:!1}),e.getChannelStats(t.id))})),u(this,"handleRevertUser",(async()=>{const{actions:e,channel:t,user:r}=this.props;this.setState({removing:!0});const{error:n}=await e.removeChannelMember(t.id,r.id);if(n)return void this.setState({serverError:n.message,removing:!1});const{error2:i}=await e.addChannelMember(t.id,r.id);i?this.setState({serverError:i.message,removing:!1}):(e.getChannelStats(t.id),e.getChannelMember(t.id,r.id))})),u(this,"handleChangeUserRole",(async(e,t,r)=>{const{channel:{id:n},user:{id:i}}=this.props,{error:s}=await this.props.actions.updateChannelMemberSchemeRoles(n,i,e,t,r);s?this.setState({serverError:s.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))})),u(this,"handleUserPref",((e,t)=>{const r={user_id:this.props.user.id,category:t,name:this.props.channel.id,value:this.props.currentUserId};return e(this.props.currentUserId,r)})),u(this,"handleUpdateUserPref",(async e=>{await this.handleUserPref(this.props.actions.updateUserChannelPreferences,e)})),u(this,"handleDeleteUserPref",(async e=>{await this.handleUserPref(this.props.actions.deleteUserChannelPreferences,e)})),u(this,"handleLimitUserPermission",(async e=>{const{channel:{id:t},user:{id:r}}=this.props,{error:n}=await this.props.actions.updateChannelMemberRoles(t,r,e);n?this.setState({serverError:n.message}):(this.props.actions.getChannelStats(t),this.props.actions.getChannelMember(t,r))})),u(this,"handleMakeChannelMember",(async()=>{this.handleChangeUserRole(!0,!1,!1)})),u(this,"handleMakeChannelMod",(async()=>{this.handleChangeUserRole(!0,!0,!1)})),u(this,"handleMakeChannelAdmin",(async()=>{this.handleChangeUserRole(!0,!1,!0)})),u(this,"handleMakeBlockUser",(async e=>{e?(this.handleRevertUser(),this.handleDeleteUserPref(ie.CATEGORY_CHANNEL_BLOCK)):(this.handleLimitUserPermission(T.CHANNEL_BLOCK_ROLE),this.handleUpdateUserPref(ie.CATEGORY_CHANNEL_BLOCK))})),u(this,"handleMakeBanUser",(async e=>{e?(this.handleRevertUser(),this.handleDeleteUserPref(ie.CATEGORY_CHANNEL_BAN)):(this.handleLimitUserPermission(T.CHANNEL_BAN_ROLE),this.handleUpdateUserPref(ie.CATEGORY_CHANNEL_BAN))})),this.state={serverError:null,removing:!1}}renderRole(e,t,r,n,i){return g(S,e?{id:"channel_members_dropdown.channel_admin",defaultMessage:"Group Admin"}:t?{id:"channel_members_dropdown.channel_mod",defaultMessage:"Group Mod"}:r?{id:"channel_members_dropdown.channel_guest",defaultMessage:"Channel Guest"}:n?{id:"channel_members_dropdown.channel_block",defaultMessage:"Chặn chat"}:i?{id:"channel_members_dropdown.channel_ban",defaultMessage:"Ban khỏi nhóm"}:{id:"channel_members_dropdown.channel_member",defaultMessage:"Channel Member"})}render(){const{isLicensed:e,channelMember:t,user:r,channel:n,currentUserId:i,canChangeMemberRoles:s,canRemoveMember:a,myChannelRoles:o,userChannelPrefs:l}=this.props,{serverError:c}=this.state,u=ce(e,t.roles,t.scheme_admin),h=ue(e,t.roles,t.scheme_mod),p=de(r),f=!u&&!h&&!p,m=l.findIndex((e=>e.category==ie.CATEGORY_CHANNEL_BLOCK))>-1,v=l.findIndex((e=>e.category==ie.CATEGORY_CHANNEL_BAN))>-1,y=n.name===F.DEFAULT_CHANNEL,x=this.renderRole(u,h,p,m,v);if(r.id===i)return null;const w=he(o,r.roles),S=w&&s&&(u||h),C=w&&s&&e&&(f||u),I=w&&s&&e&&(f||h),T=w&&a&&(!n.group_constrained||r.is_bot)&&(!y||p);if((S||I||C||T)&&!p){const e=[];return T&&(e.push(g(Jt.Item,{children:({active:e})=>g("button",{className:_(ru,{[nu]:e}),onClick:()=>this.handleMakeBlockUser(m),children:m?H("channel_members_dropdown.make_channel_block_revert","Bỏ chặn chat"):H("channel_members_dropdown.make_channel_block","Chặn chat")})},"canRemoveUserFromChannelBlock")),e.push(g(Jt.Item,{children:({active:e})=>g("button",{className:_(ru,{[nu]:e}),onClick:()=>this.handleMakeBanUser(v),children:v?H("channel_members_dropdown.make_channel_ban_revert","Bỏ BAN"):H("channel_members_dropdown.make_channel_ban","Ban khỏi nhóm")})},"canRemoveUserFromChannelBan"))),I&&e.push(g(Jt.Item,{children:({active:e})=>g("button",{className:_(ru,{[nu]:e}),onClick:this.handleMakeChannelAdmin,children:H("channel_members_dropdown.make_channel_admin","Make Channel Admin")})},"handleMakeChannelAdmin")),C&&e.push(g(Jt.Item,{children:({active:e})=>g("button",{className:_(ru,{[nu]:e}),onClick:this.handleMakeChannelMod,children:H("channel_members_dropdown.make_channel_mod","Make Group Mod")})},"handleMakeChannelMod")),S&&e.push(g(Jt.Item,{children:({active:e})=>g("button",{className:_(ru,{[nu]:e}),onClick:this.handleMakeChannelMember,children:H("channel_members_dropdown.make_channel_member","Make Channel Member")})},"handleMakeChannelMember")),b(Jt,{as:"div",className:$c,children:[b(Jt.Button,{className:Jc,children:[g("span",{children:x}),g(Qc,{className:eu,"aria-hidden":"true"})]}),g(Tt,{as:d.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:g(Jt.Items,{className:tu,children:g("div",{className:"u3-px-1 u3-py-1",children:e})})})]})}return y?g("div",{}):b("div",{className:iu,children:[x,c]})}}var au=v((function(e,t){const{channel:r,user:n}=t,i=pe(e,{channel:r.id,team:r.team_id,permission:fe.MANAGE_CHANNEL_ROLES})&&me(e,r),s="true"===ge(e).IsLicensed,a=me(e,r),o=be(e)[r.id],l=ve(e,n.id).reduce(((e,t)=>(t.name===r.id&&e.push(t),e)),[]);return{currentUserId:A(e),isLicensed:s,canChangeMemberRoles:i,canRemoveMember:a,myChannelRoles:o,userChannelPrefs:l}}),(function(e){return{actions:x({getChannelMember:ye,getChannelStats:xe,updateChannelMemberSchemeRoles:_e,updateChannelMemberRoles:we,removeChannelMember:Se,addChannelMember:Ce,updateUserChannelPreferences:Ie,deleteUserChannelPreferences:Te},e)}}))(su);var ou="mqik-b34b8053",lu="mqik-76902285",cu="mqik-58bbf9cc",uu="mqik-3c3b7a31",du="mqik-b7784f11";class hu extends h.PureComponent{constructor(e){super(e)}render(){let e=null;this.props.actions&&(e=this.props.actions.map(((e,t)=>g(e,o(o({user:this.props.user,index:this.props.index,totalUsers:this.props.totalUsers},this.props.actionProps),this.props.actionUserProps),t.toString()))));let t,r=this.props.user.email,n="more-modal__description";return this.props.extraInfo&&this.props.extraInfo.length>0?(r=g(Pt,{id:"admin.user_item.emailTitle",defaultMessage:"**Email:** {email}",values:{email:this.props.user.email}}),n=""):t=this.props.user.status?this.props.user.status:this.props.status,this.props.user.is_bot&&(t=null,r=null),this.props.userCount>=0&&(Ne("userListRowName"+this.props.userCount),Ne("userListRowEmail"+this.props.userCount)),b("div",{className:ou,children:[g(Nt,{src:U.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:t,size:"lg",userId:this.props.user.id,hasMention:!0,username:this.props.user.username}),b("div",{className:lu,"data-testid":"userListItemDetails",children:[g("div",{className:cu,children:b("div",{className:uu,children:[g(kt,{userId:this.props.user.id,hasMention:!0,displayUsername:!0}),g("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),this.props.user.first_name||this.props.user.last_name||this.props.user.nickname?"-":null,g("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),ke(this.props.user)]})}),g("div",{className:n,children:r}),this.props.extraInfo]}),g("div",{className:du,children:e})]},this.props.user.id)}}var pu=v((function(e,t){const r=t.user||{};return{status:Pe(e,r.id)}}))(hu);const fu=h.forwardRef(((e,t)=>{const r=e.rowComponentType||pu,{users:n,extraInfo:i,actions:s,actionProps:a,actionUserProps:o,isDisabled:l}=e;let c;return null==n?g(Nc,{}):(c=n.length>0?n.map(((e,t)=>g(r,{user:e,extraInfo:i[e.id],actions:s,actionProps:a,actionUserProps:o[e.id],index:t,totalUsers:n.length,userCount:t>=0&&t<999?t:-1,isDisabled:l},e.id))):g("div",{className:"more-modal__placeholder-row u3-text-center u3-py-3 u3-text-gray-600",children:g(S,{id:"user_list.notFound",defaultMessage:"No users found"})},"no-users-found"),g("div",{ref:t,className:"u3-py-4 u3-divide-y",children:c}))}));var mu="mqik-50be99d4",gu="mqik-3962f073",bu="mqik-eadf0d13",vu="mqik-aced781b",yu="mqik-4664807c",xu="mqik-a4e5a757",_u="mqik-83ed90f3";class wu extends h.PureComponent{constructor(e){super(e),u(this,"nextTimeoutId"),u(this,"filterRef"),u(this,"userListRef"),u(this,"channelListScrollRef"),u(this,"nextPage",(e=>{e.preventDefault(),this.setState({nextDisabled:!0}),this.nextTimeoutId=setTimeout((()=>this.setState({nextDisabled:!1})),500),this.props.nextPage(),this.channelListScrollDOM&&at(this.channelListScrollDOM).scrollTop(0)})),u(this,"previousPage",(e=>{e.preventDefault(),this.props.previousPage(),this.channelListScrollDOM&&at(this.channelListScrollDOM).scrollTop(0)})),u(this,"focusSearchBar",(()=>{this.props.focusOnMount&&this.filterRef.current.focus()})),u(this,"handleInput",(e=>{this.props.onTermChange(e.target.value),this.props.search(e.target.value)})),u(this,"renderCount",(e=>{if(!e)return null;if(this.props.filter)return null;const t=e.length,r=this.props.total,n=Boolean(this.props.term);let i,s;return n?(i=-1,s=-1):(i=this.props.page*this.props.usersPerPage,s=Math.min(i+this.props.usersPerPage,r),this.props.users.length<s&&(s=this.props.users.length)),this.props.renderCount?this.props.renderCount(t,this.props.total,i,s,n):this.props.total?g(S,n?{id:"filtered_user_list.countTotal",defaultMessage:"{count, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,total:r}}:{id:"filtered_user_list.countTotalPage",defaultMessage:"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,startCount:i+1,endCount:s,total:r}}):null})),this.filterRef=h.createRef(),this.userListRef=h.createRef(),this.channelListScrollRef=h.createRef(),this.state={nextDisabled:!1}}componentDidMount(){this.focusSearchBar()}componentDidUpdate(e){this.props.page===e.page&&this.props.term===e.term||this.userList&&(this.userList.scrollTop=0)}componentWillUnmount(){this.nextTimeoutId&&clearTimeout(this.nextTimeoutId)}get userList(){return this.userListRef.current}get channelListScroll(){return this.channelListScrollRef.current}get channelListScrollDOM(){return w.findDOMNode(this.channelListScroll)}render(){let e,t,r;const{formatMessage:n}=this.props.intl;if(this.props.term||!this.props.users)r=this.props.users;else if(!this.props.term){const n=this.props.page*this.props.usersPerPage;let i=n+this.props.usersPerPage;this.props.users.length<i&&(i=this.props.users.length),r=this.props.users.slice(n,i),i<this.props.total&&(e=g("button",{id:"searchableUserListNextBtn",className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled,children:g(S,{id:"filtered_user_list.next",defaultMessage:"Next"})})),this.props.page>0&&(t=g("button",{id:"searchableUserListPrevBtn",className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage,children:g(S,{id:"filtered_user_list.prev",defaultMessage:"Previous"})}))}let i;if(this.props.renderFilterRow)i=this.props.renderFilterRow(this.handleInput);else{const e={id:Me("filtered_user_list.search"),defaultMessage:"Search users"};i=b("div",{className:vu,children:[g("label",{className:"hidden-label",htmlFor:"searchUsersInput",children:g(S,{id:"filtered_user_list.search",defaultMessage:"Search users"})}),g(ct,{id:"searchUsersInput",ref:this.filterRef,className:_(yu,"form-control filter-textbox"),placeholder:e,inputComponent:ut,value:this.props.term,onInput:this.handleInput,"aria-label":n(e).toLowerCase()})]})}return b("div",{className:mu,children:[b("div",{className:gu,children:[i,g("div",{className:bu,children:this.renderCount(r)})]}),g("div",{className:xu,children:g(fu,{ref:this.userListRef,users:r,extraInfo:this.props.extraInfo,actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps,rowComponentType:this.props.rowComponentType,isDisabled:this.props.isDisabled})}),b("div",{className:_(_u,"filter-controls"),children:[t,e]})]})}}u(wu,"propTypes",{users:m.arrayOf(m.object),usersPerPage:m.number,total:m.number,extraInfo:m.object,nextPage:m.func.isRequired,previousPage:m.func.isRequired,search:m.func.isRequired,actions:m.arrayOf(m.any),actionProps:m.object,actionUserProps:m.object,focusOnMount:m.bool,renderCount:m.func,filter:m.string,renderFilterRow:m.func,page:m.number.isRequired,term:m.string.isRequired,onTermChange:m.func.isRequired,intl:m.any,isDisabled:m.bool,rowComponentType:m.func}),u(wu,"defaultProps",{users:[],usersPerPage:50,extraInfo:{},actions:[],actionProps:{},actionUserProps:{},showTeamToggle:!1,focusOnMount:!1});var Su=C(wu);class Cu extends h.PureComponent{constructor(e){super(e),u(this,"handleTermChange",(e=>{this.setState({term:e})})),u(this,"nextPage",(()=>{this.setState({page:this.state.page+1}),this.props.nextPage(this.state.page+1)})),u(this,"previousPage",(()=>{this.setState({page:this.state.page-1})})),u(this,"search",(e=>{this.props.search(e),""!==e&&this.setState({page:0})})),this.state={term:"",page:0}}render(){return g(Su,l(o({},this.props),{nextPage:this.nextPage,previousPage:this.previousPage,search:this.search,page:this.state.page,term:this.state.term,onTermChange:this.handleTermChange}))}}u(Cu,"propTypes",{users:m.arrayOf(m.object),usersPerPage:m.number,total:m.number,extraInfo:m.object,nextPage:m.func.isRequired,search:m.func.isRequired,actions:m.arrayOf(m.any),actionProps:m.object,actionUserProps:m.object,focusOnMount:m.bool});class Iu extends h.PureComponent{constructor(e){super(e),u(this,"searchTimeoutId"),u(this,"loadComplete",(()=>{this.setState({loading:!1})})),u(this,"nextPage",(e=>{const{actions:t,currentChannelId:r,currentTeamId:n}=this.props;t.loadProfilesAndTeamMembersAndChannelMembers(e+1,50,n,r,{active:!0})})),u(this,"handleSearch",(e=>{this.props.actions.setModalSearchTerm(e)})),this.searchTimeoutId=0,this.state={loading:!0}}async componentDidMount(){const{actions:e,currentChannelId:t,currentTeamId:r,missingUserPrefs:n}=this.props;await Promise.all([e.loadProfilesAndTeamMembersAndChannelMembers(0,F.PROFILE_CHUNK_SIZE,r,t,{active:!0}),e.getChannelMembers(t),e.getChannelStats(t),e.fetchChannelUsersPreference(t,n)]),this.loadComplete()}componentWillUnmount(){this.props.actions.setModalSearchTerm("")}componentDidUpdate(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const t=this.props.searchTerm;if(""===t)return this.loadComplete(),void(this.searchTimeoutId=0);const r=window.setTimeout((async()=>{const{data:n}=await e.actions.searchProfiles(t,{team_id:this.props.currentTeamId,in_channel_id:this.props.currentChannelId});if(r!==this.searchTimeoutId)return;const i=n.reduce(((e,t)=>(e.push(t.id),e)),[]);this.props.actions.loadStatusesForProfilesList(n),this.props.actions.loadTeamMembersAndChannelMembersForProfilesList(n,this.props.currentTeamId,this.props.currentChannelId).then((({data:e})=>{e&&this.loadComplete()})),this.props.actions.fetchChannelUsersPreference(this.props.currentChannelId,i)}),F.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=r}}render(){if(this.state.loading)return g(Nc,{});const e=0!==this.props.channel.delete_at;return g(Cu,{users:this.props.usersToDisplay,usersPerPage:50,total:this.props.totalChannelMembers,nextPage:this.nextPage,search:this.handleSearch,actions:e?[()=>{}]:[au],actionUserProps:this.props.actionUserProps,focusOnMount:!Ee()})}}const Tu=p(((e,t)=>t),Ae,Le,Oe,((e=[],t={},r={},n)=>{const i={},s=[];for(let a=0;a<e.length;a++){const o=e[a];t[o.id]&&r[o.id]&&0===o.delete_at&&(s.push(o),i[o.id]={channel:n,teamMember:t[o.id],channelMember:r[o.id]})}return{usersToDisplay:s.sort(De),actionUserProps:i}}));var Nu=v((function(e,t){const r=e.views.search.modalSearch,n=Re(e);let i;i=r?qe(e,r):je(e);let s=[];for(let o of i)n[o.id]||s.push(o.id);const a=Ue(e)||{member_count:0};return l(o({},Tu(e,i)),{missingUserPrefs:s,currentTeamId:e.entities.teams.currentTeamId,currentChannelId:t.channel.id,searchTerm:r,totalChannelMembers:a.member_count})}),(function(e){return{actions:x({getChannelMembers:He,searchProfiles:Fe,getChannelStats:xe,setModalSearchTerm:Xc,loadProfilesAndTeamMembersAndChannelMembers:Be,loadStatusesForProfilesList:Ve,loadTeamMembersAndChannelMembersForProfilesList:Ge,fetchChannelUsersPreference:ze},e)}}))(Iu);class ku extends h.PureComponent{constructor(e){super(e),u(this,"handleHide",(()=>{this.setState({show:!1})})),u(this,"handleExit",(()=>{this.props.onHide()})),this.state={show:!0}}render(){return this.props.channel.delete_at,b(ot,{dialogClassName:"a11y__modal more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,"aria-labelledby":"channelMembersModalLabel",children:[b(dt,{closeButton:!0,onClose:this.handleHide,children:[g(S,{id:"channel_members_modal.members",defaultMessage:" Members"}),g("span",{className:"name",children:this.props.channel.display_name})]}),g(lt,{children:g(Nu,{channel:this.props.channel})})]})}}var Pu=v((e=>({canManageChannelMembers:We(e)})),(e=>({actions:x({openModal:Ke},e)})))(ku);var Mu=v((function(e,t){if(!t.channelId||null===t.teamId||void 0===t.teamId)return{hasPermission:!1};for(const r of t.permissions)if(pe(e,{channel:t.channelId,team:t.teamId,permission:r}))return{hasPermission:!0};return{hasPermission:!1}}))((e=>{const{hasPermission:t,children:r,invert:n=!1}=e;return t&&!n||!t&&n?r:null}));class Eu extends h.PureComponent{show(e){e&&e.preventDefault();const{modalId:t,dialogProps:r,dialogType:n}=this.props,i={modalId:t,dialogProps:r,dialogType:n};this.props.actions.openModal(i)}render(){const e=this.props,{children:t,onClick:r,intl:{formatMessage:n}}=e,i=c(e,["children","onClick","intl"]);n({id:"accessibility.button.dialog",defaultMessage:"{dialogName} dialog"},{dialogName:i.accessibilityLabel});let s=null;this.props.showUnread&&(s=g("span",{className:"unread-badge"})),Reflect.deleteProperty(i,"modalId"),Reflect.deleteProperty(i,"dialogType"),Reflect.deleteProperty(i,"dialogProps"),Reflect.deleteProperty(i,"accessibilityLabel"),Reflect.deleteProperty(i,"actions"),Reflect.deleteProperty(i,"showUnread");let a=e=>this.show(e);r&&(a=e=>{r(e),this.show(e)});const u=i.className||"u3-group u3-text-gray-900 u3-flex u3-rounded-md u3-items-center u3-w-full u3-px-2 u3-py-1 u3-text-sm",d=i.classActive||"u3-bg-primary u3-text-white";return g(Jt.Item,{children:({active:e})=>b("button",l(o({},i),{onClick:a,className:_(u,{[d]:e}),children:[t,s]}))})}}u(Eu,"defaultProps",{dialogProps:{},className:""});var Au=C(Eu);var Lu=v(null,(function(e){return{actions:x({openModal:Ke},e)}}))(Au);function Ou(e){class t extends h.PureComponent{render(){const t=this.props,{id:r,show:n,icon:i,text:s}=t,a=c(t,["id","show","icon","text"]);if(!n)return null;let l=s;return i&&(l=b(h.Fragment,{children:[g("span",{className:"icon",children:i}),s]})),g(e,o({text:l},a))}}return u(t,"defaultProps",{show:!0}),u(t,"displayName"),t}const Du=Ou((({modalId:e,dialogType:t,dialogProps:r,text:n,accessibilityLabel:i,extraText:s,children:a,className:o,sibling:l,showUnread:c})=>b(y,{children:[b(Lu,{accessibilityLabel:i||n,modalId:e,dialogType:t,dialogProps:r,className:_({"MenuItem__with-help":s,[`${o}`]:o}),showUnread:c,children:[n&&g("span",{className:"MenuItem__primary-text",children:n}),s&&g("span",{className:"MenuItem__help-text",children:s}),a]}),l]})));Du.displayName="MenuItemToggleModalRedux";var Ru=ht.jsx;var qu=d.exports.forwardRef((function(e,t){return Ru("svg",l(o({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{children:Ru("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}))}));var ju={channelInfo:"mqik-611fe298"};const Uu={singleline:!1,mentionHighlight:!1};class Hu extends h.PureComponent{constructor(e){super(e),u(this,"onHide",(()=>{this.setState({show:!1})})),u(this,"handleFormattedTextClick",(e=>Ze(e,this.props.currentRelativeTeamUrl))),u(this,"getHeaderMarkdownOptions",Xe((e=>l(o({},Uu),{channelNamesMap:e})))),this.state={show:!0}}componentDidUpdate(e){var t,r;const n=!e.isRHSOpen&&this.props.isRHSOpen,i=(null==(t=e.channel)?void 0:t.id)!==(null==(r=this.props.currentChannel)?void 0:r.id);(n||i)&&this.onHide()}render(){let e=this.props.channel;const t=0!==e.delete_at;if(!e){const t=H("channel_info.notFound","No Channel Found");e={display_name:t,name:t,purpose:t,header:t,id:t,team_id:t,type:t,delete_at:0,create_at:0,update_at:0,last_post_at:0,total_msg_count:0,total_msg_count_root:0,extra_update_at:0,creator_id:t,scheme_id:t,group_constrained:!1,last_picture_update:0,verified:!1}}const r=this.props.channel.props&&this.props.channel.props.channel_mentions;t||"O"===e.type||e.type;const n=ae()+"/"+this.props.currentTeam.name+"/group/"+e.name;let i,s;e.purpose?i=e.purpose:e.name===F.DEFAULT_CHANNEL&&(i=g(S,{id:"default_channel.purpose",defaultMessage:"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team."})),i&&(s=b("div",{className:"form-group",children:[g("div",{className:"info__label",children:g(S,{id:"channel_info.purpose",defaultMessage:"Purpose:"})}),g("div",{className:"info__value",children:i})]}));let a=null;return e.header&&(a=b("div",{className:"form-group",children:[g("div",{className:"info__label",children:g(S,{id:"channel_info.header",defaultMessage:"Header:"})}),g("div",{onClick:this.handleFormattedTextClick,className:"info__value",children:g(zc,{message:e.header,options:this.getHeaderMarkdownOptions(r)})})]})),b(ot,{dialogClassName:"",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,children:[b(dt,{closeButton:!0,onClose:this.onHide,children:[g(S,{id:"channel_info.about",defaultMessage:"Nhóm"}),g("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),e.display_name]}),b(lt,{children:[b("div",{className:ju.channelInfo,children:[g("div",{className:_(ju.firstRow,ju.formGroup)}),g("div",{className:ju.formGroup})]}),s,a,b("div",{className:"form-group",children:[g("div",{className:"info__label",children:g(S,{id:"channel_info.url",defaultMessage:"URL:"})}),g("div",{className:"info__value",children:n})]}),g("div",{className:"about-modal__hash form-group pt-3",children:b("p",{children:[g(S,{id:"channel_info.id",defaultMessage:"ID: "}),e.id]})})]})]})}}u(Hu,"propTypes",{onHide:m.func.isRequired,channel:m.object.isRequired,currentChannel:m.object.isRequired,currentTeam:m.object.isRequired,isRHSOpen:m.bool,currentRelativeTeamUrl:m.string});var Fu=v((function(e){return{isRHSOpen:Ye(e),currentRelativeTeamUrl:Qe(e),currentChannel:Oe(e),currentTeam:oe(e)}}))(Hu),Bu=ht.jsx;var Vu=d.exports.forwardRef((function(e,t){return Bu("svg",l(o({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{children:Bu("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})}))}));export{Zc as A,Pu as C,Vu as D,vc as E,Nc as L,zc as M,qu as P,Pc as S,Hc as V,Jt as W,mr as a,sr as b,Mu as c,Du as d,Fu as e,xc as f,gr as g,Lc as h,yc as i,_c as j,Mc as k,Sc as l,Ou as m,Ec as n,wc as o,Qc as p,Tc as q,ir as s,Ac as t};
