!function(){var e=["modals"],t=["listComponent","dateComponent","listStyle","renderNoResults"],n=["saving","disabled","savingMessage","defaultMessage","btnClass","extraClasses"],r=["component","title","className"];function i(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return q()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var d={};function p(){}function h(){}function f(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(_([])));v&&v!==t&&n.call(v,i)&&(m=v);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,a,s,l){var c=u(e[i],e,a);if("throw"!==c.type){var d=c.arg,p=d.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(p).then((function(e){d.value=e,s(d)}),(function(e){return r("throw",e,s,l)}))}l(c.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:q}}function q(){return{value:void 0,done:!0}}return h.prototype=f,l(b,"constructor",f),l(f,"constructor",h),h.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(b),l(b,s,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function w(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,s,"next",e)}function s(e){w(o,r,i,a,s,"throw",e)}a(void 0)}))}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=document.createElement("style");_.innerHTML='.mqik-534bc39c{display:flex;min-width:24rem;flex-direction:column}.mqik-534bc39c>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.mqik-534bc39c .mqik-bcf3333f{min-height:24rem}.mqik-534bc39c .mqik-bcf3333f>div>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.125rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.125rem * var(--tw-space-y-reverse))}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between;font-size:.875rem;line-height:1.25rem;min-height:3.5rem;border-radius:.375rem;padding:.25rem .5rem;transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity))}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e:hover{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e .mqik-8b41cba2{flex:1 1 0%}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e .mqik-8b41cba2 .mqik-04b1596a{font-size:1rem;line-height:1.5rem;font-weight:500}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e .mqik-2027c07b{border-radius:.375rem;padding:.25rem .5rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e:disabled{opacity:.7}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e .mqik-722a9ad7{background-color:var(--mexty-quik-primary-color)}.mqik-534bc39c .mqik-bcf3333f .mqik-ea25767e .mqik-722a9ad7:hover{background-color:var(--mexty-quik-secondary-color)}.mqik-534bc39c .mqik-002551a5{border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));padding:.25rem .375rem;width:100%;--tw-text-opacity: 1;color:rgba(38,38,38,var(--tw-text-opacity));transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-534bc39c .mqik-002551a5:hover{--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.mqik-534bc39c .mqik-002551a5:focus{--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity));outline:2px solid transparent;outline-offset:2px}.mqik-4a38de9e{display:flex}.mqik-8bb4a2e1{display:flex;flex-direction:column}.mqik-8bb4a2e1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.mqik-8bb4a2e1 .mqik-48ae4be8{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-62279099{padding-top:.25rem;font-size:.875rem;line-height:1.25rem}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-62279099.mqik-7a20a2ef{--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-9c7904d0{display:block;width:8rem;font-weight:500}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-9c7904d0.mqik-8b64b48b{font-size:.875rem;line-height:1.25rem;font-weight:400;--tw-text-opacity: 1;color:rgba(163,163,163,var(--tw-text-opacity))}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32{flex:1 1 0%}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-a77cc126{width:100%;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(255,255,255,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));padding:.375rem .5rem;transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-a77cc126:focus{border-width:1px;--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity));outline:2px solid transparent;outline-offset:2px}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-a77cc126.mqik-ff660243{resize:none}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-6f0b8d25{display:inline-flex}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-6f0b8d25 .mqik-69bc8b90{height:1.5rem;width:1.5rem;padding-top:.125rem;padding-bottom:.125rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-6f0b8d25 span{padding-right:.25rem;font-weight:500}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-6f0b8d25 span:last-child{font-weight:400;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-917b71ed{display:block}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-917b71ed label{display:inline-flex;align-items:center;justify-content:flex-start}.mqik-8bb4a2e1 .mqik-48ae4be8 .mqik-c9f5aa32 .mqik-917b71ed label input{margin-right:.25rem}.mqik-8bb4a2e1 .mqik-48ae4be8.mqik-7de8b87d .mqik-a77cc126{--tw-border-opacity: 1;border-color:rgba(239,68,68,var(--tw-border-opacity))}.mqik-bf8193e1{display:flex;flex-direction:row;align-items:center;justify-content:flex-end}.mqik-bf8193e1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-bf8193e1{--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-bf8193e1 .mqik-0864b77b{border-radius:.25rem;padding:.25rem .5rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s}.mqik-bf8193e1 .mqik-0864b77b.mqik-9b678f1f{background-color:var(--mexty-quik-primary-color);--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-bf8193e1 .mqik-0864b77b.mqik-9b678f1f:hover{opacity:.9}.mqik-bf8193e1 .mqik-0864b77b.mqik-fc567c2d{display:inline-block}.mqik-bf8193e1 .mqik-0864b77b.mqik-fc567c2d:hover{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-0a9d2a73{position:absolute;right:.5rem;bottom:3.5rem}.mqik-0a9d2a73.mqik-bf52855f{display:none}.mqik-0a9d2a73 .mqik-3dbb95fa{max-width:14rem;border-radius:.375rem;border-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding-left:.25rem;padding-right:.25rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);font-size:.875rem;line-height:1.25rem;font-weight:400;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-0a9d2a73 .mqik-3dbb95fa ul{display:flex;flex-direction:column;flex-wrap:wrap}.mqik-0a9d2a73 .mqik-3dbb95fa ul>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.mqik-0a9d2a73 .mqik-3dbb95fa ul{padding-top:.125rem;padding-bottom:.125rem}.mqik-0a9d2a73 .mqik-3dbb95fa ul li{position:relative;display:inline-flex;overflow:hidden;padding-top:.125rem;padding-bottom:.125rem}.mqik-0a9d2a73 .mqik-3dbb95fa ul li .mqik-e187b183{position:absolute;left:0px;margin:.125rem;display:flex;height:.5rem;width:.5rem}.mqik-0a9d2a73 .mqik-3dbb95fa ul li .mqik-e187b183 .mqik-a5b73d28{position:absolute;border-radius:9999px;background-color:var(--mexty-quik-secondary-color);opacity:.75;height:100%;width:100%}.mqik-0a9d2a73 .mqik-3dbb95fa ul li .mqik-e187b183 .mqik-bf41671d{position:relative;display:inline-flex;height:.5rem;width:.5rem;border-radius:9999px;background-color:var(--mexty-quik-primary-color)}.mqik-0a9d2a73 .mqik-3dbb95fa ul button{display:block;width:100%;border-radius:.25rem;padding:.375rem;text-align:right;font-weight:500}.mqik-0a9d2a73 .mqik-3dbb95fa ul button:hover{--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity))}.mqik-0a9d2a73 .mqik-3dbb95fa ul .mqik-d3e0efae{--tw-text-opacity: 1;color:rgba(220,38,38,var(--tw-text-opacity))}.mqik-ad29fc58{position:relative;display:block}.mqik-ad29fc58 .mqik-2cda1eee{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.mqik-ad29fc58 .mqik-2cda1eee>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.375rem * var(--tw-space-x-reverse));margin-left:calc(.375rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-ad29fc58 .mqik-2cda1eee{padding:.375rem .5rem;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-ad29fc58 .mqik-2cda1eee .mqik-2f38d389{height:2.5rem;width:2.5rem;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));color:transparent}.mqik-ad29fc58 .mqik-2cda1eee .mqik-6f73654e{flex:1 1 0%;text-align:left;font-weight:500;--tw-text-opacity: 1;color:rgba(38,38,38,var(--tw-text-opacity));text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57{position:relative;display:inline-flex}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568{height:1.25rem;width:1.25rem;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));padding:.125rem;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-duration:.15s;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568 .mqik-ccef951a{height:1rem;width:1rem;--tw-text-opacity: 1;color:rgba(38,38,38,var(--tw-text-opacity))}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568:hover{background-color:var(--mexty-quik-primary-color)}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568:hover .mqik-ccef951a{--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568.mqik-aa1c4648{background-color:var(--mexty-quik-primary-color)}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568.mqik-aa1c4648 .mqik-ccef951a{--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-a3757568.mqik-aa1c4648:hover{opacity:.9}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-85ac1e93{position:absolute;right:0px;margin:-.125rem;display:flex;height:.5rem;width:.5rem}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-85ac1e93 .mqik-e8cda058{position:absolute;border-radius:9999px;background-color:var(--mexty-quik-secondary-color);opacity:.75;height:100%;width:100%}.mqik-ad29fc58 .mqik-2cda1eee .mqik-c752aa57 .mqik-85ac1e93 .mqik-0ce1936f{position:relative;display:inline-flex;height:.5rem;width:.5rem;border-radius:9999px;background-color:var(--mexty-quik-primary-color)}.mqik-68c262ff{display:inline-flex;width:100%;flex-grow:1;flex-direction:column;animation:mqik-e53a6421 2s cubic-bezier(.4,0,.6,1) infinite}.mqik-68c262ff .mqik-8085e5a6{display:flex;height:2.25rem;width:100%;flex-direction:row;align-items:flex-end;justify-content:flex-start}.mqik-68c262ff .mqik-8085e5a6>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-68c262ff .mqik-8085e5a6{--tw-bg-opacity: 1;background-color:rgba(163,163,163,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem;position:relative;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity))}.mqik-68c262ff .mqik-8085e5a6 .mqik-d99213e6{position:absolute;right:0px;display:inline-flex;height:2.25rem;align-items:center}.mqik-68c262ff .mqik-8085e5a6 .mqik-d99213e6>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-68c262ff .mqik-8085e5a6 .mqik-d99213e6{padding-left:.75rem;padding-right:.75rem}.mqik-68c262ff .mqik-8085e5a6 .mqik-d99213e6 p{font-size:1rem;line-height:1.5rem;font-weight:600;line-height:2.25rem}.mqik-68c262ff .mqik-8085e5a6 .mqik-64be30f9{display:flex;height:2rem;width:9rem;align-items:center;justify-content:flex-start}.mqik-68c262ff .mqik-8085e5a6 .mqik-64be30f9>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-68c262ff .mqik-8085e5a6 .mqik-64be30f9{border-top-left-radius:.375rem;border-top-right-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem}.mqik-68c262ff .mqik-8085e5a6 .mqik-64be30f9 .mqik-51763eee{height:1.25rem;width:1.25rem;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(163,163,163,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-8085e5a6 .mqik-64be30f9 .mqik-e1297f1c{height:.75rem;width:6rem;border-radius:.125rem;--tw-bg-opacity: 1;background-color:rgba(163,163,163,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-8085e5a6 .mqik-64be30f9.mqik-c4fab201{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-4a86f92a{display:inline-flex;flex-grow:1;flex-direction:column;--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));height:412px}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece{flex-grow:1;padding:.75rem;--tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);height:372px}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9{margin-top:.25rem;display:flex;height:auto;width:100%;flex-direction:row}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-d6baa8df{visibility:hidden;height:2.25rem;width:2.25rem;border-radius:9999px;border-width:1px;--tw-border-opacity: 1;border-color:rgba(163,163,163,var(--tw-border-opacity));--tw-border-opacity: .3;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12{width:auto;border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding:.75rem;--tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, .05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-141997c3{margin-bottom:.5rem;height:1rem;width:8rem;border-radius:.125rem;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c{display:flex;flex-direction:column}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c .mqik-d0f8a916,.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c .mqik-e9b57897,.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c .mqik-0c434313{height:.75rem;border-radius:.125rem;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c .mqik-d0f8a916{width:10rem}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c .mqik-e9b57897{width:18rem}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-28e3746c .mqik-0c434313{width:14rem}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-1490faa0{margin-top:.75rem;display:flex;flex-direction:row;align-items:center;justify-content:flex-end}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-1490faa0>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-1490faa0 .mqik-9cd42090{height:.75rem;width:.75rem;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9 .mqik-6d26af12 .mqik-1490faa0 .mqik-b510b80b{height:.5rem;width:2rem;border-radius:.125rem;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9.mqik-656a1eee{margin-top:.5rem}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9.mqik-656a1eee .mqik-d6baa8df{visibility:visible}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-64be30f9.mqik-656a1eee .mqik-6d26af12{border-top-left-radius:0}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-78c7ea2f{flex-direction:row-reverse}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-78c7ea2f .mqik-d6baa8df{display:none}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-78c7ea2f .mqik-6d26af12{display:flex;flex-direction:column}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-78c7ea2f .mqik-6d26af12 .mqik-141997c3{align-self:flex-end}.mqik-68c262ff .mqik-4a86f92a .mqik-6360cece .mqik-78c7ea2f.mqik-656a1eee .mqik-6d26af12{border-radius:.75rem 0 .75rem .75rem}.mqik-68c262ff .mqik-4a86f92a .mqik-73dd5362{height:3rem;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding-top:.5rem;padding-bottom:.5rem;--tw-shadow: 0 25px 50px -12px rgba(0, 0, 0, .25);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-drop-shadow: drop-shadow(0 1px 2px rgba(0, 0, 0, .1)) drop-shadow(0 1px 1px rgba(0, 0, 0, .06))}.mqik-68c262ff .mqik-4a86f92a .mqik-73dd5362 .mqik-c85bf2ee{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem}.mqik-4f490a72{display:flex;width:100%;flex:1 1 0%;flex-direction:column;overflow:hidden}.mqik-4f490a72 .mqik-378c6ed8{display:flex;width:100%;flex:1 1 0%;flex-direction:row}.mqik-4f490a72 .mqik-378c6ed8 .mqik-2d036e0f{display:flex;flex-grow:1;flex-direction:column}.mqik-4f490a72 .mqik-378c6ed8 .mqik-59b24190{visibility:hidden;width:0px;flex-shrink:1;border-left-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;position:relative}.mqik-56c987b1{display:flex;min-width:var(--mexty-quik-width, "300px");max-width:var(--mexty-quik-width, "300px");flex-direction:column;overflow:hidden;position:fixed;top:0px;right:0px;height:100%;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-61974f66{position:relative;flex:1 1 0%}.mqik-61974f66 .mqik-38b2e3fb{position:relative;min-height:2.5rem}.mqik-af7e39ef,.mqik-dc5b1731,.mqik-b6d960be,.mqik-258c30c5{appearance:none;background-color:#fff;border-color:#737373;border-width:1px;border-radius:0;padding:.5rem .75rem;font-size:1rem;line-height:1.5rem;--tw-shadow: 0 0 #0000}.mqik-af7e39ef:focus,.mqik-dc5b1731:focus,.mqik-b6d960be:focus,.mqik-258c30c5:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: #2563eb;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);border-color:#2563eb}.mqik-af7e39ef::placeholder,.mqik-dc5b1731::placeholder{color:#737373;opacity:1}.mqik-61974f66 .mqik-b0e6e88b{margin-top:.375rem;margin-bottom:.375rem;overflow:hidden;border-radius:.375rem;border-width:0px;padding-top:.25rem;padding-bottom:.25rem}.mqik-61974f66 .mqik-b0e6e88b:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.mqik-61974f66 .mqik-b0e6e88b{white-space:pre-wrap;word-wrap:break-word}.mqik-61974f66 .mqik-b0e6e88b:focus{outline:2px solid transparent;outline-offset:2px}.mqik-61974f66 .mqik-b64a333e{height:100%;width:100%;resize:none;--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem;font-size:.875rem;line-height:1.25rem;transition-property:none}.mqik-61974f66 .mqik-b64a333e .mqik-38b2e3fb{position:relative}.mqik-61974f66 .mqik-a7943600{overflow:hidden}.mqik-61974f66 div.mqik-71931c66{pointer-events:auto!important;position:relative!important;z-index:10!important;opacity:1!important}.mqik-61974f66 textarea.mqik-71931c66{display:none}.mqik-61974f66 .mqik-11749422{--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.mqik-61974f66 .mqik-efe8a2ea{position:relative}.mqik-67c583b0{position:relative;min-width:24rem}.mqik-67c583b0 .mqik-3a1587a3{margin-top:0;margin-bottom:0;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));max-height:24rem;min-height:8rem;overflow:hidden}.mqik-67c583b0 .mqik-3a1587a3>textarea{background-color:transparent}.mqik-e253eb5b{position:relative}.mqik-e253eb5b .mqik-acb20569{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));max-height:24rem;overflow:hidden}.mqik-c2cc995f{width:100%}.mqik-d13c0f84{padding-top:.25rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-1dc5802d{height:1.25rem;width:1.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-d484b42d{padding-left:.125rem}.mqik-6f2202cd{position:absolute;margin-top:-1.5rem;height:auto;max-height:18rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);width:calc(100% - 2rem)}.mqik-6f2202cd .mqik-c8174adb{z-index:20}.mqik-6f2202cd .mqik-c8174adb .mqik-d76f319d{position:absolute;border-width:0px;padding:0;height:1px;width:1px;margin:-1px;z-index:-1}.mqik-6f2202cd .mqik-c8174adb .mqik-4608ac90{z-index:10;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.mqik-6f2202cd .mqik-81ce701b{overflow:hidden;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding:.25rem .375rem;text-align:center;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-138c5be9{display:flex;width:100%;align-items:center;justify-content:flex-end}.mqik-138c5be9 .mqik-f061ac60{border-radius:.375rem;background-color:var(--mexty-quik-primary-color);padding:.25rem .5rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-138c5be9 .mqik-f061ac60:hover{background-color:var(--mexty-quik-secondary-color)}.mqik-e97bb61b{min-height:8rem;min-width:24rem}.mqik-e97bb61b .mqik-393fa0fb{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between;font-size:.875rem;line-height:1.25rem;min-height:3.5rem;border-radius:.375rem;padding:.25rem .5rem;transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-e97bb61b .mqik-393fa0fb>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.375rem * var(--tw-space-x-reverse));margin-left:calc(.375rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-e97bb61b .mqik-393fa0fb{--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity))}.mqik-e97bb61b .mqik-393fa0fb:hover{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-e97bb61b .mqik-393fa0fb .mqik-252e19fe{flex:1 1 0%}.mqik-e97bb61b .mqik-393fa0fb .mqik-252e19fe .mqik-3e89e5f7{font-size:1rem;line-height:1.5rem;font-weight:500}.mqik-e97bb61b .mqik-393fa0fb .mqik-f38c10a7{position:relative;padding-right:.375rem}.mqik-e97bb61b .mqik-393fa0fb .mqik-f38c10a7 .mqik-d04671de{height:1rem;width:1rem;font-weight:500;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-e97bb61b .mqik-393fa0fb .mqik-371fb92d{border-radius:.375rem;padding:.25rem .5rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-e97bb61b .mqik-393fa0fb:disabled{opacity:.7}.mqik-e97bb61b .mqik-393fa0fb .mqik-b21748d1{background-color:var(--mexty-quik-primary-color)}.mqik-e97bb61b .mqik-393fa0fb .mqik-b21748d1:hover{background-color:var(--mexty-quik-secondary-color)}.mqik-e97bb61b .mqik-393fa0fb .mqik-97489a5d{position:relative;display:inline-block;width:2rem}.mqik-e97bb61b .mqik-393fa0fb .mqik-f3588b91{position:absolute;right:0px;bottom:0px}.mqik-b850d275{z-index:90;display:inline-block;border-radius:.5rem;border-width:0px;--tw-bg-opacity: 1;background-color:rgba(38,38,38,var(--tw-bg-opacity));--tw-bg-opacity: .9;padding:.25rem .5rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(250,250,250,var(--tw-text-opacity));--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);z-index:60}.mqik-b850d275.mqik-02cab614{visibility:hidden}.mqik-b850d275.mqik-aa52bda4{visibility:visible;opacity:1}.mqik-b850d275 .mqik-afd93447{visibility:hidden;position:absolute;height:.5rem;width:.5rem;opacity:0;background:inherit}.mqik-b850d275 .mqik-afd93447.mqik-02cab614{visibility:hidden}.mqik-b850d275 .mqik-afd93447.mqik-aa52bda4{opacity:1}.mqik-b850d275 .mqik-afd93447:before{visibility:visible;position:absolute;height:.5rem;width:.5rem;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-rotate: 45deg;content:"";background:inherit}.mqik-b850d275[data-popper-placement^=top] .mqik-afd93447{bottom:-3px}.mqik-b850d275[data-popper-placement^=bottom] .mqik-afd93447{top:-3px}.mqik-b850d275[data-popper-placement^=left] .mqik-afd93447{right:-3px}.mqik-b850d275[data-popper-placement^=right] .mqik-afd93447{left:-3px}.mqik-fc5852ff{display:flex}.mqik-fc5852ff .mqik-b349bf98{display:flex;flex-direction:column}.mqik-fc5852ff .mqik-b349bf98>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.mqik-fc5852ff .mqik-586c99da{width:100%}.mqik-fc5852ff .mqik-a63ea2c9{margin-left:auto;margin-right:auto;height:8rem;width:8rem}.mqik-fc5852ff .mqik-a63ea2c9>img{height:8rem;width:8rem;overflow:hidden;border-radius:9999px}.mqik-fc5852ff .mqik-1bba61d5{height:8rem;width:8rem;overflow:hidden;border-radius:9999px}.mqik-fc5852ff .mqik-f7a58cd8{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-fc5852ff .mqik-4b7393fd{border-radius:.25rem;padding:.25rem .625rem;font-size:.875rem;line-height:1.25rem}.mqik-fc5852ff .mqik-35c56268{background-color:var(--mexty-quik-primary-color);--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-fc5852ff .mqik-35c56268:hover{background-color:var(--mexty-quik-secondary-color)}.mqik-fc5852ff .mqik-01f4a8aa{color:var(--mexty-quik-primary-color)}.mqik-fc5852ff .mqik-01f4a8aa:hover{color:var(--mexty-quik-secondary-color)}.mqik-fc5852ff .mqik-77766c64{cursor:default;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-fc5852ff .mqik-da477596{display:flex;align-items:center}.mqik-fc5852ff .mqik-da477596>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-fc5852ff .mqik-da477596{padding-top:.75rem}.mqik-fc5852ff .mqik-da477596 .mqik-ed1fd79d{flex:1 1 0%}.mqik-fc5852ff .mqik-1bba61d5{margin-left:auto;margin-right:auto;height:100%;width:100%}.mqik-fc5852ff .mqik-df9c31d6{height:8rem;width:8rem;background-size:cover}.mqik-fc5852ff .mqik-d2c13fdf{position:relative}.mqik-fc5852ff .mqik-d2c13fdf .mqik-804aa4d2{position:absolute;top:0px;right:0px;width:1.75rem;--tw-bg-opacity: 1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity: .6;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));border-radius:9999px}.mqik-fc5852ff .mqik-d2c13fdf .mqik-804aa4d2:hover{--tw-bg-opacity: .8}.mqik-fc5852ff .mqik-d2c13fdf .mqik-804aa4d2>span{font-size:1.25rem;line-height:1.75rem}.mqik-4d21f8f0{min-height:13rem;width:24rem}.mqik-00c5a579{min-width:24rem}.mqik-00c5a579 .mqik-3e7fa4ad{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-00c5a579 .mqik-0638ac2a{margin-top:.5rem;width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));padding:.375rem .5rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px;transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-00c5a579 .mqik-0638ac2a:focus{--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.mqik-00c5a579 .mqik-f28058bc{resize:none}.mqik-f995f5df{display:flex;width:100%;justify-content:flex-end}.mqik-f995f5df>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-f995f5df .mqik-034046f4{border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));padding:.25rem .625rem;font-size:.875rem;line-height:1.25rem}.mqik-f995f5df .mqik-e3a7b3dd{background-color:var(--mexty-quik-primary-color);--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-f995f5df .mqik-e3a7b3dd:hover{background-color:var(--mexty-quik-secondary-color)}.mqik-f995f5df .mqik-e56b14ef{color:var(--mexty-quik-primary-color)}.mqik-f995f5df .mqik-e56b14ef:hover{--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-ea4828cb{min-width:24rem}.mqik-ea4828cb .mqik-69c31780{display:flex;flex-direction:row;align-items:center}.mqik-ea4828cb .mqik-69c31780 .mqik-3b283972{width:8rem}.mqik-ea4828cb .mqik-69c31780 .mqik-a91de201{flex:1 1 0%;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));padding:.25rem .375rem;outline:2px solid transparent;outline-offset:2px;border-radius:.375rem}.mqik-ea4828cb .mqik-69c31780 .mqik-a91de201:focus{--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity))}.mqik-ea4828cb .mqik-88b0e34c{width:24rem}.mqik-ea4828cb .mqik-88b0e34c .mqik-49d7c76c{flex:1 1 0%;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));white-space:pre-wrap;overflow-wrap:break-word}.mqik-10e26d8b{display:flex;width:100%;justify-content:flex-end}.mqik-10e26d8b>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-10e26d8b .mqik-fb7ad513{border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity));padding:.25rem .625rem;font-size:.875rem;line-height:1.25rem}.mqik-10e26d8b .mqik-1888034f{background-color:var(--mexty-quik-primary-color);--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-10e26d8b .mqik-1888034f:hover{background-color:var(--mexty-quik-secondary-color)}.mqik-10e26d8b .mqik-fd12526c{color:var(--mexty-quik-primary-color)}.mqik-10e26d8b .mqik-fd12526c:hover{--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-9841dc84{--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.mqik-9841dc84 .mqik-c237b5fe{--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.mqik-9841dc84.mqik-0ea1b868{--tw-bg-opacity: 1 !important;background-color:rgba(239,68,68,var(--tw-bg-opacity))!important;--tw-text-opacity: 1 !important;color:rgba(255,255,255,var(--tw-text-opacity))!important}.mqik-9841dc84.mqik-0ea1b868 .mqik-c237b5fe{--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-fdf1db3d{position:relative}.mqik-fdf1db3d .mqik-dca22d1a{display:flex;flex-direction:column;padding:.125rem}.mqik-fdf1db3d .mqik-dca22d1a .mqik-4051370b{position:relative;transform-origin:top right}.mqik-fdf1db3d .mqik-dca22d1a .mqik-4051370b>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgba(245,245,245,var(--tw-divide-opacity))}.mqik-fdf1db3d .mqik-dca22d1a .mqik-4051370b{z-index:60}.mqik-fdf1db3d .mqik-dca22d1a .mqik-4051370b button{width:100%;padding:.25rem;margin-left:0!important}.mqik-c14fd364{width:100%;border-top-left-radius:.375rem;border-top-right-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));z-index:20;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-c14fd364 .mqik-f25c897c{display:flex;width:100%;align-items:center;justify-content:flex-start;overflow:hidden;padding:.25rem .5rem}.mqik-c14fd364 .mqik-f25c897c .mqik-a134108d{width:2.5rem}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98{display:flex;flex:1 1 0%;flex-direction:column;justify-content:flex-start}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-a49f794d{display:inline-flex;align-items:center;padding-left:.5rem;padding-right:.5rem}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-a49f794d button{margin-right:.25rem;margin-left:-.25rem;border-radius:.25rem;padding-left:.375rem;padding-right:.375rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-a49f794d button:hover{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-a49f794d .mqik-c799b264{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-a49f794d .mqik-4762a60e{display:inline-flex;align-items:center;font-size:1rem;line-height:1.5rem}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-a49f794d .mqik-1b755ee9{padding:.125rem}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136{display:inline-flex;max-width:12rem;flex-wrap:nowrap;align-items:center}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.375rem * var(--tw-space-x-reverse));margin-left:calc(.375rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136{padding-left:.625rem;padding-right:.625rem;font-size:.875rem;line-height:1.25rem;overflow:hidden}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136 .mqik-168b09da{margin-right:.125rem;display:inline-block;height:1rem;width:1rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136 .mqik-6cc7fd46{display:flex;user-select:none;align-items:center;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity));flex:1 1 0%;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136 .mqik-6cc7fd46 .mqik-518c48a8{flex:1 1 0%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mqik-c14fd364 .mqik-f25c897c .mqik-81944d98 .mqik-b7735136 .mqik-78b56591{--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-270cc6c3{display:flex;flex-direction:row;align-items:center;justify-content:center}.mqik-c14fd364 .mqik-f25c897c .mqik-270cc6c3 .mqik-c35c4d17{width:1.5rem;border-radius:.375rem;padding:.125rem;color:var(--mexty-quik-primary-color);transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s}.mqik-c14fd364 .mqik-f25c897c .mqik-270cc6c3 .mqik-c35c4d17:hover{--tw-bg-opacity: 1;background-color:rgba(229,229,229,var(--tw-bg-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-4762a60e{font-weight:500}.mqik-c14fd364 .mqik-f25c897c .mqik-168b09da{height:1rem;width:1rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-c14fd364 .mqik-f25c897c .mqik-168b09da.mqik-4d4bff64{margin-right:.125rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-c14fd364 .mqik-758e5092{max-width:14rem;padding:.125rem .25rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));overflow-wrap:break-word}.mqik-be71408f{width:100%;border-top-width:1px;--tw-blur: var(--tw-empty, );--tw-brightness: var(--tw-empty, );--tw-contrast: var(--tw-empty, );--tw-grayscale: var(--tw-empty, );--tw-hue-rotate: var(--tw-empty, );--tw-invert: var(--tw-empty, );--tw-saturate: var(--tw-empty, );--tw-sepia: var(--tw-empty, );--tw-drop-shadow: var(--tw-empty, );filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);--tw-backdrop-blur: var(--tw-empty, );--tw-backdrop-brightness: var(--tw-empty, );--tw-backdrop-contrast: var(--tw-empty, );--tw-backdrop-grayscale: var(--tw-empty, );--tw-backdrop-hue-rotate: var(--tw-empty, );--tw-backdrop-invert: var(--tw-empty, );--tw-backdrop-opacity: var(--tw-empty, );--tw-backdrop-saturate: var(--tw-empty, );--tw-backdrop-sepia: var(--tw-empty, );backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);--tw-backdrop-blur: blur(4px);transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-be71408f .mqik-542c91a7{position:relative;display:flex;height:2.75rem;user-select:none;overflow:hidden;padding-left:.75rem;padding-right:.75rem}.mqik-be71408f .mqik-542c91a7 .mqik-1b2f1b85{height:4rem;width:100%;flex:1 1 0%;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding-top:.5rem;padding-bottom:.5rem}.mqik-be71408f .mqik-542c91a7 .mqik-99e44d1e{margin-left:.125rem;margin-right:.125rem;display:inline-block;padding:.125rem;font-size:0}.mqik-be71408f .mqik-542c91a7 .mqik-99e44d1e img{display:block;height:1.5rem;width:1.5rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-be71408f .mqik-542c91a7 .mqik-99e44d1e:hover{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity))}.mqik-be71408f .mqik-542c91a7 .mqik-9b27381d{display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-start}.mqik-3ee96595{position:relative;display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:.5rem;padding:.5rem}.mqik-312828d4{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;overflow:hidden;border-radius:.25rem;border-width:1px;--tw-border-opacity: .5}.mqik-312828d4:hover{--tw-border-opacity: .95}.mqik-312828d4 .mqik-ffa562df{height:2.5rem;width:2.5rem;flex-shrink:1}.mqik-312828d4 .mqik-ffa562df .mqik-0968d6ac{height:100%;width:100%}.mqik-312828d4 .mqik-6754df96{position:absolute;top:0px;right:0px;bottom:0px;left:0px;margin-left:2.5rem;padding-left:.25rem;padding-right:.25rem}.mqik-312828d4 .mqik-6754df96 .mqik-a30aa549 .mqik-ae5b68b3{display:block;text-overflow:ellipsis;white-space:nowrap;font-size:.875rem;line-height:1.25rem}.mqik-312828d4 .mqik-6754df96 .mqik-a30aa549 .mqik-436fa8ee,.mqik-312828d4 .mqik-6754df96 .mqik-a30aa549 .mqik-11934687{margin-right:.25rem;display:inline-block;font-size:.688rem;line-height:.875rem}.mqik-312828d4 .mqik-6754df96 .mqik-a30aa549 .mqik-11934687{--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-312828d4 .mqik-6754df96 .mqik-5043b508{position:absolute;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgba(239,68,68,var(--tw-bg-opacity));padding:.125rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));top:1px;right:1px}.mqik-312828d4 .mqik-6754df96 .mqik-5043b508:hover{--tw-bg-opacity: 1;background-color:rgba(248,113,113,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-f0b05e65{position:relative;padding:.25rem .5rem}.mqik-f0b05e65 .mqik-eb5d77c1{padding:.25rem}.mqik-f0b05e65 input{pointer-events:none;position:absolute;top:0px;right:0px;bottom:0px;left:0px;height:100%;width:100%;cursor:pointer;opacity:0}.mqik-dc323ff4{position:relative}.mqik-3ca5ac62{position:relative;min-height:2rem;border-top-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, .05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-3ca5ac62 .mqik-82fe072f{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e{display:flex;flex-shrink:1;flex-direction:row;align-items:center;justify-content:center}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-629e5f8f{margin-left:.25rem;margin-right:.25rem;display:block;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-629e5f8f span{display:block;padding:.25rem}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-629e5f8f:hover{color:var(--mexty-quik-primary-color)}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-629e5f8f.mqik-2a364c18{color:var(--mexty-quik-primary-color)}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-629e5f8f.mqik-2df3cc0c{cursor:default;--tw-text-opacity: 1;color:rgba(212,212,212,var(--tw-text-opacity))}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-0b0c2b5c{position:relative;padding-top:.75rem;padding-bottom:.75rem;padding-left:.75rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-0b0c2b5c.mqik-15140fd0{color:var(--mexty-quik-primary-color)}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-0b0c2b5c:hover{color:var(--mexty-quik-primary-color);--tw-text-opacity: .9}.mqik-3ca5ac62 .mqik-82fe072f .mqik-243bef8e .mqik-0b0c2b5c .mqik-803861b0{height:1.25rem;width:1.25rem}.mqik-3ca5ac62 .mqik-82fe072f .mqik-eaeeabbb span{--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-3ca5ac62 .mqik-82fe072f .mqik-eaeeabbb a{z-index:50;color:var(--mexty-quik-primary-color)}.mqik-3ca5ac62 .mqik-82fe072f .mqik-eaeeabbb a:hover{cursor:pointer}.mqik-0f628631{position:relative;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-0f628631 label{padding-left:.5rem;padding-right:.5rem;padding-bottom:.25rem;font-size:.75rem;line-height:1rem}.mqik-2f227fd2{pointer-events:none;font-size:1.25rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));position:absolute;top:0px;left:0px;z-index:10;height:100%;width:100%;text-align:center}.mqik-2f227fd2 .mqik-2988dc4b{position:relative;height:100%;width:100%;--tw-bg-opacity: 1;background-color:rgba(0,0,0,var(--tw-bg-opacity));opacity:.6}.mqik-2f227fd2.mqik-726b55ee{font-size:1.125rem;line-height:1.75rem}.mqik-2f227fd2.mqik-726b55ee .mqik-369ea13d{margin:60px auto 15px;width:150px}.mqik-2f227fd2 .mqik-9ac0afaf{height:50%;width:50%;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity: .1;pointer-events:none;position:absolute;top:25%;left:25%;margin-left:auto;margin-right:auto}.mqik-2f227fd2 .mqik-340def93{width:41.666667%;display:block;margin:0 auto 20px}.mqik-2f227fd2 .mqik-83477c83{opacity:.5;bottom:40px;left:50%;margin-left:-50px;position:absolute}.mqik-2f227fd2 .mqik-ec2ba334{display:inline-block;font-size:1.1em;margin-right:8px}.mqik-0320c9fa{position:absolute;z-index:10;display:none;width:100%;padding-top:.25rem;padding-bottom:.25rem;text-align:center;font-size:.875rem;line-height:1.25rem;opacity:0;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-0320c9fa.mqik-f63140b7{display:block;opacity:1}.mqik-0320c9fa .mqik-11cd2054{display:inline-block;border-radius:9999px;background-color:var(--mexty-quik-secondary-color);padding-left:.5rem;padding-right:.5rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-c5fc2b9f{position:relative;display:inline-block}.mqik-2d0ee789{position:absolute;right:0px;bottom:0px}.mqik-f3ee3da6{position:relative;margin-top:.25rem;margin-bottom:.25rem;margin-left:.25rem;display:flex;user-select:none;align-items:center;overflow:hidden;padding:.25rem}.mqik-b97d3817{position:relative;overflow:hidden;border-top-left-radius:.375rem;border-top-right-radius:.375rem}.mqik-b97d3817 .mqik-85cb961c{position:relative;max-height:13rem;bottom:0;min-height:40px;min-width:40px;max-width:100%}.mqik-b97d3817 .mqik-85cb961c .mqik-e068c589{display:block}.mqik-b97d3817 .mqik-85cb961c img{max-height:13rem;cursor:pointer;align-self:center;overflow:hidden;position:relative;z-index:2}.mqik-b97d3817 .mqik-85cb961c img.mqik-66f0f9fa{max-height:175px}.mqik-b97d3817 .mqik-85cb961c img.mqik-8e67e726{max-height:50px;max-width:100%}.mqik-b97d3817 .mqik-85cb961c img.mqik-f3595944{max-height:inherit;max-width:50px}.mqik-b97d3817 .mqik-85cb961c img.mqik-ad6eb812{box-shadow:none;border-width:0;border-radius:0;width:unset;margin:0;max-height:inherit}.mqik-6cc8f915{position:relative;margin-top:.25rem;margin-bottom:.25rem}.mqik-6cc8f915 .mqik-e7a58115{width:100%;border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:4px;--tw-border-opacity: 1;border-color:rgba(59,130,246,var(--tw-border-opacity));padding:.375rem;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76{display:flex;flex-direction:column;align-content:flex-start}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76 .mqik-e1371c16{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76 .mqik-83fe2fc2{font-size:.875rem!important;line-height:1.25rem!important;line-height:1rem!important;margin-top:.25rem;margin-bottom:.25rem}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76 .mqik-83fe2fc2.mqik-18bfc7fe{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76 .mqik-83fe2fc2 a{color:var(--mexty-quik-primary-color)}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76 .mqik-83fe2fc2 a:hover{text-decoration:underline}.mqik-6cc8f915 .mqik-e7a58115 .mqik-1169cf76 .mqik-7017ff1b{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-94991666{margin-bottom:.25rem;display:block;max-width:20rem;overflow:hidden;max-height:1000px}.mqik-94991666 h4{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mqik-94991666 .mqik-178c5de4{font-size:.875rem;line-height:1.25rem;opacity:.8}.mqik-94991666 .mqik-0a594c35{font-size:.875rem;line-height:1.25rem}.mqik-94991666 .mqik-0a594c35 a{color:var(--mexty-quik-primary-color)}.mqik-94991666 .mqik-0a594c35 a:hover{text-decoration:underline}.mqik-94991666 .mqik-f8cd4376{position:relative}.mqik-94991666 .mqik-f8cd4376 .mqik-a456e5e8{position:absolute;top:0px;left:0px;height:100%;width:100%;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity: .3}.mqik-94991666 .mqik-f8cd4376 .mqik-a456e5e8 .mqik-a9524bbe{position:absolute;z-index:10;height:4rem;width:6rem;cursor:pointer;border-radius:1rem;--tw-bg-opacity: 1;background-color:rgba(23,23,23,var(--tw-bg-opacity));--tw-bg-opacity: .8;top:50%;left:50%;margin-left:calc(6rem / -2);margin-top:calc(4rem / -2)}.mqik-94991666 .mqik-f8cd4376 .mqik-a456e5e8 .mqik-a9524bbe span{position:absolute;left:1.25rem;z-index:20;height:0px;width:0px;--tw-backdrop-blur: blur(16px);border-top:1rem solid transparent;border-left:2rem solid #e5e5e5;border-bottom:1rem solid transparent;top:calc(1rem / 2);left:2.25rem}.mqik-94991666 .mqik-f8cd4376 .mqik-a456e5e8:hover .mqik-a9524bbe{--tw-bg-opacity: 1;background-color:rgba(185,28,28,var(--tw-bg-opacity));--tw-bg-opacity: .8}.mqik-f9c1bc6c{display:inline-block;font-size:.875rem;line-height:1.25rem}.mqik-f9c1bc6c .mqik-73aa12ca{max-height:100px;overflow:hidden}.mqik-f9c1bc6c .mqik-73aa12ca .mqik-891139f6 .mqik-c6409bd1{min-height:24px;min-width:24px;vertical-align:top}.mqik-f9c1bc6c .mqik-73aa12ca .mqik-891139f6 .mqik-14df24fa{font-size:32px;line-height:1.1}.mqik-963640c5 .mqik-f9c1bc6c .mqik-73aa12ca .mqik-891139f6 .mqik-14df24fa{font-size:29px;left:-4px;position:relative}.mqik-f9c1bc6c .mqik-73aa12ca .mqik-891139f6 .mqik-55563ce3{min-height:48px;min-width:48px}.mqik-f9c1bc6c .mqik-4ee04c9f,.mqik-f9c1bc6c .mqik-ba3d91ab{height:90px}.mqik-f9c1bc6c .mqik-7a691046{bottom:10px}.mqik-342fb210{position:absolute;right:0px;bottom:0px;display:flex;width:100%;flex-direction:row;align-items:center;justify-content:flex-end}.mqik-342fb210 .mqik-4ee04c9f{height:1.25rem;width:2rem;background-image:linear-gradient(to left,var(--tw-gradient-stops));--tw-gradient-from: var(--u3-post-content-bg);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(255, 255, 255, 0))}.mqik-342fb210 .mqik-14c45232{background-color:var(--u3-post-content-bg)}.mqik-342fb210 .mqik-a3d41e1d{white-space:nowrap;font-size:.75rem;line-height:1rem}.mqik-342fb210 .mqik-a3d41e1d .mqik-3f591d27{display:inline-block;height:.875rem;width:.875rem;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(82,82,82,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(245,245,245,var(--tw-text-opacity));vertical-align:-3px}.mqik-342fb210 .mqik-a3d41e1d:hover{color:var(--mexty-quik-primary-color)}.mqik-342fb210 .mqik-a3d41e1d:hover .mqik-3f591d27{background-color:var(--mexty-quik-primary-color)}.mqik-a41ece2d{position:relative}.mqik-a41ece2d .mqik-342fb210{position:relative;flex-direction:row-reverse}.mqik-d1da61d1{position:relative}.mqik-db20077f{display:inline-block;font-weight:400}.mqik-db20077f p{overflow-wrap:break-word;word-wrap:break-word}.mqik-459e6526{display:block;font-size:.75rem;line-height:1rem;font-style:italic}.mqik-ce640c6c{visibility:hidden;float:right;cursor:pointer;user-select:none;margin-left:-.25rem;display:inline-flex;height:.75rem;padding-right:.5rem;line-height:1}.mqik-ce640c6c .mqik-64ed99d2{visibility:hidden;font-size:.688rem;line-height:.875rem;line-height:1}.mqik-ce640c6c .mqik-ff775782{pointer-events:none;position:absolute;right:0px;bottom:.375rem;display:flex;height:.75rem;align-items:center;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity));visibility:visible;white-space:nowrap;padding-right:.5rem}.mqik-ce640c6c .mqik-ff775782 .mqik-64ed99d2{visibility:visible}.mqik-f7e4dfc9{user-select:none;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity));display:inline-flex;height:1.5rem;align-items:center;overflow:hidden;padding-left:.375rem;padding-right:.375rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));margin-right:.125rem;margin-bottom:.125rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity))}.mqik-f7e4dfc9:hover{--tw-border-opacity: 1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.mqik-f7e4dfc9.mqik-fc7259fb:hover{--tw-border-opacity: 1;border-color:rgba(248,113,113,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(254,226,226,var(--tw-bg-opacity))}.mqik-f7e4dfc9.mqik-c49edd77:hover{--tw-border-opacity: 1;border-color:rgba(96,165,250,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(219,234,254,var(--tw-bg-opacity))}.mqik-f7e4dfc9 .mqik-9fa139e9{font-size:.875rem;line-height:1.25rem;line-height:0;position:relative}.mqik-f7e4dfc9 .mqik-9fa139e9 .mqik-4b4108bd{position:relative;font-size:.75rem;line-height:1rem}.mqik-f7e4dfc9 .mqik-9fa139e9 .mqik-4b4108bd .mqik-bac0c281{display:inline-block}.mqik-f7e4dfc9 .mqik-9fa139e9 .mqik-4b4108bd .mqik-a411a499{position:absolute;display:none;top:100%;left:0}.mqik-f7e4dfc9 .mqik-9fa139e9 .mqik-4b4108bd .mqik-92463326{position:absolute;display:none;top:0%;left:0}.mqik-f7e4dfc9 .mqik-2d7fff5f{margin:0 4px 0 0;max-height:16px;min-height:16px;max-width:16px;min-width:16px}.mqik-f7e4dfc9 .mqik-fd60eefd{display:flex;flex-direction:row-reverse;justify-content:flex-start;pointer-events:none;overflow:hidden;line-height:16px;font-size:medium}.mqik-fdfc9c9d{width:auto;border-radius:9999px;border-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-bg-opacity: .5;--tw-blur: var(--tw-empty, );--tw-brightness: var(--tw-empty, );--tw-contrast: var(--tw-empty, );--tw-grayscale: var(--tw-empty, );--tw-hue-rotate: var(--tw-empty, );--tw-invert: var(--tw-empty, );--tw-saturate: var(--tw-empty, );--tw-sepia: var(--tw-empty, );--tw-drop-shadow: var(--tw-empty, );filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);--tw-backdrop-blur: var(--tw-empty, );--tw-backdrop-brightness: var(--tw-empty, );--tw-backdrop-contrast: var(--tw-empty, );--tw-backdrop-grayscale: var(--tw-empty, );--tw-backdrop-hue-rotate: var(--tw-empty, );--tw-backdrop-invert: var(--tw-empty, );--tw-backdrop-opacity: var(--tw-empty, );--tw-backdrop-saturate: var(--tw-empty, );--tw-backdrop-sepia: var(--tw-empty, );backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);--tw-backdrop-blur: blur(8px);transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;z-index:90}.mqik-fdfc9c9d.mqik-11a34061{opacity:1}.mqik-fdfc9c9d .mqik-7eba8b75{position:relative;display:flex;user-select:none;padding-left:.5rem;padding-right:.5rem}.mqik-fdfc9c9d .mqik-7eba8b75 .mqik-0f4da2dd{display:flex;width:100%;flex:1 1 0%;white-space:nowrap}.mqik-fdfc9c9d .mqik-7eba8b75 .mqik-741923ca{height:2.25rem;width:2.25rem;padding-top:.25rem;padding-bottom:.25rem;font-size:0}.mqik-fdfc9c9d .mqik-7eba8b75 .mqik-741923ca .mqik-1093d31b{position:relative;margin-left:auto;margin-right:auto;height:2.25rem;width:1.75rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-fdfc9c9d .mqik-7eba8b75 .mqik-741923ca .mqik-1093d31b img{position:absolute;bottom:.5rem;margin-left:auto;margin-right:auto;display:block;height:auto;width:100%;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-fdfc9c9d .mqik-7eba8b75 .mqik-741923ca:hover .mqik-1093d31b{width:2.25rem}.mqik-fdfc9c9d .mqik-0891c544{position:fixed;top:0px;left:0px;height:100%;width:100%}.mqik-2f5c50fc{display:flex;flex:1 1 0%;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}.mqik-2f5c50fc .mqik-ec597914{margin-right:.75rem;display:inline-block;border-radius:.25rem;border-width:1px;--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity));padding-left:.25rem;padding-right:.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity));height:22px}.mqik-2f5c50fc .mqik-ec597914 .mqik-b5985ddd{margin-top:2px;width:16px;height:16px}.mqik-2f5c50fc .mqik-ec597914.mqik-7c91bb5a,.mqik-2f5c50fc .mqik-ec597914:hover{--tw-border-opacity: 1;border-color:rgba(96,165,250,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(239,246,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(29,78,216,var(--tw-text-opacity))}.mqik-da250324.mqik-22b21436{border-left-width:4px;--tw-border-opacity: 1;border-color:rgba(64,64,64,var(--tw-border-opacity));--tw-border-opacity: .5;padding-top:.125rem;padding-bottom:.125rem;padding-left:.5rem}.mqik-f0fab7a5{cursor:auto}.mqik-8e707ddc{cursor:auto}.mqik-d4b42dec{cursor:auto}.mqik-7203e589{cursor:auto}.mqik-73977263{cursor:auto}.mqik-f5882c27{max-width:15rem;padding-right:.5rem;padding-bottom:.125rem;padding-left:.625rem;position:relative;white-space:pre-wrap;overflow-wrap:break-word;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.mqik-f5882c27.mqik-6653766f{padding-top:.375rem}.mqik-f5882c27.mqik-3a503688{position:absolute;z-index:20;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-bg-opacity: .75;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));right:.25rem;bottom:.25rem;height:1.5rem;padding-left:.375rem;padding-right:.375rem}.mqik-719476f7{display:flex;flex-direction:row;align-items:center}.mqik-c266591c{display:flex;flex-direction:row;align-content:center;align-items:center;padding:.25rem .625rem .125rem}.mqik-c266591c>button{font-size:.875rem;line-height:1.25rem;font-weight:600}.mqik-c266591c.mqik-04ecbe6e,.mqik-c266591c.mqik-20cd8c34{display:none}.mqik-b32bdc1d{display:flex;flex-direction:row;align-items:center}.mqik-b32bdc1d>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.mqik-b32bdc1d{border-radius:.25rem;border-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));font-size:.875rem;line-height:1.25rem;margin-bottom:.125rem;overflow:hidden;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-b32bdc1d .mqik-61056eb6{--tw-bg-opacity: 1;background-color:rgba(250,250,250,var(--tw-bg-opacity));padding:.25rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity));opacity:.8}.mqik-b32bdc1d .mqik-61056eb6 .mqik-172d6b6f{height:1rem;width:1rem}.mqik-b32bdc1d .mqik-61056eb6:hover{opacity:1}.mqik-b32bdc1d .mqik-61056eb6.mqik-cbbbd759{--tw-bg-opacity: 1;background-color:rgba(239,246,255,var(--tw-bg-opacity))}.mqik-b32bdc1d .mqik-61056eb6.mqik-cbbbd759:hover{color:var(--mexty-quik-primary-color)}.mqik-b32bdc1d .mqik-61056eb6.mqik-f6bf4105{--tw-bg-opacity: 1;background-color:rgba(254,242,242,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.mqik-b32bdc1d .mqik-61056eb6.mqik-f6bf4105:hover{--tw-text-opacity: 1;color:rgba(220,38,38,var(--tw-text-opacity))}.mqik-b32bdc1d .mqik-61056eb6.mqik-2160a2b5{--tw-bg-opacity: 1;background-color:rgba(255,251,235,var(--tw-bg-opacity))}.mqik-b32bdc1d .mqik-61056eb6.mqik-2160a2b5:hover{--tw-text-opacity: 1;color:rgba(245,158,11,var(--tw-text-opacity))}.mqik-f1d36a0f{position:relative;--u3-post-space: 1%}@media (min-width: 480px){.mqik-f1d36a0f{--u3-post-space: 15%}}@media (min-width: 768px){.mqik-f1d36a0f{--u3-post-space: 25%}}@media (min-width: 976px){.mqik-f1d36a0f{--u3-post-space: 31%}}.mqik-f1d36a0f.mqik-0ec905cc{--tw-bg-opacity: 1;background-color:rgba(245,158,11,var(--tw-bg-opacity));--tw-bg-opacity: .3}.mqik-6913062f{display:flex;flex-direction:row}.mqik-6913062f.mqik-19021ca1{margin-left:3rem;display:flex;padding-bottom:.25rem;max-width:100%}.mqik-6913062f.mqik-19021ca1 .mqik-0f164d79{position:relative;display:flex;min-width:3.5rem;border-radius:.375rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);flex-direction:column-reverse;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));max-width:100%}.mqik-6913062f.mqik-19021ca1.mqik-684ca595 .mqik-0f164d79 .mqik-b510827b{position:absolute;right:.25rem;bottom:.25rem;z-index:20;--tw-bg-opacity: 1;background-color:rgba(82,82,82,var(--tw-bg-opacity))}.mqik-6913062f.mqik-19021ca1 .mqik-a5ab8f0d{visibility:hidden;opacity:0;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-6913062f.mqik-19021ca1 .mqik-ab8a03e6{visibility:visible;opacity:1}.mqik-6913062f.mqik-19021ca1:hover .mqik-a5ab8f0d{visibility:visible;opacity:1}.mqik-6913062f .mqik-ef406e09{position:absolute;height:auto;width:2rem;padding-top:.125rem;margin-left:-2.5rem}.mqik-6913062f .mqik-ef406e09>span{display:block;width:2rem}.mqik-6913062f .mqik-0ac0d261{position:absolute;bottom:-.625rem;left:0px;z-index:20;margin-left:.25rem;margin-right:.25rem;align-self:flex-end}.mqik-6913062f .mqik-ef74cd5b{display:none;flex-direction:row;align-items:center;justify-content:flex-start;padding-top:.25rem;padding-bottom:.25rem;padding-left:.25rem;padding-right:var(--u3-post-space);max-width:calc(100% - 2rem)}.mqik-6913062f .mqik-ef74cd5b .mqik-6812375f{border-radius:.5rem;border-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding:.125rem .5rem;--tw-shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);min-width:120px;--u3-post-content-bg: #fff}.mqik-6913062f .mqik-ef74cd5b .mqik-d81b5da3{height:1.5rem;flex-shrink:1;align-self:center;display:inline-flex;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));opacity:1;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;margin-left:.25rem;margin-right:.25rem}.mqik-6913062f .mqik-ef74cd5b .mqik-d81b5da3>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}@media (min-width: 480px){.mqik-6913062f .mqik-ef74cd5b .mqik-d81b5da3{visibility:hidden;opacity:0}}.mqik-6913062f:hover .mqik-ef74cd5b .mqik-d81b5da3{visibility:visible;opacity:1}.mqik-6913062f.mqik-bcece314 .mqik-ef74cd5b .mqik-d81b5da3{visibility:visible;opacity:1}.mqik-6913062f .mqik-04fa9bc7{display:flex;flex-direction:row;align-items:center;justify-content:flex-end}.mqik-6913062f .mqik-04fa9bc7.mqik-31583fbc{justify-content:space-between;padding-top:.25rem;padding-bottom:.125rem}.mqik-6913062f .mqik-04fa9bc7 .mqik-877f3d06{flex:1 1 0%}.mqik-6913062f .mqik-04fa9bc7 .mqik-9ce54ca8,.mqik-6913062f .mqik-04fa9bc7 .mqik-4c78127f{flex-shrink:1;white-space:nowrap;padding-left:.5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-6913062f .mqik-04fa9bc7 .mqik-fd7cf88f{display:flex;align-items:center;justify-content:flex-start;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-6913062f .mqik-04fa9bc7 .mqik-5445ec32{cursor:default;font-size:.75rem;line-height:1rem;text-decoration:none}.mqik-6913062f .mqik-04fa9bc7 .mqik-5445ec32:hover{cursor:default;text-decoration:none}.mqik-6913062f .mqik-04fa9bc7 .mqik-fdfa6933,.mqik-6913062f .mqik-04fa9bc7 .mqik-e14249f1{display:inline-flex;align-items:center}.mqik-6913062f .mqik-04fa9bc7 .mqik-2da5b521,.mqik-6913062f .mqik-04fa9bc7 .mqik-0fb4ac70,.mqik-6913062f .mqik-04fa9bc7 .mqik-9e4d8b07{height:.75rem;width:.75rem}.mqik-e623aab8{position:relative}.mqik-e623aab8 .mqik-ef74cd5b{padding-top:.25rem}.mqik-e623aab8 .mqik-ef74cd5b .mqik-6812375f [header-x]{display:none}.mqik-1d6d463c{position:relative}.mqik-1d6d463c .mqik-ef74cd5b .mqik-6812375f{border-top-left-radius:0}.mqik-fcfd90bb{position:relative}.mqik-5818578f{margin-right:.5rem;margin-left:0;flex-direction:row-reverse}.mqik-5818578f .mqik-ef406e09{display:none}.mqik-5818578f .mqik-0ac0d261{right:0px;bottom:-.625rem;left:auto;z-index:20}.mqik-5818578f .mqik-ef74cd5b{flex-direction:row-reverse;padding-top:.25rem;padding-right:0;padding-left:var(--u3-post-space)}.mqik-5818578f .mqik-ef74cd5b .mqik-6812375f{border-radius:.375rem;--tw-border-opacity: 1;border-color:rgba(236,253,245,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(236,253,245,var(--tw-bg-opacity));--u3-post-content-bg: #ecfdf5}.mqik-5818578f .mqik-ef74cd5b .mqik-6812375f [header-x]{flex-direction:row-reverse}.mqik-5818578f .mqik-ef74cd5b .mqik-d81b5da3{flex-direction:row-reverse}.mqik-f736b797 .mqik-d81b5da3{display:none!important}.mqik-a5ab8f0d{position:absolute;top:-.375rem;right:-.625rem;z-index:20}.mqik-bfd26e4e{position:relative;display:flex;flex:1 1 0%;flex-direction:row;flex-wrap:nowrap}.mqik-bfd26e4e .mqik-aa1fd571{display:inline-block;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-bfd26e4e .mqik-aa1fd571 .mqik-7471d6eb{height:.875rem;width:.875rem}.mqik-bfd26e4e .mqik-f9fe7a95{height:1.5rem;overflow:hidden;border-radius:9999px;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,229,229,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));padding-left:.25rem;padding-right:.25rem}.mqik-bfd26e4e .mqik-f9fe7a95:hover,.mqik-bfd26e4e .mqik-f9fe7a95.mqik-478c605f{--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.mqik-bfd26e4e .mqik-f9fe7a95:hover .mqik-7471d6eb,.mqik-bfd26e4e .mqik-f9fe7a95.mqik-478c605f .mqik-7471d6eb{color:var(--mexty-quik-primary-color)}.mqik-f02aa279,.mqik-57573d5f{display:flex;height:2rem;width:100%;flex-direction:column;align-items:center;justify-content:center}.mqik-f02aa279 .mqik-dab47c84,.mqik-57573d5f .mqik-dab47c84{width:100%;border-top-width:1px}.mqik-f02aa279 .mqik-4c6b39c7,.mqik-57573d5f .mqik-4c6b39c7{position:absolute;border-radius:9999px;padding-left:.5rem;padding-right:.5rem;font-size:.75rem;line-height:1rem}.mqik-f02aa279 .mqik-dab47c84{--tw-border-opacity: 1;border-color:rgba(212,212,212,var(--tw-border-opacity))}.mqik-f02aa279 .mqik-4c6b39c7{--tw-bg-opacity: 1;background-color:rgba(212,212,212,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-57573d5f .mqik-dab47c84{--tw-border-opacity: 1;border-color:rgba(217,119,6,var(--tw-border-opacity));opacity:.6}.mqik-57573d5f .mqik-4c6b39c7{border-width:1px;--tw-border-opacity: 1;border-color:rgba(217,119,6,var(--tw-border-opacity));--tw-border-opacity: .6;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgba(217,119,6,var(--tw-text-opacity))}.mqik-ca428930{position:relative}.mqik-e348b088{position:absolute;right:1rem;bottom:1rem;z-index:20;height:1.5rem;width:1.5rem;cursor:pointer;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgba(23,23,23,var(--tw-bg-opacity));--tw-bg-opacity: .8}.mqik-12b068c8{visibility:hidden;position:absolute;margin:.5rem 1rem 0;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgba(180,83,9,var(--tw-bg-opacity));font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity));opacity:0;z-index:10;display:flex;align-items:center;justify-content:center;--tw-bg-opacity: .5;padding-left:.25rem;padding-right:.25rem;--tw-backdrop-blur: var(--tw-empty, );--tw-backdrop-brightness: var(--tw-empty, );--tw-backdrop-contrast: var(--tw-empty, );--tw-backdrop-grayscale: var(--tw-empty, );--tw-backdrop-hue-rotate: var(--tw-empty, );--tw-backdrop-invert: var(--tw-empty, );--tw-backdrop-opacity: var(--tw-empty, );--tw-backdrop-saturate: var(--tw-empty, );--tw-backdrop-sepia: var(--tw-empty, );backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);--tw-backdrop-blur: blur(4px);width:calc(100% - 30px)}.mqik-12b068c8.mqik-41a5fd77{visibility:visible;opacity:1}.mqik-12b068c8 .mqik-bc058da2{position:relative;display:inline-block;padding-left:1.25rem;padding-right:1.25rem;text-align:center;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-12b068c8 .mqik-bc058da2.mqik-93946fdf{cursor:pointer}.mqik-12b068c8 .mqik-bc058da2 .mqik-3119bb0a{display:inline-block;padding:.25rem;vertical-align:top}.mqik-12b068c8 .mqik-bc058da2 .mqik-3119bb0a svg{display:inline-block;vertical-align:top}.mqik-12b068c8 .mqik-bc058da2 span{display:inline-block;padding-top:.25rem;padding-bottom:.25rem}.mqik-12b068c8 .mqik-9fbcf278{position:absolute;right:.25rem;display:inline-block;height:1.5rem;width:1.5rem;padding:.25rem}.mqik-12b068c8 .mqik-9fbcf278 .mqik-02d84790{height:1rem;width:1rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-f039e3e1{position:absolute;height:100%;width:100%}.mqik-f039e3e1 .mqik-05ea1f8c{height:100%;width:100%}.mqik-f039e3e1 .mqik-05ea1f8c .mqik-17088fc9{position:relative;height:100%;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity))}.mqik-f039e3e1 .mqik-727615df{position:relative;margin-bottom:.25rem;width:auto}.mqik-f039e3e1 .mqik-727615df.mqik-67fa946d{position:relative}.mqik-f039e3e1 .mqik-727615df.mqik-1f7842d4{margin-bottom:0}.mqik-c5cd3113{display:none;overflow:hidden}.mqik-c0e296a8{overflow-x:hidden}.mqik-0a3960a1{position:relative;height:18rem;flex-grow:1;--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));--tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-0a3960a1 .mqik-2849625c{--tw-bg-opacity: 1;background-color:rgba(110,231,183,var(--tw-bg-opacity))}.mqik-0a3960a1 .mqik-0900db8a{position:absolute;top:5rem;right:0px;z-index:60;height:7rem}.mqik-0a3960a1 .mqik-0900db8a .mqik-6ba7686a{width:3rem;border-top-left-radius:.375rem;border-bottom-left-radius:.375rem;background-color:var(--mexty-quik-secondary-color);padding:.5rem .25rem;font-weight:700;text-transform:uppercase;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-0a3960a1 .mqik-f3227ce7{position:absolute;top:11rem;right:0px;z-index:60;height:7rem}.mqik-0a3960a1 .mqik-f3227ce7 .mqik-6ba7686a{width:3rem;border-top-left-radius:.375rem;border-bottom-left-radius:.375rem;background-color:var(--mexty-quik-secondary-color);padding:.5rem .25rem;font-weight:700;text-transform:uppercase;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-35bb03ec{display:flex;width:20rem;flex-direction:column;--tw-shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-35bb03ec.mqik-53d2bd64 .mqik-069ba657{height:0px}.mqik-35bb03ec .mqik-069ba657{overflow:hidden;--tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.mqik-35bb03ec .mqik-a098bb29{height:18rem}.mqik-a4e08f2d{position:fixed;right:0px;bottom:0px;margin-right:var(--mexty-quik-width, "300px");z-index:99999}.mqik-a4e08f2d .mqik-0ac00af3{display:flex;flex-direction:row;align-items:flex-end}.mqik-a4e08f2d .mqik-0ac00af3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-a4e08f2d .mqik-0ac00af3{padding-right:.75rem}.mqik-e9623fc4{display:flex;height:100%;width:100%;flex:1 1 0%}.mqik-e9623fc4 .mqik-eda00eab{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem}.mqik-e9623fc4 .mqik-eda00eab .mqik-13b1ae77{height:3rem;width:3rem;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-e9623fc4 .mqik-eda00eab .mqik-16d43afe{text-align:center;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b{margin-top:1.5rem;padding-top:.5rem;padding-bottom:.5rem;text-align:center}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b .mqik-b1c0de58{margin:.25rem;border-radius:.25rem;padding:.375rem .875rem;text-align:center;font-weight:500;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b .mqik-9b4edf97{background-color:var(--mexty-quik-primary-color);--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b .mqik-9b4edf97:hover{background-color:var(--mexty-quik-secondary-color);--tw-shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b .mqik-9b4edf97:active{background-color:var(--mexty-quik-secondary-color);--tw-shadow: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b .mqik-1c2e67da{color:var(--mexty-quik-primary-color)}.mqik-e9623fc4 .mqik-eda00eab .mqik-a70f0c5b .mqik-1c2e67da:hover{color:var(--mexty-quik-secondary-color)}.mqik-eaeccb35{min-width:1rem;border-radius:9999px;background-color:var(--mexty-quik-primary-color);padding:.125rem .375rem;text-align:center;font-size:.688rem;line-height:.875rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.mqik-745f6b5a{position:relative}.mqik-745f6b5a .mqik-7f6f6a17{position:absolute;right:-.25rem;bottom:0px;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding:.125rem;color:var(--mexty-quik-primary-color);border-width:1px;--tw-border-opacity: 1;border-color:rgba(64,64,64,var(--tw-border-opacity));--tw-border-opacity: .3}.mqik-745f6b5a .mqik-7f6f6a17 .mqik-cf411b3f{height:.625rem;width:.625rem}.mqik-919643f2{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%}.mqik-919643f2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.375rem * var(--tw-space-x-reverse));margin-left:calc(.375rem * calc(1 - var(--tw-space-x-reverse)))}.mqik-919643f2{border-radius:.375rem;padding:.25rem .375rem;text-decoration:none;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s}.mqik-919643f2:hover{--tw-bg-opacity: 1;background-color:rgba(245,245,245,var(--tw-bg-opacity));text-decoration:none}.mqik-919643f2.mqik-96ed684f{font-weight:500}.mqik-919643f2 .mqik-6ad1ab83{flex:1 1 0%}.mqik-919643f2 .mqik-433de003{display:inline-flex;flex-direction:column;align-items:flex-end}.mqik-919643f2 .mqik-433de003 .mqik-580175b4{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgba(82,82,82,var(--tw-text-opacity))}.mqik-80f31a48{position:relative;display:inline-block}.mqik-1e85479b{position:absolute;right:0px;bottom:0px}.mqik-936757b2{display:flex;padding:.125rem .25rem}.mqik-c8ed5811{position:relative;height:100%}.mqik-c8ed5811 .mqik-e611ce1a{position:relative;height:100%;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.mqik-a386b190{display:flex;height:100%;flex-direction:column}\n',document.head.appendChild(_),System.register(["./vendor-legacy.c06bd478.js","./index-legacy.d16f587a.js","./index-legacy.04c5614c.js","./jsx-runtime_commonjs-proxy-legacy.5ab9bd6e.js","./index-legacy.c935fe2c.js","./index-legacy.84fe4859.js","./PlusIcon-legacy.b764432c.js","./index-legacy.ebda4395.js","./FormattedMarkdownMessage-legacy.1a60203d.js"],(function(c){"use strict";var p,f,g,b,y,w,E,_,q,A,P,T,I,M,N,R,O,L,D,F,H,U,j,B,z,V,W,G,K,Y,X,Q,J,Z,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,pe,he,fe,me,ge,ve,be,ye,ke,we,xe,Ee,Ce,Se,_e,qe,Ae,Pe,Te,Ie,Me,Ne,Re,Oe,Le,De,Fe,He,Ue,je,Be,ze,Ve,We,Ge,Ke,Ye,Xe,Qe,Je,Ze,$e,et,tt,nt,rt,it,ot,at,st,lt,ct,ut,dt,pt,ht,ft,mt,gt,vt,bt,yt,kt,wt,xt,Et,Ct,St,_t,qt,At,Pt,Tt,It,Mt,Nt,Rt,Ot,Lt,Dt,Ft,Ht,Ut,jt,Bt,zt,Vt,Wt,Gt,Kt,Yt,Xt,Qt,Jt,Zt,$t,en,tn,nn,rn,on,an,sn,ln,cn,un,dn,pn,hn,fn,mn,gn,vn,bn,yn,kn,wn,xn,En,Cn,Sn,_n,qn,An,Pn,Tn,In,Mn,Nn,Rn,On,Ln,Dn,Fn,Hn,Un,jn,Bn,zn,Vn,Wn,Gn,Kn,Yn,Xn,Qn,Jn,Zn,$n,er,tr,nr,rr,ir,or,ar,sr,lr,cr,ur,dr,pr,hr,fr,mr,gr,vr,br,yr,kr,wr,xr,Er,Cr,Sr,_r,qr,Ar,Pr,Tr,Ir,Mr,Nr,Rr,Or,Lr,Dr,Fr,Hr,Ur,jr,Br,zr,Vr,Wr,Gr,Kr,Yr,Xr,Qr,Jr,Zr,$r,ei,ti,ni,ri,ii,oi,ai,si,li,ci,ui,di,pi,hi,fi,mi,gi,vi,bi,yi,ki,wi,xi,Ei,Ci,Si,_i,qi,Ai,Pi,Ti,Ii,Mi,Ni,Ri,Oi,Li,Di,Fi,Hi,Ui,ji,Bi,zi,Vi,Wi,Gi,Ki,Yi,Xi,Qi,Ji,Zi,$i,eo,to,no,ro,io,oo,ao,so,lo,co,uo,po,ho,fo,mo,go,vo,bo,yo,ko,wo,xo,Eo,Co,So,_o,qo,Ao,Po,To,Io,Mo,No,Ro,Oo,Lo,Do,Fo,Ho,Uo,jo,Bo,zo,Vo,Wo,Go,Ko,Yo,Xo,Qo,Jo,Zo,$o,ea,ta,na,ra,ia,oa,aa,sa,la,ca,ua,da,pa,ha,fa,ma,ga,va,ba,ya,ka,wa,xa,Ea,Ca,Sa,_a,qa,Aa,Pa,Ta,Ia,Ma,Na,Ra,Oa,La,Da,Fa,Ha,Ua,ja,Ba,za,Va,Wa,Ga,Ka,Ya,Xa,Qa,Ja,Za,$a,es,ts,ns,rs,is,os,as,ss,ls,cs,us,ds,ps,hs,fs,ms,gs,vs,bs,ys,ks,ws,xs,Es,Cs,Ss,_s,qs,As,Ps,Ts,Is,Ms,Ns,Rs,Os,Ls,Ds,Fs,Hs,Us,js,Bs,zs,Vs,Ws,Gs,Ks,Ys,Xs,Qs,Js,Zs,$s;return{setters:[function(e){p=e.B,f=e.x,g=e.G,b=e.R,y=e.w,w=e.A,E=e.F,_=e.D,q=e.Y,A=e.a,P=e.H,T=e.$,I=e.Z,M=e.a3,N=e.a4,R=e.a5,O=e.a6,L=e.O,D=e.a7,F=e.U,H=e.a8,U=e.a9,j=e.I,B=e.q,z=e.aa,V=e.ab,W=e.V,G=e.u,K=e.S,Y=e.C},function(e){X=e.F,Q=e.av,J=e.cD,Z=e.cE,$=e.cF,ee=e.Z,te=e.o,ne=e.cG,re=e.a,ie=e.cH,oe=e.cI,ae=e.cJ,se=e.be,le=e.cK,ce=e.cL,ue=e.cd,de=e.cM,pe=e.bd,he=e.cN,fe=e.cO,me=e.aa,ge=e.k,ve=e.$,be=e.M,ye=e.cP,ke=e.cQ,we=e.cR,xe=e.cw,Ee=e.cv,Ce=e.cS,Se=e.C,_e=e.bZ,qe=e.cn,Ae=e.K,Pe=e.d,Te=e.cT,Ie=e.cU,Me=e.cV,Ne=e.L,Re=e.b4,Oe=e.D,Le=e.b2,De=e.a2,Fe=e.bI,He=e.ba,Ue=e.cu,je=e.cW,Be=e.cX,ze=e.X,Ve=e.cY,We=e.cZ,Ge=e.a9,Ke=e.c_,Ye=e.c$,Xe=e.an,Qe=e.d0,Je=e.c,Ze=e.d1,$e=e.ar,et=e.d2,tt=e.d3,nt=e.d4,rt=e.d5,it=e.bN,ot=e.d6,at=e.d7,st=e.d8,lt=e.d9,ct=e.aH,ut=e.da,dt=e.db,pt=e.dc,ht=e.dd,ft=e.de,mt=e.df,gt=e.dg,vt=e.dh,bt=e.di,yt=e.dj,kt=e.dk,wt=e.dl,xt=e.dm,Et=e.dn,Ct=e.dp,St=e.dq,_t=e.dr,qt=e.ds,At=e.dt,Pt=e.a7,Tt=e.du,It=e.dv,Mt=e.cz,Nt=e.dw,Rt=e.dx,Ot=e.dy,Lt=e.dz,Dt=e.dA,Ft=e.dB,Ht=e.dC,Ut=e.dD,jt=e.dE,Bt=e.dF,zt=e.dG,Vt=e.dH,Wt=e.dI,Gt=e.dJ,Kt=e.dK,Yt=e.dL,Xt=e.dM,Qt=e.dN,Jt=e.dO,Zt=e.dP,$t=e.a6,en=e.s,tn=e.dQ,nn=e.r,rn=e.dR,on=e.ab,an=e.dS,sn=e.dT,ln=e.dU,cn=e.dV,un=e.dW,dn=e.b6,pn=e.dX,hn=e.dY,fn=e.bS,mn=e.bR,gn=e.dZ,vn=e.d_,bn=e.d$,yn=e.e0,kn=e.ac,wn=e.e1,xn=e.e2,En=e.e3,Cn=e.e4,Sn=e.b9,_n=e.e5,qn=e.e6,An=e.e7,Pn=e.e8,Tn=e.e9,In=e.ea,Mn=e.eb,Nn=e.ec,Rn=e.ed,On=e.ee,Ln=e.ef,Dn=e.eg,Fn=e.eh,Hn=e.W,Un=e.ei,jn=e.bC,Bn=e.ej,zn=e.ek,Vn=e.el,Wn=e.em,Gn=e.en,Kn=e.bP,Yn=e.eo,Xn=e.bE,Qn=e.ep,Jn=e.eq,Zn=e.a1,$n=e.er,er=e.es,tr=e.et,nr=e.eu,rr=e.ev,ir=e.ew,or=e.ex,ar=e.ey,sr=e.aw,lr=e.ax,cr=e.ez,ur=e.eA,dr=e.eB,pr=e.eC,hr=e.P,fr=e.aN,mr=e.aX,gr=e.eD,vr=e.ck,br=e.b3,yr=e.eE,kr=e.eF,wr=e.aI,xr=e.eG,Er=e.eH,Cr=e.eI,Sr=e.eJ,_r=e.eK,qr=e.bz,Ar=e.eL,Pr=e.eM,Tr=e.eN,Ir=e.eO,Mr=e.eP,Nr=e.eQ,Rr=e.eR,Or=e.eS,Lr=e.eT,Dr=e.eU,Fr=e.eV,Hr=e.eW,Ur=e.eX,jr=e.eY,Br=e.eZ,zr=e.e_,Vr=e.e$,Wr=e.f0,Gr=e.f1,Kr=e.f2,Yr=e.f3,Xr=e.f4,Qr=e.f5,Jr=e.f6,Zr=e.f7,$r=e.f8,ei=e.f9,ti=e.fa,ni=e.fb,ri=e.fc,ii=e.fd,oi=e.c8,ai=e.fe,si=e.ff,li=e.aM,ci=e.c2,ui=e.fg,di=e.fh,pi=e.cp,hi=e.fi,fi=e.fj,mi=e.fk,gi=e.fl,vi=e.fm,bi=e.fn,yi=e.fo,ki=e.fp,wi=e.fq,xi=e.ad,Ei=e.bt,Ci=e.fr,Si=e.fs,_i=e.ft,qi=e.fu,Ai=e.fv,Pi=e.fw,Ti=e.fx,Ii=e.fy,Mi=e.fz,Ni=e.fA,Ri=e.fB,Oi=e.fC,Li=e.fD,Di=e.fE,Fi=e.fF,Hi=e.as,Ui=e.fG,ji=e.ao,Bi=e.fH,zi=e.fI,Vi=e.fJ,Wi=e.fK,Gi=e.fL,Ki=e.fM,Yi=e.fN,Xi=e.bo,Qi=e.fO,Ji=e.fP,Zi=e.bO,$i=e.fQ,eo=e.fR,to=e.fS,no=e.fT,ro=e.fU,io=e.fV,oo=e.bj,ao=e.fW,so=e.fX,lo=e.fY,co=e.fZ,uo=e.f_,po=e.f$,ho=e.g0,fo=e.g1,mo=e.g2,go=e.g3,vo=e.g,bo=e.g4,yo=e.e,ko=e.g5,wo=e.g6,xo=e.g7,Eo=e.g8,Co=e.aK,So=e.g9,_o=e.bG,qo=e.ga,Ao=e.bg,Po=e.co,To=e.gb,Io=e.l,Mo=e.h,No=e.gc,Ro=e.aS,Oo=e.j,Lo=e.bb,Do=e.gd,Fo=e.ge,Ho=e.a8,Uo=e.gf,jo=e.m,Bo=e.gg,zo=e.gh,Vo=e.gi,Wo=e.gj,Go=e.gk,Ko=e.gl,Yo=e.gm,Xo=e.ag,Qo=e.gn,Jo=e.p,Zo=e.go,$o=e.ch,ea=e.gp},function(e){ta=e.s,na=e.d,ra=e.f,ia=e.g,oa=e.h,aa=e.u,sa=e.m,la=e.j,ca=e.k,ua=e.o,da=e.n,pa=e.l,ha=e.p,fa=e.q,ma=e.t,ga=e.v,va=e.w,ba=e.x,ya=e.y,ka=e.z,wa=e.A,xa=e.C,Ea=e.D,Ca=e.M,Sa=e.E,_a=e.F,qa=e.G,Aa=e.H,Pa=e.I,Ta=e.J,Ia=e.K,Ma=e.L,Na=e.N,Ra=e.O,Oa=e.P,La=e.Q,Da=e.R,Fa=e.S,Ha=e.T,Ua=e.U,ja=e.V,Ba=e.X,za=e.Y,Va=e.Z,Wa=e._,Ga=e.$},function(e){Ka=e.r},function(e){Ya=e.U,Xa=e.X,Qa=e.c,Ja=e.P,Za=e.m,$a=e.i,es=e.T,ts=e.a,ns=e.Y,rs=e.b,is=e.d,os=e.e},function(e){as=e.P,ss=e.A,ls=e.S},function(e){cs=e.s,us=e.$,ds=e.Q,ps=e.L,hs=e.M,fs=e.a,ms=e.b,gs=e.G,vs=e.c,bs=e.d,ys=e.e,ks=e.g,ws=e.f,xs=e.h,Es=e.A,Cs=e.i,Ss=e.C,_s=e.X,qs=e.P,As=e.j,Ps=e.k,Ts=e.m,Is=e.W,Ms=e.l,Ns=e.n,Rs=e.o,Os=e.t,Ls=e.p,Ds=e.q,Fs=e.r,Hs=e.u,Us=e.v,js=e.w,Bs=e.x,zs=e.y,Vs=e.V,Ws=e.S,Gs=e.E,Ks=e.z,Ys=e.B,Xs=e.D},function(e){Qs=e.g,Js=e.F},function(e){Zs=e.F,$s=e.i}],execute:function(){var el,tl=function(){return function(e){return e({type:X.CLOSE_LHS})}},nl=Ka.jsx;var rl=p.exports.forwardRef((function(e,t){return nl("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:nl("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}))}));function il(e){return{type:X.SIDEBAR_DRAGGING_SET_STATE,data:e}}function ol(){return{type:X.SIDEBAR_DRAGGING_STOP}}function al(e,t,n){return function(){var r=x(k().mark((function r(i,o){var a,s,l;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n&&(a=o(),s=a.views.channelSidebar.multiSelectedChannelIds,n.forEach((function(e){s.indexOf(e)>=0&&i(ul(e))}))),r.next=3,i(J(e,t,n));case 3:return l=r.sent,r.abrupt("return",i({type:X.ADD_NEW_CATEGORY_ID,data:l.data.id}));case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}function sl(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i,o){var a=o(),s=a.views.channelSidebar.multiSelectedChannelIds,l=[];if(s.length&&-1!==s.indexOf(n)){var c=Z(a),u=$(a),d=[n],p=c.find((function(t){return t.id===e}));d=s.filter((function(e){var t=u.find((function(t){return e===t.id})),n=(null==t?void 0:t.type)===ee.DM_CHANNEL||(null==t?void 0:t.type)===ee.GM_CHANNEL;return(null==p?void 0:p.type)===te.CUSTOM||(null==p?void 0:p.type)===te.FAVORITES||n&&(null==p?void 0:p.type)===te.DIRECT_MESSAGES||!n&&(null==p?void 0:p.type)!==te.DIRECT_MESSAGES}));var h=u.map((function(e){return e.id}));d.sort((function(e,t){return h.indexOf(e)-h.indexOf(t)})),d.forEach((function(e){return i(ul(e))})),l=d}else l=[n];var f=ll(a,e,l,t,n);return i(ne(e,l,f,r))}}function ll(e,t,n,r,i){if(0===r)return 0;var o=re(e,t),a=ie()(e,o),s=a.filter((function(e,t){return e!==i&&-1!==n.indexOf(e)&&t<=r})),l=r-s.length;if(o.channel_ids.length===a.length)return l;var c=oe(a,n,l),u=c[c.indexOf(n[0])-1],d=o.channel_ids.indexOf(u)+1,p=o.channel_ids.indexOf(n[0]);return-1!==p&&p<d&&(d-=1),Math.max(d-s.length,0)}function cl(){return function(e,t){return 0===t().views.channelSidebar.multiSelectedChannelIds.length?Promise.resolve({data:!0}):e({type:X.MULTISELECT_CHANNEL_CLEAR})}}function ul(e){return function(t,n){var r=n();if(!r.views.channelSidebar.multiSelectedChannelIds.length){var i=Q(r);t({type:X.MULTISELECT_CHANNEL,data:i})}return t({type:X.MULTISELECT_CHANNEL_ADD,data:e})}}function dl(e){return function(t,n){var r=n(),i=r.views.channelSidebar.multiSelectedChannelIds,o=r.views.channelSidebar.lastSelectedChannel;if(!i.length){var a=Q(r);t({type:X.MULTISELECT_CHANNEL,data:a}),o=a}var s=ae(r).map((function(e){return e.id})),l=s.indexOf(e),c=s.indexOf(o);if(l===c)return null;var u=Math.min(c,l),d=Math.max(c,l),p=s.slice(u,d+1);return t({type:X.MULTISELECT_CHANNEL_TO,data:p})}}function pl(e){return function(t){return t({type:X.ADD_CHAT_ID,data:e})}}function hl(e){return function(t){return t({type:X.REMOVE_CHAT_ID,data:e})}}function fl(e){return function(t){return t({type:X.SET_CHAT_MINIMAL,data:e})}}function ml(e){return function(t){return t({type:X.REMOVE_CHAT_MINIMAL,data:e})}}function gl(e,t){return function(n){return n({type:X.SET_PRE_CHAT,data:C({id:e},t)})}}var vl=function(e){return f("div",{className:cs.dialogActions,children:e.children})},bl=function(e){return e.children};var yl=g((function(e,t){if(!t.teamId)return{hasPermission:!1};var n,r=v(t.permissions);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(se(e,{team:t.teamId,permission:i}))return{hasPermission:!0}}}catch(o){r.e(o)}finally{r.f()}return{hasPermission:!1}}))((function(e){var t=e.hasPermission,n=e.children,r=e.invert,i=void 0!==r&&r;return t&&!i||!t&&i?n:null})),kl={filteredUserList:"mqik-534bc39c",channelList:"mqik-bcf3333f",modalRow:"mqik-ea25767e",modalDetail:"mqik-8b41cba2",modalItemName:"mqik-04b1596a",btn:"mqik-2027c07b",btnPrimary:"mqik-722a9ad7",searchableInput:"mqik-002551a5"},wl=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"nextTimeoutId",void 0),S(m(r),"filter",void 0),S(m(r),"channelListScroll",void 0),S(m(r),"createChannelRow",(function(e){var t="".concat(e.display_name,", ").concat(e.purpose).toLowerCase();return y("div",{className:w(kl.modalRow,"more-modal__row"),id:"ChannelRow-".concat(e.name),children:[y("div",{className:w(kl.modalDetail,"more-modal__details"),children:[f("button",{onClick:r.handleJoin.bind(m(r),e),"aria-label":t,className:w(kl.modalItemName,"style--none more-modal__name"),children:e.display_name}),f("p",{className:"more-modal__description",children:e.purpose})]}),f("div",{className:w(kl.modalActions,"more-modal__actions"),children:f("button",{onClick:r.handleJoin.bind(m(r),e),className:w(kl.btn,kl.btnPrimary,"btn btn-primary"),disabled:r.state.joiningChannel,children:r.state.joiningChannel===e.id?f(E,{id:"more_channels.joining",defaultMessage:"Vào nhóm..."}):f(E,{id:"more_channels.join",defaultMessage:"Tham gia"})})})]},e.id)})),S(m(r),"nextPage",(function(e){e.preventDefault(),r.setState({page:r.state.page+1,nextDisabled:!0}),r.nextTimeoutId=setTimeout((function(){return r.setState({nextDisabled:!1})}),500),r.props.nextPage(r.state.page+1),us(_.findDOMNode(r.channelListScroll.current)).scrollTop(0)})),S(m(r),"previousPage",(function(e){e.preventDefault(),r.setState({page:r.state.page-1}),us(_.findDOMNode(r.channelListScroll.current)).scrollTop(0)})),S(m(r),"doSearch",(function(){var e=r.filter.current.value;r.props.search(e),""===e&&r.setState({page:0})})),r.nextTimeoutId=0,r.state={joiningChannel:"",page:0,nextDisabled:!1},r.filter=b.createRef(),r.channelListScroll=b.createRef(),r}return u(n,[{key:"componentDidMount",value:function(){!le()&&this.filter.current&&this.filter.current.focus()}},{key:"handleJoin",value:function(e){var t=this;this.setState({joiningChannel:e.id}),this.props.handleJoin(e,(function(){t.setState({joiningChannel:""})}))}},{key:"render",value:function(){var e,t,n,r=this.props.channels;if(this.props.loading&&0===r.length)e=f(ue,{});else if(0===r.length)e=y("div",{className:"no-channel-message",children:[f("p",{className:"primary-message",children:f(E,{id:"more_channels.noMore",defaultMessage:"No more channels to join"})}),this.props.noResultsText]});else{var i=this.state.page*this.props.channelsPerPage,o=i+this.props.channelsPerPage,a=this.props.channels.slice(i,o);e=a.map(this.createChannelRow),a.length>=this.props.channelsPerPage&&o<this.props.channels.length&&(t=f("button",{className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled,children:f(E,{id:"more_channels.next",defaultMessage:"Next"})})),this.state.page>0&&(n=f("button",{className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage,children:f(E,{id:"more_channels.prev",defaultMessage:"Previous"})}))}var s=f("div",{className:"filter-row filter-row--full",children:f("div",{className:"col-sm-12",children:f(ds,{id:"searchChannelsTextbox",ref:this.filter,className:w(kl.searchableInput,"form-control filter-textbox"),placeholder:{id:ce("filtered_channels_list.search"),defaultMessage:"Search channels"},inputComponent:ps,onInput:this.doSearch})})});return this.props.createChannelButton&&(s=y("div",{className:"channel_search",children:[f("div",{className:"search_input",children:f(ds,{id:"searchChannelsTextbox",ref:this.filter,className:"form-control filter-textbox",placeholder:{id:ce("filtered_channels_list.search"),defaultMessage:"Search channels"},inputComponent:ps,onInput:this.doSearch})}),f("div",{className:"create_button",children:this.props.createChannelButton})]})),y("div",{className:kl.filteredUserList,children:[s,f("div",{role:"application",ref:"channelList",className:w(kl.channelList,"more-modal__list"),children:f("div",{id:"moreChannelsList",ref:this.channelListScroll,children:e})}),y("div",{className:"filter-controls",children:[n,t]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{isSearch:e.isSearch,page:e.isSearch&&!t.isSearch?0:t.page}}}]),n}(b.PureComponent);wl.defaultProps={channels:[],isSearch:!1},wl.propTypes={channels:q.arrayOf(q.object),channelsPerPage:q.number,nextPage:q.func.isRequired,isSearch:q.bool,search:q.func.isRequired,handleJoin:q.func.isRequired,noResultsText:q.object,loading:q.bool,createChannelButton:q.element,toggleArchivedChannels:q.func.isRequired,shouldShowArchivedChannels:q.bool.isRequired,canShowArchivedChannels:q.bool.isRequired};var xl="mqik-4a38de9e",El=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"searchTimeoutId",void 0),S(m(r),"handleHide",(function(){r.setState({show:!1}),r.props.bodyOnly&&r.handleExit()})),S(m(r),"handleExit",(function(){r.props.actions.closeModal(de.MORE_CHANNELS)})),S(m(r),"onChange",(function(e){r.state.search&&!e||r.setState({searchedChannels:[],serverError:null})})),S(m(r),"nextPage",(function(e){r.props.actions.getChannels(r.props.teamId,e+1,50)})),S(m(r),"handleJoin",function(){var e=x(k().mark((function e(t,n){var i,o,a,s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.props,o=i.actions,a=i.currentUserId,s=i.teamId,i.teamName,e.next=3,o.joinChannel(a,s,t.id);case 3:(l=e.sent).error?r.setState({serverError:l.error.message}):r.handleHide(),n&&n();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S(m(r),"search",(function(e){if(clearTimeout(r.searchTimeoutId),""===e)return r.onChange(!0),r.setState({search:!1,searchedChannels:[],searching:!1,searchTerm:e}),void(r.searchTimeoutId=0);r.setState({search:!0,searching:!0,searchTerm:e});var t=window.setTimeout(x(k().mark((function n(){var i,o;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.props.actions.searchMoreChannels(e,r.state.shouldShowArchivedChannels);case 3:if(i=n.sent,o=i.data,t===r.searchTimeoutId){n.next=7;break}return n.abrupt("return");case 7:o?r.setSearchResults(o):r.setState({searchedChannels:[],searching:!1}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r.setState({searchedChannels:[],searching:!1});case 13:case"end":return n.stop()}}),n,null,[[0,10]])}))),100);r.searchTimeoutId=t})),S(m(r),"setSearchResults",(function(e){r.setState({searchedChannels:r.state.shouldShowArchivedChannels?e.filter((function(e){return 0!==e.delete_at})):e.filter((function(e){return 0===e.delete_at})),searching:!1})})),S(m(r),"toggleArchivedChannels",(function(e){r.search(r.state.searchTerm),r.setState({shouldShowArchivedChannels:e})})),r.searchTimeoutId=0,r.state={show:!0,shouldShowArchivedChannels:"private"===r.props.morePublicChannelsModalType,search:!1,searchedChannels:[],serverError:null,searching:!1,searchTerm:""},r}return u(n,[{key:"componentDidMount",value:function(){this.props.actions.getChannels(this.props.teamId,0,100),this.props.canShowArchivedChannels&&this.props.actions.getArchivedChannels(this.props.teamId,0,100)}},{key:"render",value:function(){var e,t=this.props,n=t.channels,r=t.archivedChannels,i=t.teamId,o=t.channelsRequestStarted,a=t.bodyOnly,s=this.state,l=s.search,c=s.searchedChannels,u=(s.serverError,s.show),d=s.searching;e=s.shouldShowArchivedChannels?l?c:r:l?c:n;var p=f(yl,{teamId:i,permissions:[pe.CREATE_PUBLIC_CHANNEL,pe.CREATE_PRIVATE_CHANNEL],children:f("p",{className:"secondary-message",children:f(E,{id:"more_channels.createClick",defaultMessage:"Click 'Create New Channel' to make a new one"})})});return y(hs,{dialogClassName:"a11y__modal more-modal more-modal--action",show:u,onHide:this.handleHide,onExited:this.handleExit,"aria-labelledby":"moreChannelsModalLabel",children:[f(fs,{closeButton:!0,onClose:this.handleHide,children:f(E,{id:"more_channels.title2",defaultMessage:"Tìm Nhóm"})}),f(ms,{children:f("div",{className:xl,children:f(wl,{channels:e,channelsPerPage:50,nextPage:this.nextPage,isSearch:l,search:this.search,handleJoin:this.handleJoin,noResultsText:p,loading:l?d:o,createChannelButton:a&&null,toggleArchivedChannels:this.toggleArchivedChannels,shouldShowArchivedChannels:this.state.shouldShowArchivedChannels,canShowArchivedChannels:this.props.canShowArchivedChannels})})})]})}}]),n}(b.PureComponent),Cl=A(he,(function(e){return e&&e.filter((function(e){return 0===e.delete_at}))})),Sl=A(fe,(function(e){return e&&e.filter((function(e){return 0!==e.delete_at}))}));var _l=g((function(e){var t=me(e)||{};return{channels:Cl(e)||[],archivedChannels:Sl(e)||[],currentUserId:ge(e),teamId:t.id,teamName:t.name,channelsRequestStarted:e.requests.channels.getChannels.status===ve.STARTED,canShowArchivedChannels:"true"===be(e).ExperimentalViewArchivedChannels}}),(function(e){return{actions:P({getChannels:ye,getArchivedChannels:ke,joinChannel:we,searchMoreChannels:ta,openModal:xe,closeModal:Ee,addChatId:pl},e)}}))(El),ql={newChannel:"mqik-8bb4a2e1",formGroup:"mqik-48ae4be8",inputHelp:"mqik-62279099",error:"mqik-7a20a2ef",formLabel:"mqik-9c7904d0",light:"mqik-8b64b48b",formValue:"mqik-c9f5aa32",formControl:"mqik-a77cc126",noResize:"mqik-ff660243",flexParent:"mqik-6f0b8d25",icon:"mqik-69bc8b90",radioSelect:"mqik-917b71ed",hasError:"mqik-7de8b87d",newChannelActions:"mqik-bf8193e1",btn:"mqik-0864b77b",btnPrimary:"mqik-9b678f1f",btnLink:"mqik-fc567c2d"},Al=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"displayNameInput",void 0),S(m(r),"channelPurposeInput",void 0),S(m(r),"onEnterKeyDown",(function(e){var t=Ce(e,Se.KeyCodes.ENTER),n=r.props.ctrlSend;n&&t&&!e.ctrlKey?e.preventDefault():(n&&t&&e.ctrlKey||!n&&t&&!e.shiftKey&&!e.altKey)&&r.handleSubmit(e)})),S(m(r),"handleSubmit",(function(e){e.preventDefault(),r.displayNameInput.current.value.trim().length<Se.MIN_CHANNELNAME_LENGTH?r.setState({displayNameError:!0}):r.props.onSubmitChannel()})),S(m(r),"handleChange",(function(){var e={displayName:r.displayNameInput.current.value,purpose:r.channelPurposeInput.current.value};r.props.onDataChanged(e)})),S(m(r),"handleOnURLChange",(function(e){e.preventDefault(),r.props.onChangeURLPressed&&r.props.onChangeURLPressed()})),S(m(r),"handlePublicTypeSelect",(function(){r.props.onTypeSwitched("O")})),S(m(r),"handlePrivateTypeSelect",(function(){r.props.onTypeSwitched("P")})),r.state={displayNameError:""},r.channelPurposeInput=b.createRef(),r.displayNameInput=b.createRef(),r}return u(n,[{key:"render",value:function(){var e=this.props,t=e.canCreatePublicChannel,n=e.canCreatePrivateChannel,r=e.show,i=t&&n,o=null,a=null,s="";this.state.displayNameError&&(o=y("p",{className:w(ql.inputHelp,ql.error),children:[f(E,{id:"channel_modal.displayNameError",defaultMessage:"Display name must have at least 2 characters."}),this.state.displayNameError]}),s=ql.hasError),this.props.serverError&&(a=f("div",{className:w(ql.formGroup),children:f("p",{className:w(ql.inputHelp,ql.error),children:this.props.serverError})}));var l=y("div",{className:ql.flexParent,children:[f(gs,{className:ql.icon}),f(E,{id:"channel_modal.publicName",defaultMessage:"Public"}),f(E,{id:"channel_modal.publicHint",defaultMessage:" - Anyone can join this channel"})]}),c=y("div",{className:ql.flexParent,children:[f(vs,{className:ql.icon}),f(E,{id:"channel_modal.privateName",defaultMessage:"Private"}),f(E,{id:"channel_modal.privateHint",defaultMessage:" - Only invited members can join this channel"})]}),u=null;return u=i?y("fieldset",{className:w(ql.radioSelect),children:[f("div",{className:w(ql.radio),children:y("label",{children:[f("input",{id:"public",type:"radio",name:"channelType",checked:"O"===this.props.channelType,onChange:this.handlePublicTypeSelect,"aria-labelledby":"channelModalTypeLabel"}),l]})}),f("div",{className:w(ql.radio),children:y("label",{children:[f("input",{id:"private",type:"radio",name:"channelType",checked:"P"===this.props.channelType,onChange:this.handlePrivateTypeSelect,"aria-labelledby":"channelModalTypeLabel"}),c]})})]},"channelType"):f("div",{className:"type-container multi-select__radio",children:y("div",{className:"radio",children:[t?l:null,n?c:null]})}),y(hs,{dialogClassName:"a11y__modal more-modal more-modal--action",show:r,onHide:this.props.onModalDismissed,onExited:this.props.onModalExited,"aria-labelledby":"newChannelModalLabel",children:[f(fs,{closeButton:!0,onClose:this.props.onModalDismissed,children:f(E,{id:"channel_modal.modalTitle",defaultMessage:"New Channel"})}),f(ms,{children:y("form",{role:"form",className:w(ql.newChannel),children:[y("div",{className:w(ql.formGroup),children:[f("label",{className:w(ql.formLabel),children:f(E,{id:"channel_modal.type",defaultMessage:"Type"})}),f("div",{className:w(ql.formValue),children:u})]}),y("div",{className:w(s,ql.formGroup),children:[f("label",{className:w(ql.formLabel),htmlFor:"newChannelName",children:f(E,{id:"channel_modal.name",defaultMessage:"Name"})}),y("div",{className:w(ql.formValue),children:[f(ps,{id:"newChannelName",onChange:this.handleChange,type:"text",ref:this.displayNameInput,className:w(ql.formControl),placeholder:{id:ce("channel_modal.nameEx"),defaultMessage:'E.g.: "Bugs", "Marketing", "客户支持"'},maxLength:Se.MAX_CHANNELNAME_LENGTH,value:this.props.channelData.displayName,autoFocus:!0,onKeyDown:this.onEnterKeyDown}),o]})]}),y("div",{className:w(ql.formGroup),children:[y("div",{className:w(ql.formLabel),children:[f("label",{className:w(ql.formLabel),htmlFor:"newChannelPurpose",children:f(E,{id:"channel_modal.purpose",defaultMessage:"Purpose"})}),f("label",{className:w(ql.formLabel,ql.light),children:f(E,{id:"channel_modal.optional",defaultMessage:"(optional)"})})]}),y("div",{className:w(ql.formValue),children:[f("textarea",{id:"newChannelPurpose",className:w(ql.formControl,ql.noResize),ref:this.channelPurposeInput,rows:4,placeholder:_e("channel_modal.purposeEx",'E.g.: "A channel to file bugs and improvements"'),maxLength:250,value:this.props.channelData.purpose,onChange:this.handleChange}),a]})]})]})}),f(vl,{children:y("div",{className:ql.newChannelActions,children:[f("button",{id:"cancelNewChannel",type:"button",className:w(ql.btn,ql.btnLink),onClick:this.props.onModalDismissed,children:f(E,{id:"channel_modal.cancel",defaultMessage:"Cancel"})}),f("button",{id:"submitNewChannel",onClick:this.handleSubmit,type:"submit",className:w(ql.btn,ql.btnPrimary),children:f(E,{id:"channel_modal.createNew",defaultMessage:"Create Channel"})})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e){return!1===e.show?{displayNameError:""}:null}}]),n}(b.PureComponent);S(Al,"propTypes",{show:q.bool.isRequired,currentTeamId:q.string.isRequired,channelType:q.string.isRequired,channelData:q.object.isRequired,ctrlSend:q.bool,serverError:q.node,onSubmitChannel:q.func.isRequired,onModalDismissed:q.func.isRequired,onModalExited:q.func,onTypeSwitched:q.func.isRequired,onChangeURLPressed:q.func.isRequired,onDataChanged:q.func.isRequired,canCreatePublicChannel:q.bool.isRequired,canCreatePrivateChannel:q.bool.isRequired});var Pl=g((function(e){return{ctrlSend:qe(e,Ae.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),currentTeamId:Pe(e)}}))(Al);function Tl(e){var t=e.channelType||Se.OPEN_CHANNEL;return e.canCreatePublicChannel||t!==Se.OPEN_CHANNEL||(t=Se.PRIVATE_CHANNEL),e.canCreatePrivateChannel||t!==Se.PRIVATE_CHANNEL||(t=Se.OPEN_CHANNEL),t}var Il=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"onSubmit",(function(){if(r.state.channelDisplayName)if(r.state.channelName.length<2)r.setState({flowState:3});else{var e=r.props,t=e.actions,n=e.currentTeamId,i=e.history,o={team_id:n,name:r.state.channelName,display_name:r.state.channelDisplayName,purpose:r.state.channelPurpose,header:r.state.channelHeader,type:r.state.channelType,create_at:0,creator_id:"",delete_at:0,extra_update_at:0,group_constrained:!1,id:"",last_post_at:0,scheme_id:"",total_msg_count:0,total_msg_count_root:0,update_at:0,last_picture_update:0,verified:!1};t.createChannel(o).then((function(e){var n=e.data,o=e.error;o?r.onCreateChannelError(o):n&&(r.onModalDismissed(),t.switchToChannel(n,i))}))}else r.setState({serverError:_e("channel_flow.invalidName","Invalid Channel Name")})})),S(m(r),"onModalDismissed",(function(){r.props.actions.closeModal(de.NEW_CHANNEL_FLOW)})),S(m(r),"onCreateChannelError",(function(e){"model.channel.is_valid.2_or_more.app_error"===e.server_error_id?r.setState({flowState:3,serverError:f(E,{id:"channel_flow.handleTooShort",defaultMessage:"Channel URL must be 2 or more lowercase alphanumeric characters"})}):"store.sql_channel.update.exists.app_error"===e.server_error_id?r.setState({serverError:_e("channel_flow.alreadyExist","A channel with that URL already exists")}):r.setState({serverError:e.message})})),S(m(r),"typeSwitched",(function(e){r.setState({channelType:e,serverError:""})})),S(m(r),"urlChangeRequested",(function(e){e&&e.preventDefault(),r.setState({flowState:2})})),S(m(r),"urlChangeSubmitted",(function(e){3===r.state.flowState?r.setState({channelName:e,nameModified:!0},r.onSubmit):r.setState({flowState:1,serverError:null,channelName:e,nameModified:!0})})),S(m(r),"urlChangeDismissed",(function(){r.setState({flowState:1})})),S(m(r),"channelDataChanged",(function(e){r.setState({channelDisplayName:e.displayName,channelPurpose:e.purpose,channelHeader:e.header}),r.state.nameModified||r.setState({channelName:Te(e.displayName.trim())})})),r.state={serverError:"",channelType:Tl(e),flowState:1,channelDisplayName:"",channelName:"",channelPurpose:"",channelHeader:"",nameModified:!1},r}return u(n,[{key:"render",value:function(){var e={name:this.state.channelName,displayName:this.state.channelDisplayName,purpose:this.state.channelPurpose,header:this.state.channelHeader},t=!1;switch(this.state.flowState){case 1:t=!0}return console.info("showChannelModal",t),f(p.exports.Fragment,{children:f(Pl,{show:t,channelType:this.state.channelType,canCreatePublicChannel:this.props.canCreatePublicChannel,canCreatePrivateChannel:this.props.canCreatePrivateChannel,channelData:e,serverError:this.state.serverError,onSubmitChannel:this.onSubmit,onModalDismissed:this.onModalDismissed,onTypeSwitched:this.typeSwitched,onChangeURLPressed:this.urlChangeRequested,onDataChanged:this.channelDataChanged})})}}]),n}(b.PureComponent);S(Il,"defaultProps",{channelType:Se.OPEN_CHANNEL});var Ml=g((function(e){var t=me(e),n=Q(e),r=!1,i=!1;return t&&(r=Ie(e,{channel:n,team:t.id,permission:pe.CREATE_PUBLIC_CHANNEL}),i=Ie(e,{channel:n,team:t.id,permission:pe.CREATE_PRIVATE_CHANNEL})),{currentTeamId:t.id,canCreatePrivateChannel:i,canCreatePublicChannel:r}}),(function(e){return{actions:P({createChannel:Me,switchToChannel:na,closeModal:Ee},e)}}))(Il),Nl="mqik-0a9d2a73",Rl="mqik-bf52855f",Ol="mqik-3dbb95fa",Ll="mqik-e187b183",Dl="mqik-a5b73d28",Fl="mqik-bf41671d",Hl="mqik-d3e0efae";var Ul=g((function(e){var t=Ne.getPreviousTeamId(ge(e)),n=Re(e,t);return{permalinkRedirectTeamName:n?n.name:"",chatActive:ra(e),chatReady:ia(e)}}),(function(e){return{actions:P({setChatActive:oa,openModal:xe},e)}}))((function(e){var t=T(),n=e.open,r=e.permalinkRedirectTeamName;return f("div",{className:w(Nl,S({},Rl,!n)),children:n?f("div",{className:Ol,children:y("ul",{children:[y("li",{children:[f("button",{onClick:function(){e.onClose(),t.push("/".concat(r,"/friends"))},children:"Danh sách theo dõi"}),y("span",{className:w(Ll,"u3-invisible"),children:[f("span",{className:w(Dl,"u3-animate-ping")}),f("span",{className:Fl})]})]}),f("li",{children:f("button",{onClick:function(){e.onClose(),e.actions.openModal({modalId:de.MORE_CHANNELS,dialogType:_l,dialogProps:{morePublicChannelsModalType:"public",history:t}})},children:"Tìm nhóm chat"})}),f("li",{children:f("button",{onClick:function(){e.onClose(),e.actions.openModal({modalId:de.NEW_CHANNEL_FLOW,dialogType:Ml,dialogProps:{history:t}})},children:"Tạo nhóm chat"})}),f("li",{children:f("button",{className:Hl,onClick:function(){return e.onLogout(!1)},children:"Tắt chat"})})]})}):null})})),jl="mqik-ad29fc58",Bl="mqik-2cda1eee",zl="mqik-6f73654e",Vl="mqik-c752aa57",Wl="mqik-a3757568",Gl="mqik-ccef951a",Kl="mqik-aa1c4648",Yl="mqik-85ac1e93",Xl="mqik-e8cda058",Ql="mqik-0ce1936f";var Jl,Zl,$l=g((function(e){var t=ge(e),n=Ne.getPreviousTeamId(t);return Re(e,n),{userId:t,user:Le(e),chatActive:ra(e),chatReady:ia(e)}}),(function(e){return{actions:P({setChatActive:oa},e)}}))((function(e){var t=s(p.exports.useState(!1),2),n=t[0],r=t[1];p.exports.useState(!0);return y("div",{className:w(jl),children:[f(Ul,{open:n,onClose:function(){return r(!1)},onLogout:function(){r(!1),e.actions.setChatActive(!1)}}),y("div",{className:w(Bl),children:[f(as,{src:Oe.getProfilePictureUrl(e.user.id,e.user.last_picture_update),size:"lg",userId:e.user.id,hasMention:!0,username:e.user.username}),f("div",{className:w(zl),children:f(Ya,{userId:e.userId,disablePopover:!0})}),y("div",{className:w(Vl),children:[f("button",{className:w(Wl,S({},Kl,n)),onClick:function(){return r(!n)},children:f(n?Xa:rl,{className:Gl})}),y("span",{className:w(Yl,"u3-hidden u3-invisible"),children:[f("span",{className:w(Xl,"u3-animate-ping")}),f("span",{className:Ql})]})]})]})]})})),ec="mqik-4f490a72",tc="mqik-56c987b1";(Zl=Jl||(Jl={})).Mention="Mention",Zl.Unread="Unread",Zl.None="None";var nc=I((function(e){var t,n,r=aa(),i=(t=e,n=p.exports.useRef(),p.exports.useEffect((function(){n.current=t})),n.current||{}),o=function(e){return e.mentionCount>0?Jl.Mention:e.messageCount>0?Jl.Unread:Jl.None};return p.exports.useEffect((function(){!function(){var t=e.currentChannel,n=e.currentTeam,i=e.currentTeammate,o=(e.unreads,e.inGlobalThreads),a=e.contactName,s=e.intl.formatMessage;if(t&&n&&t.id){var l=t.display_name;t.type===Se.DM_CHANNEL&&null!=i&&(l=a||i.display_name);var c="";if(e.channelStats){var u=e.channelStats,d=u.member_count,p=u.online_count;c=" | ".concat(p,"/").concat(d)}r.setTitle("".concat("").concat("").concat(l).concat(c," - ").concat(n.display_name))}else n&&o?r.setTitle(s({id:"globalThreads.title",defaultMessage:"{prefix}Threads - {displayName} {siteName}"},{prefix:"".concat("").concat(""),displayName:n.display_name,siteName:""})):r.setTitle("U3 Chat")}();var t=o(i.unreads||{}),n=o(e.unreads||{});t!==n&&r.selectDot(n)}),[e]),null}));var rc=M(g((function(e,t){var n=t.location.pathname,r=be(e),i=De(e),o=i&&i.teammate_id?i:null,a=me(e),s=Fe(e),l="";if(o){var c=He(e,o.teammate_id);l=c?Ue(e,c.id):""}return{currentChannel:i,currentTeam:a,currentTeammate:o,siteName:r.SiteName,unreads:je(e),inGlobalThreads:null!=N(n,{path:"/:team/threads/:threadIdentifier?"}),contactName:l,channelStats:s}}),(function(e){return{actions:P({},e)}}))(nc)),ic=function(t){d(r,t);var n=h(r);function r(e){return l(this,r),n.call(this,e)}return u(r,[{key:"render",value:function(){var t=this.props,n=t.modals,r=a(t,e),i=n.modalState;if(!n)return f("div",{});var o=[];for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];if(l.open){var c=b.createElement(l.dialogType,Object.assign({},l.dialogProps,{onHide:r.actions.closeModal.bind(this,s),key:"".concat(s,"_modal")}));o.push(c)}}return f("div",{children:o})}}]),r}(b.PureComponent);var oc=g((function(e){return{modals:e.views.modals}}),(function(e){return{actions:P({closeModal:Ee},e)}}))(ic);function ac(e){return{type:X.SET_SHOW_PREVIEW_ON_CREATE_POST,showPreview:e}}function sc(e){return{type:X.SET_SHOW_PREVIEW_ON_EDIT_POST_MODAL,showPreview:e}}function lc(e){return e.views.textbox.shouldShowPreviewOnCreatePost}function cc(e){return e.views.textbox.shouldShowPreviewOnEditPostModal}function uc(e){return function(){var t=x(k().mark((function t(n,r){var i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be(e)(n,r);case 2:return(i=t.sent).error&&"api.post.update_post.permissions_time_limit.app_error"===i.error.server_error_id&&n(ze({type:Ve.ANNOUNCEMENT,message:i.error.message},!0)),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function dc(e){if(-1===Array.from(e.types).indexOf("text/html"))return!1;var t=e.getData("text/html");if(!/<table/i.test(t))return!1;var n=function(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelector("table")}(t);return n||!1}function pc(e){return null==e.textContent?" ":e.textContent.trim().replace(/\|/g,"\\|").replace(/\n/g," ")}function hc(e,t,n){var r,i=Array.from(e.querySelectorAll("tr")),o=i.shift(),a=o?(r=o,Array.from(r.querySelectorAll("td, th")).map(pc)):[],s=a.map((function(){return"---"})),l="|".concat(a.join(" | "),"|\n|").concat(s.join(" | "),"|\n"),c=i.map((function(e){return"|".concat(Array.from(e.querySelectorAll("td")).map(pc).join(" | "),"|")})).join("\n"),u="".concat(l).concat(c,"\n");return t?void 0===n?"".concat(t,"\n\n").concat(u):[t.slice(0,n),u,t.slice(n)].join("\n"):u}function fc(e,t,n){var r=We(e,t),i=r.firstPiece,o=r.lastPiece,a=""===o?"":"\n",s=(""===i?"":"\n")+"```\n"+function(e){return-1!==Array.from(e.types).indexOf("text/plain")&&e.getData("text/plain")}(n)+"\n```"+a;return{formattedMessage:"".concat(i).concat(s).concat(o),formattedCodeBlock:s}}var mc=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"deletePostBtn",void 0),S(m(r),"handleDelete",x(k().mark((function e(){var t,n,i,o,a,s,l,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.actions,i=t.post,o="",e.next=4,n.deleteAndRemovePost(i);case 4:a=e.sent,s=N(r.props.location.pathname,{path:"/:teamName/messages/:username/:postid"}),l=N(r.props.location.pathname,{path:"/:teamName/group/:channelname/:postid"}),s?o=s.params.postid:l&&(o=l.params.postid),o===i.id&&(c=r.props.location.pathname.split("/").slice(0,-1).join("/"),Ge.replace(c)),a.data&&r.onHide();case 10:case"end":return e.stop()}}),e)})))),S(m(r),"handleEntered",(function(){var e,t;null===(e=r.deletePostBtn)||void 0===e||null===(t=e.current)||void 0===t||t.focus()})),S(m(r),"onHide",(function(){var e;(r.setState({show:!1}),le())||(e=r.props.isRHS?document.getElementById("reply_textbox"):document.getElementById("post_textbox"))&&e.focus()})),r.deletePostBtn=b.createRef(),r.state={show:!0},r}return u(n,[{key:"render",value:function(){var e="";this.props.commentCount>0&&""===this.props.post.root_id&&(e=f(E,{id:"delete_post.warning",defaultMessage:"This post has {count, number} {count, plural, one {comment} other {comments}} on it.",values:{count:this.props.commentCount}}));var t=this.props.post.root_id?f(E,{id:"delete_post.comment",defaultMessage:"Comment"}):f(E,{id:"delete_post.post",defaultMessage:"Post"});return y(hs,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,children:[f(fs,{closeButton:!0,onClose:this.onHide,children:f(E,{id:"delete_post.confirm",defaultMessage:"Confirm {term} Delete",values:{term:t}})}),y(ms,{children:[f(E,{id:"delete_post.question",defaultMessage:"Are you sure you want to delete this {term}?",values:{term:t}}),f("br",{}),e]}),y(vl,{children:[f("button",{ref:this.deletePostBtn,type:"button",autoFocus:!0,className:"u3-btn u3-btn-danger",onClick:this.handleDelete,id:"deletePostModalButton",children:f(E,{id:"delete_post.del",defaultMessage:"Delete"})}),f("button",{type:"button",className:"u3-btn u3-btn-link",onClick:this.onHide,children:f(E,{id:"delete_post.cancel",defaultMessage:"Cancel"})})]})]})}}]),n}(b.PureComponent);var gc=M(g(null,(function(e){return{actions:P({deleteAndRemovePost:Ke},e)}}))(mc));function vc(e,t,n){return function(){var r=x(k().mark((function r(i,o){var a;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=o(),Ie(a,{permission:pe.USE_GROUP_MENTIONS,channel:n,team:t})){r.next=3;break}return r.abrupt("return",{data:[]});case 3:return r.abrupt("return",{data:bs(a,e,t,n)});case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}var bc=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function yc(e,t){return e===t||!(!bc(e)||!bc(t))}function kc(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!yc(e[n],t[n]))return!1;return!0}function wc(e,t){var n;void 0===t&&(t=kc);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}}function xc(e){return Ec("@"===e[0]?e:"@".concat(e),{markdown:!1})}function Ec(e,t,n){return f(ys,{message:e,options:t,postId:n&&n.id,postType:n&&n.type})}function Cc(e){var t=xc(e.props.username),n=xc(e.props.addedUsername);return f(E,{id:"api.channel.add_member.added",defaultMessage:"{addedUsername} added to the channel by {username}.",values:{username:t,addedUsername:n}})}var Sc=(S(el={},Xe.POST_TYPES.JOIN_CHANNEL,(function(e){var t=xc(e.props.username);return f(E,{id:"api.channel.join_channel.post_and_forget",defaultMessage:"{username} joined the channel.",values:{username:t}})})),S(el,Xe.POST_TYPES.GUEST_JOIN_CHANNEL,(function(e){var t=xc(e.props.username);return f(E,{id:"api.channel.guest_join_channel.post_and_forget",defaultMessage:"{username} joined the channel as a guest.",values:{username:t}})})),S(el,Xe.POST_TYPES.LEAVE_CHANNEL,(function(e){var t=xc(e.props.username);return f(E,{id:"api.channel.leave.left",defaultMessage:"{username} has left the channel.",values:{username:t}})})),S(el,Xe.POST_TYPES.ADD_TO_CHANNEL,Cc),S(el,Xe.POST_TYPES.ADD_GUEST_TO_CHANNEL,(function(e){var t=xc(e.props.username),n=xc(e.props.addedUsername);return f(E,{id:"api.channel.add_guest.added",defaultMessage:"{addedUsername} added to the channel as a guest by {username}.",values:{username:t,addedUsername:n}})})),S(el,Xe.POST_TYPES.REMOVE_FROM_CHANNEL,(function(e){var t=xc(e.props.removedUsername);return f(E,{id:"api.channel.remove_member.removed",defaultMessage:"{removedUsername} was removed from the channel",values:{removedUsername:t}})})),S(el,Xe.POST_TYPES.JOIN_TEAM,(function(e){var t=xc(e.props.username);return f(E,{id:"api.team.join_team.post_and_forget",defaultMessage:"{username} joined the team.",values:{username:t}})})),S(el,Xe.POST_TYPES.LEAVE_TEAM,(function(e){var t=xc(e.props.username);return f(E,{id:"api.team.leave.left",defaultMessage:"{username} left the team.",values:{username:t}})})),S(el,Xe.POST_TYPES.ADD_TO_TEAM,(function(e){var t=xc(e.props.username),n=xc(e.props.addedUsername);return f(E,{id:"api.team.add_member.added",defaultMessage:"{addedUsername} added to the team by {username}.",values:{username:t,addedUsername:n}})})),S(el,Xe.POST_TYPES.REMOVE_FROM_TEAM,(function(e){var t=xc(e.props.username);return f(E,{id:"api.team.remove_user_from_team.removed",defaultMessage:"{removedUsername} was removed from the team.",values:{removedUsername:t}})})),S(el,Xe.POST_TYPES.HEADER_CHANGE,(function(e){if(!e.props.username)return null;var t={singleline:!0,channelNamesMap:e.props&&e.props.channel_mentions,mentionHighlight:!0},n=xc(e.props.username),r=e.props.old_header?Ec(e.props.old_header,t,e):null,i=e.props.new_header?Ec(e.props.new_header,t,e):null;return e.props.new_header?e.props.old_header?f(E,{id:"api.channel.post_update_channel_header_message_and_forget.updated_from",defaultMessage:"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}",values:{username:n,old:r,new:i,strong:function(e){return f("strong",{children:e})},br:function(e){return y(R,{children:[f("br",{}),e]})}}}):f(E,{id:"api.channel.post_update_channel_header_message_and_forget.updated_to",defaultMessage:"{username} updated the channel header to: {new}",values:{username:n,new:i}}):e.props.old_header?f(E,{id:"api.channel.post_update_channel_header_message_and_forget.removed",defaultMessage:"{username} removed the channel header (was: {old})",values:{username:n,old:r}}):null})),S(el,Xe.POST_TYPES.DISPLAYNAME_CHANGE,(function(e){if(!(e.props.username&&e.props.old_displayname&&e.props.new_displayname))return null;var t=xc(e.props.username),n=e.props.old_displayname,r=e.props.new_displayname;return f(E,{id:"api.channel.post_update_channel_displayname_message_and_forget.updated_from",defaultMessage:"{username} updated the channel display name from: {old} to: {new}",values:{username:t,old:n,new:r}})})),S(el,Xe.POST_TYPES.CONVERT_CHANNEL,(function(e){if(!e.props.username)return null;var t=xc(e.props.username);return f(E,{id:"api.channel.post_convert_channel_to_private.updated_from",defaultMessage:"{username} converted the channel from public to private",values:{username:t}})})),S(el,Xe.POST_TYPES.PURPOSE_CHANGE,(function(e){if(!e.props.username)return null;var t=xc(e.props.username),n=e.props.old_purpose,r=e.props.new_purpose;return e.props.new_purpose?e.props.old_purpose?f(E,{id:"app.channel.post_update_channel_purpose_message.updated_from",defaultMessage:"{username} updated the channel purpose from: {old} to: {new}",values:{username:t,old:n,new:r}}):f(E,{id:"app.channel.post_update_channel_purpose_message.updated_to",defaultMessage:"{username} updated the channel purpose to: {new}",values:{username:t,new:r}}):e.props.old_purpose?f(E,{id:"app.channel.post_update_channel_purpose_message.removed",defaultMessage:"{username} removed the channel purpose (was: {old})",values:{username:t,old:n}}):null})),S(el,Xe.POST_TYPES.CHANNEL_DELETED,(function(e){if(!e.props.username)return null;var t=xc(e.props.username);return f(E,{id:"api.channel.delete_channel.archived",defaultMessage:"{username} has archived the channel.",values:{username:t}})})),S(el,Xe.POST_TYPES.CHANNEL_UNARCHIVED,(function(e){if(!e.props.username)return null;var t=xc(e.props.username);return f(E,{id:"api.channel.restore_channel.unarchived",defaultMessage:"{username} has unarchived the channel.",values:{username:t}})})),S(el,Xe.POST_TYPES.ME,(function(e){return Ec(e.message.replace(/^\*|\*$/g,""))})),el);var _c=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"getOptions",wc((function(e,t,n){return C(C({},e),{},{disableGroupHighlight:t,mentionHighlight:n})}))),e}return u(n,[{key:"render",value:function(){var e,t,n,r=this.props.message,i=this.props,o=i.post,a=i.mentionKeys;if(o){var s=function(e,t,n){return e.props&&e.props.add_channel_member?(Ye(e),null):Sc[e.type]?Sc[e.type](e):e.type===Xe.POST_TYPES.EPHEMERAL_ADD_TO_CHANNEL?Cc(e):e.type===Xe.POST_TYPES.COMBINED_USER_ACTIVITY?(e.props.user_activity,null):null}(o,this.props.channel,this.props.isUserCanManageMembers);if(s)return f("div",{children:s})}var l=!o||!o.message_source||o.message===o.message_source,c=o&&o.props&&o.props.channel_mentions;null===(e=this.props.pluginHooks)||void 0===e||e.forEach((function(e){e&&e.hook&&o&&(r=e.hook(o,r))}));var u=null===(t=this.props.options)||void 0===t?void 0:t.mentionHighlight;o&&o.props&&(u=!o.props.mentionHighlightDisabled);var d=this.getOptions(this.props.options,!0===(null==o||null===(n=o.props)||void 0===n?void 0:n.disable_group_highlight),u);return f(ys,{imageProps:this.props.imageProps,isRHS:this.props.isRHS,message:r,proxyImages:l,mentionKeys:a,options:d,channelNamesMap:c,hasPluginTooltips:this.props.hasPluginTooltips,imagesMetadata:this.props.post&&this.props.post.metadata&&this.props.post.metadata.images,postId:this.props.post&&this.props.post.id})}}]),n}(b.PureComponent);S(_c,"defaultProps",{isRHS:!1,pluginHooks:[],options:{}});var qc=g((function(){var e=A(Qe,(function(e,t){return t}),(function(e,t,n){return n?ks(e,n.team_id,n.id):ws(e)}),(function(e,t,n){var r,i,o=e;return null!=t&&null!==(r=t.props)&&void 0!==r&&r.disable_group_highlight||(o=o.concat(n)),null!=t&&null!==(i=t.props)&&void 0!==i&&i.mentionHighlightDisabled&&(o=o.filter((function(e){return!["@all","@group","@here"].includes(e.key)}))),o}));return function(t,n){var r=Je(t,n.channelId);return{channel:r,pluginHooks:t.plugins.components.MessageWillFormat,hasPluginTooltips:Boolean(t.plugins.components.LinkTooltip),isUserCanManageMembers:r&&Ze(t,r),mentionKeys:e(t,n.post,r)}}}))(_c),Ac=Se.Integrations.EXECUTE_CURRENT_COMMAND_ITEM_ID,Pc=Se.KeyCodes,Tc=function(e){d(r,e);var n=h(r);function r(e){var t;return l(this,r),S(m(t=n.call(this,e)),"handleMentionKeyClick",(function(e,n){if(t.props.isRHS===n){var r="@"+e;t.props.value&&/[^\s]$/.test(t.props.value)&&(r=" "+r),t.addTextAtCaret(r,"")}})),S(m(t),"getTextbox",(function(){if(!t.inputRef.current)return null;var e=t.inputRef.current.getInput();return e.getDOMNode?e.getDOMNode():e})),S(m(t),"recalculateSize",(function(){var e=t.inputRef.current.getInput();e.recalculateSize&&e.recalculateSize()})),S(m(t),"handleEmitClearSuggestions",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){t.clear()}),e)})),S(m(t),"preventSuggestionListClose",(function(){t.preventSuggestionListCloseFlag=!0})),S(m(t),"handleFocusOut",(function(e){t.preventSuggestionListCloseFlag?t.preventSuggestionListCloseFlag=!1:t.container.contains(e.relatedTarget)||et()&&!e.relatedTarget||(t.props.forceSuggestionsWhenBlur||t.handleEmitClearSuggestions(),t.setState({focused:!1}),t.props.onBlur&&t.props.onBlur())})),S(m(t),"handleFocusIn",(function(e){t.container.contains(e.relatedTarget)||t.preventSuggestionListCloseFlag||(t.setState({focused:!0}),(t.props.openOnFocus||t.props.openWhenEmpty)&&setTimeout((function(){var e=t.getTextbox();if(e){var n=e.value.substring(0,e.selectionEnd);(t.props.openWhenEmpty||n.length>=t.props.requiredCharacters)&&t.pretext!==n&&t.handlePretextChanged(n)}})),t.props.onFocus&&t.props.onFocus())})),S(m(t),"handleChange",(function(e){var n=t.getTextbox(),r=n.value.substring(0,n.selectionEnd);t.composing||t.pretext===r||t.handlePretextChanged(r),t.props.onChange&&t.props.onChange(e)})),S(m(t),"handleCompositionStart",(function(){t.composing=!0,t.props.onComposition&&t.props.onComposition()})),S(m(t),"handleCompositionUpdate",(function(e){if(e.data){var n=t.getTextbox(),r=n.value.substring(0,n.selectionStart)+e.data;t.handlePretextChanged(r),t.props.onComposition&&t.props.onComposition()}})),S(m(t),"handleCompositionEnd",(function(){t.composing=!1,t.props.onComposition&&t.props.onComposition()})),S(m(t),"addTextAtCaret",(function(e,n){var i,o=t.getTextbox(),a=o.selectionEnd,s=t.props.value,l=o.value.substring(0,o.selectionEnd),c=!1;if(l.toLowerCase().endsWith(n.toLowerCase()))i=l.substring(0,l.length-n.length);else{var u=e.substring(n.length),d=r.findOverlap(l,u);c=0===d.length,i=l.substring(0,l.length-d.length-n.length)}var p,h=s.substring(a);if(p=c?l:i+e+" "+h,o.value=p,t.props.onChange){var f={target:o};t.props.onChange(f)}window.requestAnimationFrame((function(){o.value===p&&tt(o,i.length+e.length+1)}))})),S(m(t),"replaceText",(function(e){var n=t.getTextbox();if(n.value=e,t.props.onChange){var r={target:n};t.props.onChange(r)}})),S(m(t),"handleCompleteWord",(function(e,n,r){var i=e,o=!1;if(e.endsWith(Ac)&&(i=e.substring(0,e.length-Ac.length),o=!0),t.props.replaceAllInputOnSelect?t.replaceText(i):t.addTextAtCaret(i,n),t.props.onItemSelected)for(var a=t.state.items,s=t.state.terms,l=0;l<s.length;l++)if(s[l]===i){t.props.onItemSelected(a[l]);break}if(t.clear(),t.inputRef.current.focus(),o&&t.props.onKeyPress){var c=r;return r&&!Ce(r,Se.KeyCodes.TAB)||(c=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13}),r&&r.preventDefault()),t.props.onKeyPress(c),!0}if(!o){var u,d=v(t.props.providers);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.handleCompleteWord&&p.handleCompleteWord(i,n,t.handlePretextChanged)}}catch(h){d.e(h)}finally{d.f()}}return!1})),S(m(t),"selectNext",(function(){t.setSelectionByDelta(1)})),S(m(t),"selectPrevious",(function(){t.setSelectionByDelta(-1)})),S(m(t),"setSelectionByDelta",(function(e){var n=t.state.terms.indexOf(t.state.selection);-1!==n?((n+=e)<0?n=0:n>t.state.terms.length-1&&(n=t.state.terms.length-1),t.setState({selection:t.state.terms[n]})):t.setState({selection:""})})),S(m(t),"setSelection",(function(e){t.setState({selection:e})})),S(m(t),"clear",(function(){t.state.cleared||(t.setState({cleared:!0,matchedPretext:[],terms:[],items:[],components:[],selection:"",suggestionBoxAlgn:{}}),t.handlePretextChanged(""))})),S(m(t),"hasSuggestions",(function(){return t.state.items.some((function(e){return!e.loading}))})),S(m(t),"handleKeyDown",(function(e){if((t.props.openWhenEmpty||t.props.value)&&t.hasSuggestions())if(Ce(e,Pc.UP))t.selectPrevious(),e.preventDefault();else if(Ce(e,Pc.DOWN))t.selectNext(),e.preventDefault();else if(Ce(e,Pc.ENTER)||t.props.completeOnTab&&Ce(e,Pc.TAB)){for(var n="",r=0;r<t.state.terms.length;r++)t.state.terms[r]===t.state.selection&&(n=t.state.matchedPretext[r]);if(t.pretext.toLowerCase().endsWith(n.toLowerCase())){if(t.handleCompleteWord(t.state.selection,n,e))return}else clearTimeout(t.timeoutId),t.nonDebouncedPretextChanged(t.pretext,!0);t.props.onKeyDown&&t.props.onKeyDown(e),e.preventDefault()}else Ce(e,Pc.ESCAPE)?(t.clear(),t.setState({presentationType:"text"}),e.preventDefault(),e.stopPropagation()):t.props.onKeyDown&&t.props.onKeyDown(e);else t.props.onKeyDown&&t.props.onKeyDown(e)})),S(m(t),"handleSelect",(function(e){t.props.onSelect&&t.props.onSelect(e)})),S(m(t),"handleReceivedSuggestions",(function(e){var n=[],r=[];t.props.onSuggestionsReceived&&t.props.onSuggestionsReceived(e);for(var i=0;i<e.terms.length;i++)n.push(e.component),r.push(e.matchedPretext);var o=e.terms,a=e.items,s=t.state.selection;return o.length>0?s=o[0]:t.state.selection&&(s=""),t.setState({cleared:!1,selection:s,terms:o,items:a,components:n,matchedPretext:r}),{selection:s,matchedPretext:e.matchedPretext}})),S(m(t),"handleReceivedSuggestionsAndComplete",(function(e){var n=t.handleReceivedSuggestions(e),r=n.selection,i=n.matchedPretext;r&&t.handleCompleteWord(r,i)})),S(m(t),"nonDebouncedPretextChanged",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.pretext=e;var r=!1,i=t.handleReceivedSuggestions;n&&(i=t.handleReceivedSuggestionsAndComplete);var o,a=v(t.props.providers);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(r=s.handlePretextChanged(e,i)||r){if(void 0===t.state.suggestionBoxAlgn.pixelsToMoveX&&void 0===t.state.suggestionBoxAlgn.pixelsToMoveY&&["@",":","~","/"].includes(s.triggerCharacter)){var l=s.triggerCharacter,c=nt(l),u=rt(t.getTextbox(),c,t.props.listStyle);t.setState({suggestionBoxAlgn:u})}t.setState({presentationType:s.presentationType(),allowDividers:s.allowDividers()});break}}}catch(d){a.e(d)}finally{a.f()}r||t.clear()})),S(m(t),"debouncedPretextChanged",(function(e){clearTimeout(t.timeoutId),t.timeoutId=setTimeout((function(){return t.nonDebouncedPretextChanged(e)}),Se.SEARCH_TIMEOUT_MILLISECONDS)})),S(m(t),"handlePretextChanged",(function(e){t.pretext=e,t.debouncedPretextChanged(e)})),S(m(t),"blur",(function(){t.inputRef.current.blur()})),S(m(t),"focus",(function(){var e=t.inputRef.current.input;'""'===e.value||e.value.endsWith('""')?(e.selectionStart=e.value.length-1,e.selectionEnd=e.value.length-1):e.selectionStart=e.value.length,e.focus(),t.handleChange({target:t.inputRef.current})})),S(m(t),"setContainerRef",(function(e){t.container&&(t.container.removeEventListener("focusin",t.handleFocusIn),t.container.removeEventListener("focusout",t.handleFocusOut)),e&&(e.addEventListener("focusin",t.handleFocusIn),e.addEventListener("focusout",t.handleFocusOut)),t.container=e})),t.suggestionReadOut=b.createRef(),t.composing=!1,t.pretext="",t.timeoutId="",t.preventSuggestionListCloseFlag=!1,t.state={focused:!1,cleared:!0,matchedPretext:[],items:[],terms:[],components:[],selection:"",allowDividers:!0,presentationType:"text",suggestionBoxAlgn:{}},t.inputRef=b.createRef(),t}return u(r,[{key:"componentDidMount",value:function(){this.props.listenForMentionKeyClick&&$e.addListener("mention_key_click",this.handleMentionKeyClick),this.handlePretextChanged(this.pretext)}},{key:"componentWillUnmount",value:function(){$e.removeListener("mention_key_click",this.handleMentionKeyClick)}},{key:"componentDidUpdate",value:function(e){var t=this.props.value;if(""!==t||this.pretext===t){if(e.contextId!==this.props.contextId){var n=this.getTextbox(),r=n.value.substring(0,n.selectionEnd).toLowerCase();this.handlePretextChanged(r)}}else this.handlePretextChanged(t)}},{key:"render",value:function(){var e=this.props,n=(e.listComponent,e.dateComponent,e.listStyle,e.renderNoResults,a(e,t));return this.props.renderDividers&&this.state.allowDividers,Reflect.deleteProperty(n,"providers"),Reflect.deleteProperty(n,"onChange"),Reflect.deleteProperty(n,"onComposition"),Reflect.deleteProperty(n,"onItemSelected"),Reflect.deleteProperty(n,"completeOnTab"),Reflect.deleteProperty(n,"isRHS"),Reflect.deleteProperty(n,"requiredCharacters"),Reflect.deleteProperty(n,"openOnFocus"),Reflect.deleteProperty(n,"openWhenEmpty"),Reflect.deleteProperty(n,"onFocus"),Reflect.deleteProperty(n,"onBlur"),Reflect.deleteProperty(n,"containerClass"),Reflect.deleteProperty(n,"replaceAllInputOnSelect"),Reflect.deleteProperty(n,"renderDividers"),Reflect.deleteProperty(n,"contextId"),Reflect.deleteProperty(n,"listenForMentionKeyClick"),Reflect.deleteProperty(n,"wrapperHeight"),Reflect.deleteProperty(n,"forceSuggestionsWhenBlur"),Reflect.deleteProperty(n,"onSuggestionsReceived"),y("div",{ref:this.setContainerRef,className:this.props.containerClass,children:[f("div",{ref:this.suggestionReadOut,"aria-live":"polite",role:"alert",className:"sr-only"}),f(ds,C(C({ref:this.inputRef,autoComplete:"off"},n),{},{onInput:this.handleChange,onCompositionStart:this.handleCompositionStart,onCompositionUpdate:this.handleCompositionUpdate,onCompositionEnd:this.handleCompositionEnd,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect}))]})}}],[{key:"findOverlap",value:function(e,t){for(var n=e.toLowerCase(),r=t.toLowerCase(),i=r.length;i>0;i--){var o=r.substring(0,i);if(n.endsWith(o))return o}return""}}]),r}(b.PureComponent);S(Tc,"propTypes",{listComponent:q.func.isRequired,inputComponent:q.elementType,dateComponent:q.func,value:q.string.isRequired,providers:q.arrayOf(q.object).isRequired,listStyle:q.string,containerClass:q.string,renderDividers:q.bool,renderNoResults:q.bool,completeOnTab:q.bool,onFocus:q.func,onBlur:q.func,onChange:q.func,onKeyDown:q.func,onKeyPress:q.func,onComposition:q.func,onSelect:q.func,onSearchTypeSelected:q.func,onItemSelected:q.func,isRHS:q.bool,requiredCharacters:q.number,openOnFocus:q.bool,disabled:q.bool,openWhenEmpty:q.bool,replaceAllInputOnSelect:q.bool,contextId:q.string,listenForMentionKeyClick:q.bool,wrapperHeight:q.number,onSuggestionsReceived:q.func,forceSuggestionsWhenBlur:q.bool}),S(Tc,"defaultProps",{listStyle:"top",containerClass:"",renderDividers:!1,renderNoResults:!1,completeOnTab:!0,isRHS:!1,requiredCharacters:1,openOnFocus:!1,openWhenEmpty:!1,replaceAllInputOnSelect:!1,listenForMentionKeyClick:!1,forceSuggestionsWhenBlur:!1});var Ic=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"getContent",(function(){return us(r.contentRef.current)})),S(m(r),"scrollToItem",(function(e){var t=r.getContent();if(t&&0!==t.length){var n=t[0].clientHeight;if(n<t[0].scrollHeight){var i=t.scrollTop(),o=parseInt(t.css("padding-top"),10),a=parseInt(t.css("padding-top"),10),s=us(_.findDOMNode(r.itemRefs.get(e)));if(0===s.length)return;var l=s[0].offsetTop-parseInt(s.css("margin-top"),10),c=parseInt(s.css("margin-bottom"),10)+parseInt(s.css("padding-bottom"),10),u=s[0].offsetTop+s.height()+c;l-o<i?t.scrollTop(l-o):u+o+a>i+n&&t.scrollTop(u-n+o+a)}}})),r.contentRef=b.createRef(),r.itemRefs=new Map,r.suggestionReadOut=b.createRef(),r.currentLabel="",r.currentItem={},r}return u(n,[{key:"componentDidUpdate",value:function(e){this.props.selection!==e.selection&&this.props.selection&&this.scrollToItem(this.props.selection),it(this.currentItem)||this.generateLabel(this.currentItem)}},{key:"componentWillUnmount",value:function(){this.removeLabel()}},{key:"announceLabel",value:function(){var e=this.props.ariaLiveRef.current;e&&(e.innerHTML=this.currentLabel)}},{key:"removeLabel",value:function(){var e=this.props.ariaLiveRef.current;e&&(e.innerHTML="")}},{key:"generateLabel",value:function(e){e.username?(this.currentLabel=e.username,(e.first_name||e.last_name)&&e.nickname?this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name," ").concat(e.nickname):e.nickname?this.currentLabel+=" ".concat(e.nickname):(e.first_name||e.last_name)&&(this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name))):"mention.channels"===e.type&&(this.currentLabel=e.channel.display_name),this.currentLabel&&(this.currentLabel=this.currentLabel.toLowerCase()),this.announceLabel()}},{key:"renderDivider",value:function(e){return f("div",{className:"suggestion-list__divider",children:f("span",{children:f(E,{id:"suggestion."+e})})},e+"-divider")}},{key:"renderNoResults",value:function(){return f("div",{className:"suggestion-list__no-results",ref:this.contentRef,children:f(Zs,{id:"suggestion_list.no_matches",defaultMessage:"No items match __{value}__",values:{value:this.props.pretext||'""'}})},"list-no-results")}},{key:"render",value:function(){var e=this;if(!this.props.open||this.props.cleared)return null;var t,n=[];if(0===this.props.items.length){if(!this.props.renderNoResults)return null;n.push(this.renderNoResults())}for(var r=function(r){var i=e.props.items[r],o=e.props.terms[r],a=o===e.props.selection,s=e.props.components[r];if(e.props.renderDividers&&i.type!==t&&(n.push(e.renderDivider(i.type)),t=i.type),i.loading)return n.push(f(xs,{},i.type)),"continue";a&&(e.currentItem=i),n.push(f(s,{ref:function(t){return e.itemRefs.set(o,t)},item:e.props.items[r],term:o,matchedPretext:e.props.matchedPretext[r],isSelection:a,onClick:e.props.onCompleteWord,onMouseMove:e.props.onItemHover},o))},i=0;i<this.props.items.length;i++)r(i);var o="suggestion-list suggestion-list--"+this.props.location,a="suggestion-list__content suggestion-list__content--"+this.props.location,s=Se.SUGGESTION_LIST_MAXHEIGHT;this.props.wrapperHeight&&(s=Math.min(ot()-(this.props.wrapperHeight+Se.POST_MODAL_PADDING),Se.SUGGESTION_LIST_MAXHEIGHT));var l={maxHeight:s},c=this.props.suggestionBoxAlgn,u=c.pixelsToMoveX,d=c.pixelsToMoveY,p=void 0!==u&&void 0!==d?{transform:"translate(".concat(u,"px, ").concat(d,"px)")}:{};return f("div",{className:o,children:f("div",{id:"suggestionList",role:"list",ref:this.contentRef,style:C(C({},l),p),className:a,onMouseDown:this.props.preventClose,children:n})})}}]),n}(b.PureComponent);S(Ic,"propTypes",{ariaLiveRef:q.object,open:q.bool.isRequired,location:q.string,renderDividers:q.bool,renderNoResults:q.bool,onCompleteWord:q.func.isRequired,preventClose:q.func,onItemHover:q.func.isRequired,pretext:q.string.isRequired,cleared:q.bool.isRequired,matchedPretext:q.array.isRequired,items:q.array.isRequired,terms:q.array.isRequired,selection:q.string.isRequired,components:q.array.isRequired,wrapperHeight:q.number,suggestionBoxAlgn:q.object}),S(Ic,"defaultProps",{renderDividers:!1,renderNoResults:!1});var Mc={textareaWrapper:"mqik-61974f66",textboxContainer:"mqik-38b2e3fb",formInput:"mqik-af7e39ef",formTextarea:"mqik-dc5b1731",formSelect:"mqik-b6d960be",formMultiselect:"mqik-258c30c5",customTextarea:"mqik-b0e6e88b",textboxInput:"mqik-b64a333e",textareaEmojiPicker:"mqik-a7943600",textareaCustomPlaceholder:"mqik-71931c66",badConnection:"mqik-11749422",customTextareaPreview:"mqik-efe8a2ea"},Nc=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"suggestionProviders",void 0),S(m(r),"wrapper",void 0),S(m(r),"message",void 0),S(m(r),"preview",void 0),S(m(r),"handleChange",(function(e){r.props.onChange(e)})),S(m(r),"checkMessageLength",(function(e){if(r.props.handlePostError)if(e.length>r.props.characterLimit){var t=f(E,{id:"create_post.error_message",defaultMessage:"Your message is too long. Character count: {length}/{limit}",values:{length:e.length,limit:r.props.characterLimit}});r.props.handlePostError(t)}else r.props.handlePostError(null)})),S(m(r),"handleKeyDown",(function(e){var t,n;null===(t=(n=r.props).onKeyDown)||void 0===t||t.call(n,e)})),S(m(r),"handleSelect",(function(e){var t,n;null===(t=(n=r.props).onSelect)||void 0===t||t.call(n,e)})),S(m(r),"handleMouseUp",(function(e){var t,n;null===(t=(n=r.props).onMouseUp)||void 0===t||t.call(n,e)})),S(m(r),"handleKeyUp",(function(e){var t,n;null===(t=(n=r.props).onKeyUp)||void 0===t||t.call(n,e)})),S(m(r),"handleBlur",(function(e){var t,n;null===(t=(n=r.props).onBlur)||void 0===t||t.call(n,e)})),S(m(r),"handleFocus",(function(e){var t,n;null===(t=(n=r.props).onFocus)||void 0===t||t.call(n,e)})),S(m(r),"handleHeightChange",(function(e,t){var n,i;null===(n=(i=r.props).onHeightChange)||void 0===n||n.call(i,e,t)})),S(m(r),"getInputBox",(function(){var e;return null===(e=r.message.current)||void 0===e?void 0:e.getTextbox()})),S(m(r),"focus",(function(){var e=r.getInputBox();e&&(e.focus(),at(e),r.checkMessageLength(e.value))})),S(m(r),"blur",(function(){var e;null===(e=r.getInputBox())||void 0===e||e.blur()})),S(m(r),"recalculateSize",(function(){var e;null===(e=r.message.current)||void 0===e||e.recalculateSize()})),S(m(r),"focusTextbox",(function(){})),r.suggestionProviders=[],r.checkMessageLength(e.value),r.wrapper=b.createRef(),r.message=b.createRef(),r.preview=b.createRef(),r}return u(n,[{key:"updateSuggestions",value:function(e){if(this.props.channelId!==e.channelId||this.props.currentUserId!==e.currentUserId||this.props.profilesInChannel!==e.profilesInChannel||this.props.autocompleteGroups!==e.autocompleteGroups)for(var t=this.suggestionProviders,n=0;n<t.length;n++);e.value!==this.props.value&&this.checkMessageLength(this.props.value)}},{key:"componentDidUpdate",value:function(e){var t;!e.preview&&this.props.preview&&(null===(t=this.preview.current)||void 0===t||t.focus());this.updateSuggestions(e)}},{key:"render",value:function(){var e,t,n=null,r=S({},Mc.textareaWrapper,!0),i=S({},Mc.customTextarea,!0);(this.props.emojiEnabled&&(i[Mc.textareaEmojiPicker]=!0),this.props.badConnection&&(i[Mc.badConnection]=!0),"string"!=typeof this.props.createMessage&&(i[Mc.textareaCustomPlaceholder]=!0),this.wrapper.current)&&(e=null===(t=this.getInputBox())||void 0===t?void 0:t.clientHeight);this.props.preview&&(i[Mc.customTextareaPreview]=!0,r[Mc.textareaWrapperPreview]=!0,n=f("div",{tabIndex:0,ref:this.preview,className:"form-control custom-textarea textbox-preview-area",onKeyPress:this.props.onKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onBlur:this.handleBlur,onFocus:this.handleFocus,children:f(qc,{isRHS:this.props.isRHS,message:this.props.value,mentionKeys:[],channelId:this.props.channelId})}));var o=this.props.styles||{};return y("div",{ref:this.wrapper,className:w(r,o.textboxWrapper),onClick:this.focusTextbox,children:[f(Tc,{id:this.props.id,ref:this.message,className:w(Mc.textboxInput,o.textboxInput,i),containerClass:w(Mc.textboxContainer),spellCheck:"true",placeholder:this.props.createMessage,onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onSelect:this.handleSelect,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onKeyUp:this.handleKeyUp,onComposition:this.props.onComposition,onBlur:this.handleBlur,onFocus:this.handleFocus,onHeightChange:this.handleHeightChange,style:{visibility:this.props.preview?"hidden":"visible"},inputComponent:this.props.inputComponent,listComponent:Ic,listStyle:this.props.suggestionListStyle,providers:this.suggestionProviders,channelId:this.props.channelId,value:this.props.value,renderDividers:!0,isRHS:this.props.isRHS,disabled:this.props.disabled,contextId:this.props.channelId,listenForMentionKeyClick:this.props.listenForMentionKeyClick,wrapperHeight:e,openWhenEmpty:this.props.openWhenEmpty}),n]})}}]),n}(b.PureComponent);S(Nc,"defaultProps",{supportsCommands:!0,isRHS:!1,listenForMentionKeyClick:!1,inputComponent:Es});var Rc={active:!0},Oc=g((function(){var e=st(),t=sa(),n=lt();return function(r,i){var o=Pe(r),a=ct(r),s="true"===(null==a?void 0:a.IsLicensed)&&"true"===(null==a?void 0:a.LDAPGroups)&&Ie(r,{channel:i.channelId,team:o,permission:pe.USE_GROUP_MENTIONS})?Cs(r,o,i.channelId):null,l=e(r,i.channelId,Rc),c=t(r,l);return{currentUserId:ge(r),currentTeamId:o,profilesInChannel:c,autocompleteGroups:s,priorityProfiles:n(r,i)}}}),(function(e){return{actions:P({autocompleteUsersInChannel:la,autocompleteChannels:ca,searchAssociatedGroupsForReference:vc},e)}}),null,{forwardRef:!0})(Nc),Lc="mqik-67c583b0",Dc="mqik-3a1587a3",Fc=Se.KeyCodes,Hc=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"setShowPreview",(function(e){r.props.actions.setShowPreview(e)})),S(m(r),"getContainer",(function(){return r.editModalBody.current})),S(m(r),"toggleEmojiPicker",(function(){r.setState({showEmojiPicker:!r.state.showEmojiPicker}),!r.state.showEmojiPicker&&r.editbox&&r.editbox.focus()})),S(m(r),"hideEmojiPicker",(function(){r.setState({showEmojiPicker:!1}),r.editbox&&r.editbox.focus()})),S(m(r),"handleEmojiClick",(function(e){var t=e&&(e.name||e.aliases&&e.aliases[0]);if(t){if(""===r.state.editText)r.setState({editText:":"+t+": "});else{var n=r.state.editText,i=We(r.state.caretPosition,n),o=i.firstPiece,a=i.lastPiece,s=""===o?":".concat(t,": ").concat(a):"".concat(o," :").concat(t,": ").concat(a),l=""===o?":".concat(t,": ").length:"".concat(o," :").concat(t,": ").length,c=r.editbox.getInputBox();r.setState({editText:s,caretPosition:l},(function(){tt(c,l)}))}r.setState({showEmojiPicker:!1}),r.editbox&&r.editbox.focus()}})),S(m(r),"handleGifClick",(function(e){if(""===r.state.editText)r.setState({editText:e});else{var t=/\s+$/.test(r.state.editText)?r.state.editText+e:r.state.editText+" "+e;r.setState({editText:t})}r.setState({showEmojiPicker:!1}),r.editbox.focus()})),S(m(r),"getTarget",(function(){return r.refs.editPostEmoji})),S(m(r),"handlePostError",(function(e){r.state.postError!==e&&r.setState({postError:e})})),S(m(r),"handleEdit",x(k().mark((function e(){var t,n,i,o,a,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isSaveDisabled()){e.next=2;break}return e.abrupt("return");case 2:if(t=r.props,n=t.actions,i=t.editingPost,o={message:r.state.editText,id:i.postId,channel_id:i.post.channel_id},!r.state.postError){e.next=8;break}return r.setState({errorClass:"animation--highlight"}),setTimeout((function(){r.setState({errorClass:null})}),Se.ANIMATION_TIMEOUT),e.abrupt("return");case 8:if(o.message!==(i.post.message_source||i.post.message)){e.next=11;break}return r.handleHide(),e.abrupt("return");case 11:if(a=i.post.file_ids&&i.post.file_ids.length>0,0!==o.message.trim().length||a){e.next=17;break}return r.handleHide(!1),s={ModalId:de.DELETE_POST,dialogType:gc,dialogProps:{post:i.post,commentCount:i.commentCount,isRHS:i.isRHS}},r.props.actions.openModal(s),e.abrupt("return");case 17:return n.addMessageIntoHistory(o.message),e.next=20,n.editPost(o);case 20:e.sent&&window.scrollTo(0,0),r.handleHide();case 23:case"end":return e.stop()}}),e)})))),S(m(r),"handleChange",(function(e){var t=e.target.value;r.setState({editText:t})})),S(m(r),"handlePaste",(function(e){if(e.clipboardData&&e.clipboardData.items&&r.props.canEditPost&&"edit_textbox"===e.target.id){var t=e.clipboardData,n=dc(t);if(n){e.preventDefault();var i,o=r.state.editText,a=o,s=r.state.caretPosition;if(i=n.className,/\b(js|blob|diff)-./.test(i)){var l=fc(r.state.caretPosition,a,t),c=l.formattedMessage,u=l.formattedCodeBlock;s=r.state.caretPosition+u.length,a=c}else a=hc(n,o.trim(),s),s=a.length-(o.length-s);r.setState({editText:a,caretPosition:s},(function(){tt(r.editbox.getInputBox(),s)}))}}})),S(m(r),"handleEditKeyPress",(function(e){var t=r.props,n=t.ctrlSend,i=t.codeBlockOnCtrlEnter,o=ut(e,r.state.editText,n,i,Date.now(),r.lastChannelSwitchAt,r.state.caretPosition),a=o.allowSending;if(o.ignoreKeyPress)return e.preventDefault(),void e.stopPropagation();a&&(e.preventDefault(),r.editbox.blur(),r.handleEdit())})),S(m(r),"handleMouseUpKeyUp",(function(e){var t=dt(e.target);r.setState({caretPosition:t})})),S(m(r),"handleSelect",(function(e){pt(r.editbox.getInputBox(),e)})),S(m(r),"handleKeyDown",(function(e){var t=r.props,n=t.ctrlSend,i=t.codeBlockOnCtrlEnter,o=e.ctrlKey||e.metaKey,a=ht(e)&&!e.altKey&&!e.shiftKey,s=ht(e,!0)&&e.altKey,l=(n||i)&&Ce(e,Fc.ENTER)&&o,c=Ce(e,Fc.B)||Ce(e,Fc.I),u=Ce(e,Fc.K);ft(e)?(e.stopPropagation(),r.setState({editText:mt(e)})):l?r.handleEdit():Ce(e,Fc.ESCAPE)&&!r.state.showEmojiPicker?r.handleHide():(a&&c||s&&u)&&r.applyHotkeyMarkdown(e)})),S(m(r),"applyHotkeyMarkdown",(function(e){var t=gt(e);r.setState({editText:t.message},(function(){var e=r.editbox.getInputBox();vt(e,t.selectionStart,t.selectionEnd)}))})),S(m(r),"handleHide",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.refocusId=e?r.props.editingPost.refocusId:null,r.props.actions.hideEditPostModal()})),S(m(r),"handleCheckForChangesHide",(function(){r.state.editText===r.props.editingPost.post.message&&r.handleHide()})),S(m(r),"handleEntered",(function(){r.editbox&&(r.editbox.focus(),r.editbox.recalculateSize())})),S(m(r),"handleHeightChange",(function(e,t){r.editbox&&r.setState({renderScrollbar:e>t,scrollbarWidth:bt(r.editbox.getInputBox())})})),S(m(r),"handleExit",(function(){r.props.actions.setShowPreview(!1)})),S(m(r),"handleExited",(function(){var e=r.refocusId;e&&setTimeout((function(){var t=document.getElementById(e);t&&t.focus()})),r.refocusId=null,r.setState({editText:"",postError:"",errorClass:null,showEmojiPicker:!1,prevShowState:!1}),r.props.actions.setShowPreview(!1)})),S(m(r),"setEditboxRef",(function(e){r.editbox=e,r.editbox&&r.editbox.focus()})),S(m(r),"isSaveDisabled",(function(){var e=r.props.editingPost.post;return e&&e.file_ids&&e.file_ids.length>0||""!==r.state.editText.trim()?!r.props.canEditPost:!r.props.canDeletePost})),r.state={editText:"",caretPosition:"".length,postError:"",errorClass:null,showEmojiPicker:!1,renderScrollbar:!1,scrollbarWidth:0,prevShowState:e.editingPost.show},r.editModalBody=b.createRef(),r}return u(n,[{key:"componentDidMount",value:function(){document.addEventListener("paste",this.handlePaste)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){var e=this;this.props.intl;var t="edit-post-footer"+(this.state.postError?" has-error":""),n=null;if(this.state.postError){var r="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");n=f("label",{className:r,children:this.state.postError})}var i=!!this.props.editingPost&&this.props.editingPost.show;return y(hs,{dialogClassName:"a11y__modal edit-modal",show:i,onHide:this.handleCheckForChangesHide,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,"aria-labelledby":"editPostModalLabel",children:[f(fs,{closeButton:!1,children:f(bl,{componentClass:"h1",id:"editPostModalLabel",children:f(E,{id:"edit_post.edit",defaultMessage:"Edit {title}",values:{title:this.props.editingPost.title}})})}),f(ms,{children:y("div",{className:w("post-create__container",Lc),ref:this.editModalBody,children:[f("div",{className:w("textarea-wrapper",Dc,{scroll:this.state.renderScrollbar}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0,children:f(Oc,{tabIndex:0,onChange:this.handleChange,onKeyPress:this.handleEditKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:this.state.editText,channelId:this.props.editingPost.post&&this.props.editingPost.post.channel_id,emojiEnabled:!1,createMessage:_e("edit_post.editPost","Edit the post..."),supportsCommands:!1,suggestionListStyle:"bottom",id:"edit_textbox",ref:this.setEditboxRef,characterLimit:this.props.maxPostSize,preview:!1,useChannelMentions:this.props.useChannelMentions})}),f("div",{className:"post-create-footer",children:f("div",{className:t,children:n})})]})}),y(vl,{children:[f("button",{id:"editButton",type:"button",className:"u3-btn u3-btn-primary",disabled:this.isSaveDisabled(),onClick:this.handleEdit,children:f(E,{id:"edit_post.save",defaultMessage:"Save"})}),f("button",{type:"button",className:"u3-btn u3-btn-link",onClick:function(){return e.handleHide(!0)},children:f(E,{id:"edit_post.cancel",defaultMessage:"Cancel"})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.editingPost.show&&!t.prevShowState?{editText:e.editingPost.post.message_source||e.editingPost.post.message,prevShowState:e.editingPost.show}:null}}]),n}(b.PureComponent);S(Hc,"propTypes",{canEditPost:q.bool,canDeletePost:q.bool,codeBlockOnCtrlEnter:q.bool,ctrlSend:q.bool,config:q.object.isRequired,intl:$s.isRequired,maxPostSize:q.number.isRequired,shouldShowPreview:q.bool.isRequired,useChannelMentions:q.bool.isRequired,editingPost:q.shape({post:q.object,postId:q.string,refocusId:q.string,commentCount:q.number,show:q.bool.isRequired,title:q.string,isRHS:q.bool}).isRequired,actions:q.shape({addMessageIntoHistory:q.func.isRequired,editPost:q.func.isRequired,hideEditPostModal:q.func.isRequired,openModal:q.func.isRequired,setShowPreview:q.func.isRequired}).isRequired});var Uc=I(Hc);var jc=g((function(e){var t,n=be(e),r=yt(e),i=ge(e),o=(null==r||null===(t=r.post)||void 0===t?void 0:t.channel_id)||Q(e),a=Pe(e),s=!1,l=!1;r&&r.post&&r.post.user_id===i?(s=Ie(e,{channel:o,team:a,permission:pe.DELETE_POST}),l=Ie(e,{channel:o,team:a,permission:pe.EDIT_POST})):(s=Ie(e,{channel:o,team:a,permission:pe.DELETE_OTHERS_POSTS}),l=Ie(e,{channel:o,team:a,permission:pe.EDIT_OTHERS_POSTS}));var c=Ie(e,{channel:o,team:a,permission:pe.USE_CHANNEL_MENTIONS});return r.post=r.post||{},{canEditPost:l,canDeletePost:s,codeBlockOnCtrlEnter:qe(e,Ae.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:qe(e,Ae.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),config:n,editingPost:r,channelId:o,shouldShowPreview:cc(e),maxPostSize:parseInt(n.MaxPostSize||"0",10)||Se.DEFAULT_CHARACTER_LIMIT,useChannelMentions:c}}),(function(e){return{actions:P({addMessageIntoHistory:kt,editPost:uc,hideEditPostModal:wt,openModal:xe,setShowPreview:sc},e)}}))(Uc),Bc="mqik-e253eb5b",zc="mqik-acb20569",Vc=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"reportModalBody",void 0),S(m(r),"editbox",void 0),S(m(r),"getContainer",(function(){return r.reportModalBody.current})),S(m(r),"handlePostError",(function(e){r.state.postError!==e&&r.setState({postError:e})})),S(m(r),"handleReport",x(k().mark((function e(){var t,n,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.sending){e.next=2;break}return e.abrupt("return");case 2:if(r.setState({sending:!0}),t=r.props,n=t.actions,i=t.reportPost,!r.state.postError){e.next=8;break}return r.setState({errorClass:"animation--highlight"}),setTimeout((function(){r.setState({errorClass:null})}),Se.ANIMATION_TIMEOUT),e.abrupt("return");case 8:return e.next=10,n.reportPost(i.postId||i.post.id,r.state.reasonText||".");case 10:r.handleHide();case 11:case"end":return e.stop()}}),e)})))),S(m(r),"handleChange",(function(e){var t=e.target.value;r.setState({reasonText:t})})),S(m(r),"handleMouseUpKeyUp",(function(e){var t=dt(e.target);r.setState({caretPosition:t})})),S(m(r),"handleHide",(function(){r.props.actions.hideReportPostModal()})),S(m(r),"handleCheckForChangesHide",(function(){r.handleHide()})),S(m(r),"handleEntered",(function(){r.editbox&&(r.editbox.focus(),r.editbox.recalculateSize())})),S(m(r),"handleHeightChange",(function(e,t){r.editbox&&r.setState({renderScrollbar:e>t,scrollbarWidth:bt(r.editbox.getInputBox())})})),S(m(r),"handleExit",(function(){})),S(m(r),"handleExited",(function(){r.setState({reasonText:"",postError:"",errorClass:null,showEmojiPicker:!1,prevShowState:!1})})),S(m(r),"setReportBoxRef",(function(e){r.editbox=e,r.editbox&&r.editbox.focus()})),r.state={reasonText:"",caretPosition:"".length,postError:"",errorClass:null,showEmojiPicker:!1,renderScrollbar:!1,scrollbarWidth:0,prevShowState:e.reportPost.show,sending:!1},r.reportModalBody=b.createRef(),r}return u(n,[{key:"render",value:function(){var e=this,t="edit-post-footer"+(this.state.postError?" has-error":""),n=null;if(this.state.postError){var r="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");n=f("label",{className:r,children:this.state.postError})}var i=!!this.props.reportPost&&this.props.reportPost.show;return y(hs,{dialogClassName:"a11y__modal edit-modal",show:i,onHide:this.handleCheckForChangesHide,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,"aria-labelledby":"editPostModalLabel",children:[f(fs,{closeButton:!1,children:f(bl,{componentClass:"h1",id:"editPostModalLabel",children:f(E,{id:"report_post.title",defaultMessage:"Báo cáo {title}",values:{title:"@".concat(this.props.username)}})})}),f(ms,{children:y("div",{className:w("post-create__container",Bc),ref:this.reportModalBody,children:[f("div",{className:w("textarea-wrapper",zc,{scroll:this.state.renderScrollbar}),children:f(Oc,{rootId:"",onKeyPress:function(){},onChange:this.handleChange,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onHeightChange:this.handleHeightChange,value:this.state.reasonText,channelId:this.props.reportPost.post&&this.props.reportPost.post.channel_id,emojiEnabled:!1,createMessage:_e("report_post.reason","Nhập lý do..."),supportsCommands:!1,suggestionListStyle:"bottom",id:"report_textbox",ref:this.setReportBoxRef,characterLimit:this.props.maxPostSize,preview:!1,useChannelMentions:!1})}),f("div",{className:"post-create-footer",children:f("div",{className:t,children:n})})]})}),y(vl,{children:[f("button",{id:"editButton",type:"button",className:"u3-btn u3-btn-primary",disabled:this.state.sending,onClick:this.handleReport,children:this.state.sending?f(E,{id:"report_post.sending",defaultMessage:"Đang gửi..."}):f(E,{id:"report_post.submit",defaultMessage:"Gửi báo cáo"})}),f("button",{type:"button",className:"u3-btn u3-btn-link",onClick:function(){return e.handleHide()},children:f(E,{id:"report_post.cancel",defaultMessage:"Hủy bỏ"})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.reportPost.show&&!t.prevShowState?{prevShowState:e.reportPost.show,sending:!1}:null}}]),n}(b.PureComponent);S(Vc,"propTypes",{codeBlockOnCtrlEnter:q.bool,ctrlSend:q.bool,config:q.object.isRequired,intl:$s.isRequired,maxPostSize:q.number.isRequired,username:q.string,reportPost:q.shape({post:q.object,postId:q.string,show:q.bool.isRequired,isRHS:q.bool}).isRequired,actions:q.shape({reportPost:q.func.isRequired,hideReportPostModal:q.func.isRequired,openModal:q.func.isRequired}).isRequired});var Wc=I(Vc);var Gc=g((function(e){var t=be(e),n=xt(e);n.post=n.post||{};var r="";return n.post&&n.post.user_id&&(r=He(e,n.post.user_id).username),{codeBlockOnCtrlEnter:qe(e,Ae.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:qe(e,Ae.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),config:t,reportPost:n,username:r,maxPostSize:parseInt(t.MaxPostSize||"0",10)||Se.DEFAULT_CHARACTER_LIMIT}}),(function(e){return{actions:P({reportPost:Et,hideReportPostModal:Ct,openModal:xe},e)}}))(Wc);function Kc(e){return{type:X.SET_SHOW_NEXT_STEPS_VIEW,show:e}}function Yc(e,t){return e.views.modals.modalState[t]&&e.views.modals.modalState[t].open}function Xc(e){return e.views.announcementBar.announcementBarState.announcementBarCount}var Qc=Ka.jsx;var Jc=p.exports.forwardRef((function(e,t){return Qc("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Qc("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})}))})),Zc=Ka.jsx;var $c=p.exports.forwardRef((function(e,t){return Zc("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Zc("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}))})),eu=Ka.jsx;var tu=p.exports.forwardRef((function(e,t){return eu("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:eu("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}))})),nu=Ka.jsx;var ru=p.exports.forwardRef((function(e,t){return nu("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:nu("path",{fillRule:"evenodd",d:"M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z",clipRule:"evenodd"})}))})),iu=Ka.jsx;var ou=p.exports.forwardRef((function(e,t){return iu("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:iu("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}))})),au=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"membersList",void 0),S(m(r),"handleShowDirectChannel",(function(e){var t=r.props.actions,n=e.id;n&&t.openDirectChannelToUserId(n).then((function(e){var t=e.data;t&&Ge.push(r.props.teamUrl+"/group/"+t.name),r.closePopover()}))})),S(m(r),"closePopover",(function(){r.setState({showPopover:!1})})),S(m(r),"showMembersModal",(function(e){e.preventDefault(),r.closePopover();var t={modalId:de.CHANNEL_MEMBERS,dialogProps:r.props,dialogType:Ss};r.props.actions.openModal(t)})),S(m(r),"handleGetProfilesInChannel",(function(e){return e.preventDefault()})),S(m(r),"getTargetPopover",(function(){return r.membersList.current.focus(),r.refs.member_popover_target})),r.membersList=b.createRef(),r.state={showPopover:!1,users:e.users,statuses:e.statuses},r}return u(n,[{key:"render",value:function(){this.props.channel.type,Se.DM_CHANNEL;var e=0!==this.props.channel.delete_at;if(this.props.channel.type!==Se.GM_CHANNEL&&!e){!(this.props.channel.name===Se.DEFAULT_CHANNEL)&&this.props.manageMembers||f(E,{id:"members_popover.viewMembers",defaultMessage:"View Members"}),this.showMembersModal}var t=this.props.memberCount,n="-";t>0&&(n=(t>999?"99+":t).toString());var r="".concat(_e("channel_header.channelMembers","Members")).toLowerCase();return f(p.exports.Fragment,{children:f("button",{id:"member_popover","aria-label":r,className:"u3-inline-flex  u3-items-center u3-px-0 member-popover__trigger channel-header__icon channel-header__icon--left channel-header__icon--wide "+(this.state.showPopover?"channel-header__icon--active":""),ref:"member_popover_target",onClick:this.handleGetProfilesInChannel,title:_e("channel_header.channelMembers","Members"),children:y("span",{className:"u3-flex u3-items-center u3-text-gray-600",children:[f(ou,{className:"u3-h-4 u3-w-4 u3-text-gray-600 u3-mr-0.5"}),f("span",{children:n})]})})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.users!==t.users||e.statuses!==t.statuses?{users:e.users,statuses:e.statuses}:null}}]),n}(b.PureComponent);S(au,"propTypes",{channel:q.object.isRequired,statuses:q.object.isRequired,users:q.array.isRequired,memberCount:q.number,currentUserId:q.string.isRequired,teamUrl:q.string,manageMembers:q.bool.isRequired,actions:q.shape({openModal:q.func.isRequired,loadProfilesAndStatusesInChannel:q.func.isRequired,openDirectChannelToUserId:q.func.isRequired}).isRequired,sortedUsers:q.array});var su=g((function(){var e=st(),t=function(e){return A((function(t,n){return e(t,n,!0)}),St,_t,(function(e,t,n){return qt(e,t,n)}))}(e);return function(n,r){var i=At(n)[r.channel.id]||{},o=e(n,r.channel.id,{}),a=St(n);return{currentUserId:ge(n),memberCount:i.member_count,users:o,statuses:a,teamUrl:Pt(n),manageMembers:Ze(n,r.channel),sortedUsers:t(n,r.channel.id)}}}),(function(e){return{actions:P({openModal:xe,loadProfilesAndStatusesInChannel:Tt,openDirectChannelToUserId:ua},e)}}))(au);var lu={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function cu(e){function t(e,r,l,c,p){for(var h,f,m,g,k,x=0,E=0,C=0,S=0,_=0,M=0,R=m=h=0,L=0,D=0,F=0,H=0,U=l.length,j=U-1,B="",z="",V="",W="";L<U;){if(f=l.charCodeAt(L),L===j&&0!==E+S+C+x&&(0!==E&&(f=47===E?10:47),S=C=x=0,U++,j++),0===E+S+C+x){if(L===j&&(0<D&&(B=B.replace(d,"")),0<B.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:B+=l.charAt(L)}f=59}switch(f){case 123:for(h=(B=B.trim()).charCodeAt(0),m=1,H=++L;L<U;){switch(f=l.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:e:{for(R=L+1;R<j;++R)switch(l.charCodeAt(R)){case 47:if(42===f&&42===l.charCodeAt(R-1)&&L+2!==R){L=R+1;break e}break;case 10:if(47===f){L=R+1;break e}}L=R}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<j&&l.charCodeAt(L)!==f;);}if(0===m)break;L++}switch(m=l.substring(H,L),0===h&&(h=(B=B.replace(u,"").trim()).charCodeAt(0)),h){case 64:switch(0<D&&(B=B.replace(d,"")),f=B.charCodeAt(1)){case 100:case 109:case 115:case 45:D=r;break;default:D=I}if(H=(m=t(r,D,m,f,p+1)).length,0<N&&(k=s(3,m,D=n(I,B,F),r,A,q,H,f,p,c),B=D.join(""),void 0!==k&&0===(H=(m=k.trim()).length)&&(f=0,m="")),0<H)switch(f){case 115:B=B.replace(w,a);case 100:case 109:case 45:m=B+"{"+m+"}";break;case 107:m=(B=B.replace(v,"$1 $2"))+"{"+m+"}",m=1===T||2===T&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=B+m,112===c&&(z+=m,m="")}else m="";break;default:m=t(r,n(r,B,F),m,c,p+1)}V+=m,m=F=D=R=h=0,B="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(H=(B=(0<D?B.replace(d,""):B).trim()).length))switch(0===R&&(h=B.charCodeAt(0),45===h||96<h&&123>h)&&(H=(B=B.replace(" ",":")).length),0<N&&void 0!==(k=s(1,B,r,e,A,q,z.length,c,p,c))&&0===(H=(B=k.trim()).length)&&(B="\0\0"),h=B.charCodeAt(0),f=B.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){W+=B+l.charAt(L);break}default:58!==B.charCodeAt(H-1)&&(z+=i(B,h,f,B.charCodeAt(2)))}F=D=R=h=0,B="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===E?E=0:0===1+h&&107!==c&&0<B.length&&(D=1,B+="\0"),0<N*O&&s(0,B,r,e,A,q,z.length,c,p,c),q=1,A++;break;case 59:case 125:if(0===E+S+C+x){q++;break}default:switch(q++,g=l.charAt(L),f){case 9:case 32:if(0===S+x+E)switch(_){case 44:case 58:case 9:case 32:g="";break;default:32!==f&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===S+E+x&&(D=F=1,g="\f"+g);break;case 108:if(0===S+E+x+P&&0<R)switch(L-R){case 2:112===_&&58===l.charCodeAt(L-3)&&(P=_);case 8:111===M&&(P=M)}break;case 58:0===S+E+x&&(R=L);break;case 44:0===E+C+S+x&&(D=1,g+="\r");break;case 34:case 39:0===E&&(S=S===f?0:0===S?f:S);break;case 91:0===S+E+C&&x++;break;case 93:0===S+E+C&&x--;break;case 41:0===S+E+x&&C--;break;case 40:if(0===S+E+x){if(0===h)switch(2*_+3*M){case 533:break;default:h=1}C++}break;case 64:0===E+C+S+x+R+m&&(m=1);break;case 42:case 47:if(!(0<S+x+C))switch(E){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:E=47;break;case 220:H=L,E=42}break;case 42:47===f&&42===_&&H+2!==L&&(33===l.charCodeAt(H+2)&&(z+=l.substring(H,L+1)),g="",E=0)}}0===E&&(B+=g)}M=_,_=f,L++}if(0<(H=z.length)){if(D=r,0<N&&(void 0!==(k=s(2,z,D,e,A,q,H,c,p,c))&&0===(z=k).length))return W+z+V;if(z=D.join(",")+"{"+z+"}",0!=T*P){switch(2!==T||o(z,2)||(P=0),P){case 111:z=z.replace(y,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}P=0}}return W+z+V}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===T||2===T&&o(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(_,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(k,"tb");break;case 232:l=a.replace(k,"tb-rl");break;case 220:l=a.replace(k,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(C,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,u){for(var d,p=0,h=t;p<N;++p)switch(d=M[p].call(c,e,h,n,r,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!=typeof e?T=1:(T=2,R=e):T=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<N){var i=s(-1,n,r,r,A,q,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(I,r,n,0,0);return 0<N&&(void 0!==(i=s(-2,o,r,r,A,q,o.length,0,0,0))&&(o=i)),"",P=0,q=A=1,o}var u=/^\0+/g,d=/[\0\r\f]/g,p=/: */g,h=/zoo|gra/,f=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,y=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,E=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,q=1,A=1,P=0,T=1,I=[],M=[],N=0,R=null,O=0;return c.use=function e(t){switch(t){case void 0:case null:N=M.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:M[N++]=t;break;case Boolean:O=0|!!t}}return e},c.set=l,void 0!==e&&l(e),c}var uu={exports:{}};uu.exports=function(e){var t="/*|*/",n=t+"}";function r(t){if(t)try{e(t+"}")}catch(n){}}return function(i,o,a,s,l,c,u,d,p,h){switch(i){case 1:if(0===p&&64===o.charCodeAt(0))return e(o+";"),"";break;case 2:if(0===d)return o+t;break;case 3:switch(d){case 102:case 112:return e(a[0]+o),"";default:return o+(0===h?t:"")}case-2:o.split(n).forEach(r)}}};var du=uu.exports,pu=/[A-Z]|^ms/g,hu=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return e.replace(pu,"-$&").toLowerCase()})),fu=function(e,t){return null==t||"boolean"==typeof t?"":1===lu[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},mu=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var s=void 0;switch(o(a)){case"boolean":break;case"function":s=e([a()]);break;case"object":if(Array.isArray(a))s=e(a);else for(var l in s="",a)a[l]&&l&&(s&&(s+=" "),s+=l);break;default:s=a}s&&(i&&(i+=" "),i+=s)}}return i},gu="undefined"!=typeof document;function vu(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var bu=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=vu(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else{var r=vu(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(vu(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();var yu=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,i=t.key||"css",a=du((function(e){n+=e,gu&&l.insert(e,u)}));void 0!==t.prefix&&(r={prefix:t.prefix});var s={registered:{},inserted:{},nonce:t.nonce,key:i},l=new bu(t);gu&&l.inject();var c=new cu(r);c.use(t.stylisPlugins)(a);var u="";function d(e,t){if(null==e)return"";switch(o(e)){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return d.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return m.call(this,e);default:var r=s.registered[e];return!1===t&&void 0!==r?r:e}}var p,h,f=new WeakMap;function m(e){if(f.has(e))return f.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=d.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!==o(e[n])?void 0!==s.registered[e[n]]?t+=n+"{"+s.registered[e[n]]+"}":t+=hu(n)+":"+fu(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===s.registered[e[n][0]]?e[n].forEach((function(e){t+=hu(n)+":"+fu(n,e)+";"})):t+=n+"{"+d.call(this,e[n],!1)+"}"}),this),f.set(e,t),t}var g=/label:\s*([^\s;\n{]+)\s*;/g,v=function(e,t){return function(e){for(var t,n=e.length,r=n^n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)}(e+t)+t},b=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=d.call(this,e,!1)):n+=e[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach((function(r,i){n+=d.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[i+1]&&(n+=e[i+1])}),this),h=n,n=n.replace(g,(function(e,t){return r+="-"+t,""})),p=v(n,r),n};function y(e,t){void 0===s.inserted[p]&&(n="",c(e,t),s.inserted[p]=n)}var k=function(){var e=b.apply(this,arguments),t=i+"-"+p;return void 0===s.registered[t]&&(s.registered[t]=h),y("."+t,e),t};function w(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==s.registered[t]?e.push(t):n+=t+" "})),n}function x(e,t){var n=[],r=w(n,e);return n.length<2?e:r+k(n,t)}function E(e){s.inserted[e]=!0}if(gu){var C=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(C,(function(e){l.tags[0].parentNode.insertBefore(e,l.tags[0]),e.getAttribute("data-emotion-"+i).split(" ").forEach(E)}))}var S={flush:function(){gu&&(l.flush(),l.inject()),s.inserted={},s.registered={}},hydrate:function(e){e.forEach(E)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x(mu(t))},merge:x,getRegisteredStyles:w,injectGlobal:function(){var e=b.apply(this,arguments);y("",e)},keyframes:function(){var e=b.apply(this,arguments),t="animation-"+p;return y("","@keyframes "+t+"{"+e+"}"),t},css:k,sheet:l,caches:s};return e.__SECRET_EMOTION__=S,S}("undefined"!=typeof global?global:{});yu.flush,yu.hydrate,yu.cx,yu.merge,yu.getRegisteredStyles;var ku=yu.injectGlobal;yu.keyframes;var wu=yu.css;yu.sheet,yu.caches;var xu={exports:{}},Eu={exports:{}};(function(){var e,t,n,r,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?Eu.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(Eu.exports=function(){return(e()-i)/1e6},t=process.hrtime,r=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),o=1e9*process.uptime(),i=r-o):Date.now?(Eu.exports=function(){return Date.now()-n},n=Date.now()):(Eu.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(L);for(var Cu=Eu.exports,Su="undefined"==typeof window?L:window,_u=["moz","webkit"],qu="AnimationFrame",Au=Su["request"+qu],Pu=Su["cancel"+qu]||Su["cancelRequest"+qu],Tu=0;!Au&&Tu<_u.length;Tu++)Au=Su[_u[Tu]+"Request"+qu],Pu=Su[_u[Tu]+"Cancel"+qu]||Su[_u[Tu]+"CancelRequest"+qu];if(!Au||!Pu){var Iu=0,Mu=0,Nu=[];Au=function(e){if(0===Nu.length){var t=Cu(),n=Math.max(0,16.666666666666668-(t-Iu));Iu=n+t,setTimeout((function(){var e=Nu.slice(0);Nu.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(Iu)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return Nu.push({handle:++Mu,callback:e,cancelled:!1}),Mu},Pu=function(e){for(var t=0;t<Nu.length;t++)Nu[t].handle===e&&(Nu[t].cancelled=!0)}}xu.exports=function(e){return Au.call(Su,e)},xu.exports.cancel=function(){Pu.apply(Su,arguments)},xu.exports.polyfill=function(e){e||(e=Su),e.requestAnimationFrame=Au,e.cancelAnimationFrame=Pu};var Ru=xu.exports,Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});var Lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Du=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fu=p.exports,Hu=ju(Fu),Uu=ju(D.exports);function ju(e){return e&&e.__esModule?e:{default:e}}var Bu={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},zu=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Vu=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},Wu=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),Gu=function(){return Wu?"_"+Math.random().toString(36).substr(2,12):void 0},Ku=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||Gu()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Du(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||Gu()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(Vu(e,this.sizer),this.placeHolderSizer&&Vu(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return Wu&&e?Hu.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=Lu({},this.props.style);t.display||(t.display="inline-block");var n=Lu({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){zu.forEach((function(t){return delete e[t]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,Hu.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),Hu.default.createElement("input",Lu({},r,{ref:this.inputRef})),Hu.default.createElement("div",{ref:this.sizerRef,style:Bu},e),this.props.placeholder?Hu.default.createElement("div",{ref:this.placeHolderSizerRef,style:Bu},this.props.placeholder):null)}}]),t}(Fu.Component);Ku.propTypes={className:Uu.default.string,defaultValue:Uu.default.any,extraWidth:Uu.default.oneOfType([Uu.default.number,Uu.default.string]),id:Uu.default.string,injectStyles:Uu.default.bool,inputClassName:Uu.default.string,inputRef:Uu.default.func,inputStyle:Uu.default.object,minWidth:Uu.default.oneOfType([Uu.default.number,Uu.default.string]),onAutosize:Uu.default.func,onChange:Uu.default.func,placeholder:Uu.default.string,placeholderIsMinWidth:Uu.default.bool,style:Uu.default.object,value:Uu.default.any},Ku.defaultProps={minWidth:1,injectStyles:!0};var Yu=Ou.default=Ku,Xu={exports:{}},Qu={exports:{}},Ju={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(Ju);var Zu={exports:{}};function $u(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}!function(e,t){t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default}(Zu,Zu.exports),function(e,t){var n=Ju.exports;t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=n(Zu.exports);e.exports=t.default}(Qu,Qu.exports);var ed=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=$u(e.className,t):e.setAttribute("class",$u(e.className&&e.className.baseVal||"",t))},td={};function nd(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function rd(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function id(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}nd.__suppressDeprecationWarning=!0,rd.__suppressDeprecationWarning=!0,id.__suppressDeprecationWarning=!0;var od=Object.freeze(Object.defineProperty({__proto__:null,polyfill:function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=nd,t.componentWillReceiveProps=rd),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=id;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}},Symbol.toStringTag,{value:"Module"})),ad=F(od);td.__esModule=!0,td.default=td.EXITING=td.ENTERED=td.ENTERING=td.EXITED=td.UNMOUNTED=void 0;var sd=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(D.exports),ld=dd(p.exports),cd=dd(H.exports),ud=ad;function dd(e){return e&&e.__esModule?e:{default:e}}var pd="unmounted";td.UNMOUNTED=pd;var hd="exited";td.EXITED=hd;var fd="entering";td.ENTERING=fd;var md="entered";td.ENTERED=md;var gd="exiting";td.EXITING=gd;var vd=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=hd,r.appearStatus=fd):i=md:i=t.unmountOnExit||t.mountOnEnter?pd:hd,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pd?{status:hd}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==fd&&n!==md&&(t=fd):n!==fd&&n!==md||(t=gd)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=cd.default.findDOMNode(this);t===fd?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===hd&&this.setState({status:pd})},i.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:fd},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:md},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:md},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:gd},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:hd},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:hd},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===pd)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=ld.default.Children.only(n);return ld.default.cloneElement(i,r)},r}(ld.default.Component);function bd(){}vd.contextTypes={transitionGroup:sd.object},vd.childContextTypes={transitionGroup:function(){}},vd.propTypes={},vd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bd,onEntering:bd,onEntered:bd,onExit:bd,onExiting:bd,onExited:bd},vd.UNMOUNTED=0,vd.EXITED=1,vd.ENTERING=2,vd.ENTERED=3,vd.EXITING=4;var yd=(0,ud.polyfill)(vd);td.default=yd,function(e,t){t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(D.exports);var n=a(Qu.exports),r=a(ed),i=a(p.exports),o=a(td);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),l(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(e,r),i&&c(e,i),o&&c(e,o)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=s({},this.props);return delete e.classNames,i.default.createElement(o.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(i.default.Component);u.defaultProps={classNames:""},u.propTypes={};var d=u;t.default=d,e.exports=t.default}(Xu,Xu.exports);var kd={exports:{}},wd={exports:{}},xd={__esModule:!0};xd.getChildMapping=Cd,xd.mergeChildMappings=Sd,xd.getInitialChildMapping=function(e,t){return Cd(e.children,(function(n){return(0,Ed.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:_d(n,"appear",e),enter:_d(n,"enter",e),exit:_d(n,"exit",e)})}))},xd.getNextChildMapping=function(e,t,n){var r=Cd(e.children),i=Sd(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,Ed.isValidElement)(a)){var s=o in t,l=o in r,c=t[o],u=(0,Ed.isValidElement)(c)&&!c.props.in;!l||s&&!u?l||!s||u?l&&s&&(0,Ed.isValidElement)(c)&&(i[o]=(0,Ed.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:_d(a,"exit",e),enter:_d(a,"enter",e)})):i[o]=(0,Ed.cloneElement)(a,{in:!1}):i[o]=(0,Ed.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:_d(a,"exit",e),enter:_d(a,"enter",e)})}})),i};var Ed=p.exports;function Cd(e,t){var n=Object.create(null);return e&&Ed.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,Ed.isValidElement)(e)?t(e):e}(e)})),n}function Sd(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function _d(e,t,n){return null!=n[t]?n[t]:e.props[t]}!function(e,t){t.__esModule=!0,t.default=void 0;var n=a(D.exports),r=a(p.exports),i=ad,o=xd;function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},a.componentDidMount=function(){this.appeared=!0,this.mounted=!0},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},a.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=c(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?o:r.default.createElement(t,i,o)},i}(r.default.Component);u.childContextTypes={transitionGroup:n.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,i.polyfill)(u);t.default=d,e.exports=t.default}(wd,wd.exports),function(e,t){t.__esModule=!0,t.default=void 0,o(D.exports);var n=o(p.exports),r=H.exports,i=o(wd.exports);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t,o;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}o=e,(t=a).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var s=a.prototype;return s.handleLifecycle=function(e,t,i){var o,a=this.props.children,s=n.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,i),this.props[e]&&this.props[e]((0,r.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,r=e.in,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=n.default.Children.toArray(t),s=a[0],l=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,n.default.createElement(i.default,o,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(n.default.Component);a.propTypes={};var s=a;t.default=s,e.exports=t.default}(kd,kd.exports);var qd=Td(Xu.exports),Ad=Td(kd.exports),Pd=Td(wd.exports);function Td(e){return e&&e.__esModule?e:{default:e}}var Id={Transition:Td(td).default,TransitionGroup:Pd.default,ReplaceTransition:Ad.default,CSSTransition:qd.default};function Md(e){return(Md="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function Nd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Od(e,t,n){return t&&Rd(e.prototype,t),n&&Rd(e,n),e}function Ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dd(){return(Dd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ld(e,t,n[t])}))}return e}function Hd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jd(e,t)}function Ud(e){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jd(e,t){return(jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?zd(e):t}function Wd(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Gd=function(){};function Kd(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Yd(e,t,n,r){var i=[t,r];if(n&&e)for(var o in n)n.hasOwnProperty(o)&&n[o]&&i.push("".concat(Kd(e,o)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Xd=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===Md(e)&&null!==e?[e]:[]};function Qd(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Jd(e){return Qd(e)?window.pageYOffset:e.scrollTop}function Zd(e,t){Qd(e)?window.scrollTo(0,t):e.scrollTop=t}function $d(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function ep(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gd,i=Jd(e),o=t-i,a=10,s=0;function l(){var t=$d(s+=a,i,o,n);Zd(e,t),s<n?Ru(l):r(e)}l()}function tp(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function np(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,h=d.height,f=d.top,m=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,v=Jd(l),b=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),k=m-y,w=g-f,x=k+v,E=u-v-f,C=p-g+v+b,S=v+f-y,_=160;switch(i){case"auto":case"bottom":if(w>=h)return{placement:"bottom",maxHeight:t};if(E>=h&&!a)return o&&ep(l,C,_),{placement:"bottom",maxHeight:t};if(!a&&E>=r||a&&w>=r)return o&&ep(l,C,_),{placement:"bottom",maxHeight:a?w-b:E-b};if("auto"===i||a){var q=t,A=a?k:x;return A>=r&&(q=Math.min(A-b-s.controlHeight,t)),{placement:"top",maxHeight:q}}if("bottom"===i)return Zd(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(k>=h)return{placement:"top",maxHeight:t};if(x>=h&&!a)return o&&ep(l,S,_),{placement:"top",maxHeight:t};if(!a&&x>=r||a&&k>=r){var P=t;return(!a&&x>=r||a&&k>=r)&&(P=a?k-y:x-y),o&&ep(l,S,_),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var rp=function(e){return"auto"===e?"bottom":e},ip=function(e){function t(){var e,n;Nd(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(n=Vd(this,(e=Ud(t)).call.apply(e,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),Ld(zd(zd(n)),"getPlacement",(function(e){var t=n.props,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=n.context.getPortalPlacement;if(e){var u="fixed"===a,d=np({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:s&&!u,isFixedPosition:u,theme:l});c&&c(d),n.setState(d)}})),Ld(zd(zd(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||rp(e);return Fd({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return Hd(t,e),Od(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(p.exports.Component);Ld(ip,"contextTypes",{getPortalPlacement:q.func});var op=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},ap=op,sp=op,lp=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return f("div",C(C({className:r(wu(i("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},o),{},{children:t}))};lp.defaultProps={children:"No options"};var cp=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return f("div",C(C({className:r(wu(i("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},o),{},{children:t}))};cp.defaultProps={children:"Loading..."};var up=function(e){function t(){var e,n;Nd(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(n=Vd(this,(e=Ud(t)).call.apply(e,[this].concat(i))))),"state",{placement:null}),Ld(zd(zd(n)),"getPortalPlacement",(function(e){var t=e.placement;t!==rp(n.props.menuPlacement)&&n.setState({placement:t})})),n}return Hd(t,e),Od(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,i=e.menuPlacement,o=e.menuPosition,a=e.getStyles,s="fixed"===o;if(!t&&!s||!r)return null;var l=this.state.placement||rp(i),c=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),u=s?0:window.pageYOffset,d=c[l]+u,p=f("div",{className:wu(a("menuPortal",{offset:d,position:o,rect:c})),children:n});return t?H.exports.createPortal(p,t):p}}]),t}(p.exports.Component);Ld(up,"childContextTypes",{getPortalPlacement:q.func});var dp=Array.isArray,pp=Object.keys,hp=Object.prototype.hasOwnProperty;function fp(e,t){if(e===t)return!0;if(e&&t&&"object"==Md(e)&&"object"==Md(t)){var n,r,i,o=dp(e),a=dp(t);if(o&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!fp(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var s=e instanceof Date,l=t instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,u=t instanceof RegExp;if(c!=u)return!1;if(c&&u)return e.toString()==t.toString();var d=pp(e);if((r=d.length)!==pp(t).length)return!1;for(n=r;0!=n--;)if(!hp.call(t,d[n]))return!1;for(n=r;0!=n--;)if(!("_owner"===(i=d[n])&&e.$$typeof||fp(e[i],t[i])))return!1;return!0}return e!=e&&t!=t}function mp(e,t){try{return fp(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}var gp=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],vp=function(e){for(var t=0;t<gp.length;t++)e=e.replace(gp[t].letters,gp[t].base);return e},bp=function(e){return e.replace(/^\s+|\s+$/g,"")},yp=function(e){return"".concat(e.label," ").concat(e.value)},kp=function(e){return f("span",C({className:wu({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},wp=function(e){function t(){return Nd(this,t),Vd(this,Ud(t).apply(this,arguments))}return Hd(t,e),Od(t,[{key:"render",value:function(){var e=this.props;e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=Bd(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return f("input",C(C({ref:t},n),{},{className:wu({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(p.exports.Component),xp=function(e){function t(){return Nd(this,t),Vd(this,Ud(t).apply(this,arguments))}return Hd(t,e),Od(t,[{key:"componentDidMount",value:function(){this.props.innerRef(H.exports.findDOMNode(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(p.exports.Component),Ep=["boxSizing","height","overflow","paddingRight","position"],Cp={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Sp(e){e.preventDefault()}function _p(e){e.stopPropagation()}function qp(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Ap(){return"ontouchstart"in window||navigator.maxTouchPoints}var Pp=!("undefined"==typeof window||!window.document||!window.document.createElement),Tp=0,Ip=function(e){function t(){var e,n;Nd(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(n=Vd(this,(e=Ud(t)).call.apply(e,[this].concat(i))))),"originalStyles",{}),Ld(zd(zd(n)),"listenerOptions",{capture:!1,passive:!1}),n}return Hd(t,e),Od(t,[{key:"componentDidMount",value:function(){var e=this;if(Pp){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&Ep.forEach((function(t){var n=o&&o[t];e.originalStyles[t]=n})),n&&Tp<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,l=window.innerWidth-s+a||0;Object.keys(Cp).forEach((function(e){var t=Cp[e];o&&(o[e]=t)})),o&&(o.paddingRight="".concat(l,"px"))}i&&Ap()&&(i.addEventListener("touchmove",Sp,this.listenerOptions),r&&(r.addEventListener("touchstart",qp,this.listenerOptions),r.addEventListener("touchmove",_p,this.listenerOptions))),Tp+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(Pp){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;Tp=Math.max(Tp-1,0),n&&Tp<1&&Ep.forEach((function(t){var n=e.originalStyles[t];o&&(o[t]=n)})),i&&Ap()&&(i.removeEventListener("touchmove",Sp,this.listenerOptions),r&&(r.removeEventListener("touchstart",qp,this.listenerOptions),r.removeEventListener("touchmove",_p,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(p.exports.Component);Ld(Ip,"defaultProps",{accountForScrollbars:!0});var Mp=function(e){function t(){var e,n;Nd(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(n=Vd(this,(e=Ud(t)).call.apply(e,[this].concat(i))))),"state",{touchScrollTarget:null}),Ld(zd(zd(n)),"getScrollTarget",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),Ld(zd(zd(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return Hd(t,e),Od(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?y("div",{children:[f("div",{onClick:this.blurSelectInput,className:wu({position:"fixed",left:0,bottom:0,right:0,top:0})}),f(xp,{innerRef:this.getScrollTarget,children:t}),r?f(Ip,{touchScrollTarget:r}):null]}):t}}]),t}(p.exports.PureComponent),Np=function(e){function t(){var e,n;Nd(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(n=Vd(this,(e=Ud(t)).call.apply(e,[this].concat(i))))),"isBottom",!1),Ld(zd(zd(n)),"isTop",!1),Ld(zd(zd(n)),"scrollTarget",void 0),Ld(zd(zd(n)),"touchStart",void 0),Ld(zd(zd(n)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),Ld(zd(zd(n)),"handleEventDelta",(function(e,t){var r=n.props,i=r.onBottomArrive,o=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,l=n.scrollTarget,c=l.scrollTop,u=l.scrollHeight,d=l.clientHeight,p=n.scrollTarget,h=t>0,f=u-d-c,m=!1;f>t&&n.isBottom&&(o&&o(e),n.isBottom=!1),h&&n.isTop&&(s&&s(e),n.isTop=!1),h&&t>f?(i&&!n.isBottom&&i(e),p.scrollTop=u,m=!0,n.isBottom=!0):!h&&-t>c&&(a&&!n.isTop&&a(e),p.scrollTop=0,m=!0,n.isTop=!0),m&&n.cancelScroll(e)})),Ld(zd(zd(n)),"onWheel",(function(e){n.handleEventDelta(e,e.deltaY)})),Ld(zd(zd(n)),"onTouchStart",(function(e){n.touchStart=e.changedTouches[0].clientY})),Ld(zd(zd(n)),"onTouchMove",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),Ld(zd(zd(n)),"getScrollTarget",(function(e){n.scrollTarget=e})),n}return Hd(t,e),Od(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return f(xp,{innerRef:this.getScrollTarget,children:this.props.children})}}]),t}(p.exports.Component),Rp=function(e){function t(){return Nd(this,t),Vd(this,Ud(t).apply(this,arguments))}return Hd(t,e),Od(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=Bd(e,["isEnabled"]);return t?f(Np,C({},n)):this.props.children}}]),t}(p.exports.Component);Ld(Rp,"defaultProps",{isEnabled:!0});var Op=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,i=t.label,o=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},Lp=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},Dp=function(e){return!!e.isDisabled},Fp=function(e){function t(){return Nd(this,t),Vd(this,Ud(t).apply(this,arguments))}return Hd(t,e),Od(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,i=e.isMulti,o=e.getStyles,a=e.hasValue;return f("div",{className:r(wu(o("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a},n),children:t})}}]),t}(p.exports.Component),Hp=function(e){var t=e.size,n=Bd(e,["size"]);return f("svg",C({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:wu({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},Up=function(e){return f(Hp,C(C({size:20},e),{},{children:f("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"})}))},jp=function(e){return f(Hp,C(C({size:20},e),{},{children:f("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"})}))},Bp=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},zp=Bp,Vp=Bp,Wp="react-select-loading-indicator",Gp=!1,Kp=function(e){var t=e.color,n=e.delay,r=e.offset;return f("span",{className:wu({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:Wp,animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Yp=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,o=e.isFocused,a=e.isRtl,s=e.theme.colors,l=o?s.neutral80:s.neutral20;return Gp||(ku("@keyframes ",Wp,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Gp=!0),y("div",C(C({},i),{},{className:n(wu(r("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t),children:[f(Kp,{color:l,delay:0,offset:a}),f(Kp,{color:l,delay:160,offset:!0}),f(Kp,{color:l,delay:320,offset:!a})]}))};Yp.defaultProps={size:4};var Xp=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},Qp=function(e){var t=e.children,n=e.innerProps;return f("div",C(C({},n),{},{children:t}))},Jp=Qp,Zp=Qp,$p=function(e){function t(){return Nd(this,t),Vd(this,Ud(t).apply(this,arguments))}return Hd(t,e),Od(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return f("div",C(C({},n),{},{children:t||f(Up,{size:14})}))}}]),t}(p.exports.Component),eh=function(e){function t(){return Nd(this,t),Vd(this,Ud(t).apply(this,arguments))}return Hd(t,e),Od(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.removeProps,u=e.selectProps,d=r.Container,p=r.Label,h=r.Remove,m=Fd({className:i(wu(a("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":l},n)},s),g={className:i(wu(a("multiValueLabel",this.props)),{"multi-value__label":!0},n)},v=Fd({className:i(wu(a("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},c);return y(d,{data:o,innerProps:m,selectProps:u,children:[f(p,{data:o,innerProps:g,selectProps:u,children:t}),f(h,{data:o,innerProps:v,selectProps:u})]})}}]),t}(p.exports.Component);Ld(eh,"defaultProps",{cropWithEllipsis:!0});var th,nh={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return f("div",C(C({},o),{},{className:r(wu(i("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},n),children:t||f(Up,{})}))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return f("div",C(C({ref:s,className:n(wu(r("control",e)),{control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":c},i)},l),{},{children:t}))},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return f("div",C(C({},o),{},{className:r(wu(i("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},n),children:t||f(jp,{})}))},DownChevron:jp,CrossIcon:Up,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.label,l=e.theme,c=e.selectProps;return y("div",{className:r(wu(i("group",e)),{group:!0},n),children:[f(o,C(C({},a),{},{selectProps:c,theme:l,getStyles:i,cx:r,children:s})),f("div",{children:t})]})},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.theme;e.selectProps;var o=Bd(e,["className","cx","getStyles","theme","selectProps"]);return f("div",C({className:n(wu(r("groupHeading",Fd({theme:i},o))),{"group-heading":!0},t)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles;return f("div",{className:r(wu(i("indicatorsContainer",e)),{indicators:!0},n),children:t})},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return f("span",C(C({},i),{},{className:n(wu(r("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerRef,o=e.isHidden,a=e.isDisabled,s=e.theme;e.selectProps;var l=Bd(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return f("div",{className:wu(r("input",Fd({theme:s},l))),children:f(Yu,C({className:n(null,{input:!0},t),inputRef:i,inputStyle:Xp(o),disabled:a},l))})},LoadingIndicator:Yp,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps,s=r(wu(i("menu",e)),{menu:!0},n);return f("div",C(C({className:s},a),{},{ref:o,children:t}))},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isMulti,a=e.innerRef;return f("div",{className:r(wu(i("menuList",e)),{"menu-list":!0,"menu-list--is-multi":o},n),ref:a,children:t})},MenuPortal:up,LoadingMessage:cp,NoOptionsMessage:lp,MultiValue:eh,MultiValueContainer:Jp,MultiValueLabel:Zp,MultiValueRemove:$p,Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return f("div",C(C({ref:l,className:r(wu(i("option",e)),{option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},n)},c),{},{children:t}))},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return f("div",C(C({className:r(wu(i("placeholder",e)),{placeholder:!0},n)},o),{},{children:t}))},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return f("div",C(C({className:r(wu(i("container",e)),{"--is-disabled":a,"--is-rtl":s},n)},o),{},{children:t}))},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return f("div",C(C({className:r(wu(i("singleValue",e)),{"single-value":!0,"single-value--is-disabled":o},n)},a),{},{children:t}))},ValueContainer:Fp},rh=function(e){return Fd({},nh,e.components)},ih={clearIndicator:Vp,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:zp,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:sp,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return Ld(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Ld(t,"backgroundColor",a.neutral0),Ld(t,"borderRadius",i),Ld(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Ld(t,"marginBottom",o.menuGutter),Ld(t,"marginTop",o.menuGutter),Ld(t,"position","absolute"),Ld(t,"width","100%"),Ld(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:ap,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},oh={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},ah={backspaceRemovesValue:!0,blurInputOnSelect:tp(),captureMenuScroll:!tp(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=Fd({ignoreCase:!0,ignoreAccents:!0,stringify:yp,trim:!0,matchFrom:"any"},th),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,l=a?bp(t):t,c=a?bp(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=vp(l),c=vp(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Dp,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},sh=1,lh=function(e){function t(e){var n;Nd(this,t),Ld(zd(zd(n=Vd(this,Ud(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),Ld(zd(zd(n)),"blockOptionHover",!1),Ld(zd(zd(n)),"isComposing",!1),Ld(zd(zd(n)),"clearFocusValueOnUpdate",!1),Ld(zd(zd(n)),"commonProps",void 0),Ld(zd(zd(n)),"components",void 0),Ld(zd(zd(n)),"hasGroups",!1),Ld(zd(zd(n)),"initialTouchX",0),Ld(zd(zd(n)),"initialTouchY",0),Ld(zd(zd(n)),"inputIsHiddenAfterUpdate",void 0),Ld(zd(zd(n)),"instancePrefix",""),Ld(zd(zd(n)),"openAfterFocus",!1),Ld(zd(zd(n)),"scrollToFocusedOptionOnUpdate",!1),Ld(zd(zd(n)),"userIsDragging",void 0),Ld(zd(zd(n)),"controlRef",null),Ld(zd(zd(n)),"getControlRef",(function(e){n.controlRef=e})),Ld(zd(zd(n)),"focusedOptionRef",null),Ld(zd(zd(n)),"getFocusedOptionRef",(function(e){n.focusedOptionRef=e})),Ld(zd(zd(n)),"menuListRef",null),Ld(zd(zd(n)),"getMenuListRef",(function(e){n.menuListRef=e})),Ld(zd(zd(n)),"inputRef",null),Ld(zd(zd(n)),"getInputRef",(function(e){n.inputRef=e})),Ld(zd(zd(n)),"cacheComponents",(function(e){n.components=rh({components:e})})),Ld(zd(zd(n)),"focus",n.focusInput),Ld(zd(zd(n)),"blur",n.blurInput),Ld(zd(zd(n)),"onChange",(function(e,t){var r=n.props;(0,r.onChange)(e,Fd({},t,{name:r.name}))})),Ld(zd(zd(n)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=n.props,o=i.closeMenuOnSelect,a=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!a,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:r})})),Ld(zd(zd(n)),"selectOption",(function(e){var t=n.props,r=t.blurInputOnSelect,i=t.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(e,o)){var a=n.getOptionValue(e);n.setValue(o.filter((function(e){return n.getOptionValue(e)!==a})),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(Wd(o),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));r&&n.blurInput()})),Ld(zd(zd(n)),"removeValue",(function(e){var t=n.state.selectValue,r=n.getOptionValue(e);n.onChange(t.filter((function(e){return n.getOptionValue(e)!==r})),{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()})),Ld(zd(zd(n)),"clearValue",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})})),Ld(zd(zd(n)),"popValue",(function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),Ld(zd(zd(n)),"getOptionLabel",(function(e){return n.props.getOptionLabel(e)})),Ld(zd(zd(n)),"getOptionValue",(function(e){return n.props.getOptionValue(e)})),Ld(zd(zd(n)),"getStyles",(function(e,t){var r=ih[e](t);r.boxSizing="border-box";var i=n.props.styles[e];return i?i(r,t):r})),Ld(zd(zd(n)),"getElementId",(function(e){return"".concat(n.instancePrefix,"-").concat(e)})),Ld(zd(zd(n)),"getActiveDescendentId",(function(){var e=n.props.menuIsOpen,t=n.state,r=t.menuOptions,i=t.focusedOption;if(i&&e){var o=r.focusable.indexOf(i),a=r.render[o];return a&&a.key}})),Ld(zd(zd(n)),"announceAriaLiveSelection",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveSelection:Lp(t,r)})})),Ld(zd(zd(n)),"announceAriaLiveContext",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveContext:Op(t,Fd({},r,{label:n.props["aria-label"]}))})})),Ld(zd(zd(n)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),Ld(zd(zd(n)),"onMenuMouseMove",(function(e){n.blockOptionHover=!1})),Ld(zd(zd(n)),"onControlMouseDown",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),Ld(zd(zd(n)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,r=t.isMulti,i=t.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),Ld(zd(zd(n)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),Ld(zd(zd(n)),"onScroll",(function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Qd(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),Ld(zd(zd(n)),"onCompositionStart",(function(){n.isComposing=!0})),Ld(zd(zd(n)),"onCompositionEnd",(function(){n.isComposing=!1})),Ld(zd(zd(n)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),Ld(zd(zd(n)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var r=Math.abs(t.clientX-n.initialTouchX),i=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}})),Ld(zd(zd(n)),"onTouchEnd",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),Ld(zd(zd(n)),"onControlTouchEnd",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),Ld(zd(zd(n)),"onClearIndicatorTouchEnd",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),Ld(zd(zd(n)),"onDropdownIndicatorTouchEnd",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),Ld(zd(zd(n)),"handleInputChange",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()})),Ld(zd(zd(n)),"onInputFocus",(function(e){var t=n.props,r=t.isSearchable,i=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),Ld(zd(zd(n)),"onInputBlur",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),Ld(zd(zd(n)),"onOptionHover",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),Ld(zd(zd(n)),"shouldHideSelectedOptions",(function(){var e=n.props,t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t})),Ld(zd(zd(n)),"onKeyDown",(function(e){var t=n.props,r=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,p=t.openMenuOnFocus,h=n.state,f=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)n.removeValue(m);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!d||!f||p&&n.isOptionSelected(f,g))return;n.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(n.isComposing)return;n.selectOption(f);break}return;case"Escape":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!c){n.openMenu("first");break}if(!f)return;n.selectOption(f);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}}));var r=e.value;n.cacheComponents=wc(n.cacheComponents,mp).bind(zd(zd(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++sh);var i=Xd(r),o=n.buildMenuOptions(e,i);return n.state.menuOptions=o,n.state.selectValue=i,n}return Hd(t,e),Od(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,i=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==i){var o=Xd(e.value),a=this.buildMenuOptions(e,o),s=this.getNextFocusedValue(o),l=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:o,focusedOption:l,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o,a=this.props,s=a.isDisabled,l=a.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),o=n.offsetHeight/3,i.bottom+o>r.bottom?Zd(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):i.top-o<r.top&&Zd(t,Math.max(n.offsetTop-o,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,i=t.isFocused,o=this.props.isMulti,a="first"===e?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,i=this.state,o=i.selectValue,a=i.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var l=o.length-1,c=-1;if(o.length){switch(e){case"previous":c=0===s?0:-1===s?l:s-1;break;case"next":s>-1&&s<l&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var a=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?a=s>0?s-1:o.length-1:"down"===e?a=(s+1)%o.length:"pageup"===e?(a=s-t)<0&&(a=0):"pagedown"===e?(a=s+t)>o.length-1&&(a=o.length-1):"last"===e&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Dp(o[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(oh):Fd({},oh,this.props.theme):oh}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,a=i.isMulti,s=i.isRtl,l=i.options,c=this.state.selectValue,u=this.hasValue();return{cx:Yd.bind(null,o),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:u,isMulti:a,isRtl:s,options:l,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,i=void 0===r?"":r,o=e.options,a=function(e,r){var o=n.isOptionDisabled(e,t),a=n.isOptionSelected(e,t),s=n.getOptionLabel(e),l=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:l,data:e},i))){var c=o?void 0:function(){return n.onOptionHover(e)},u=o?void 0:function(){return n.selectOption(e)},d="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:d,onClick:u,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:o,isSelected:a,key:d,label:s,type:"option",value:l}}};return o.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var i=t.options.map((function(t,n){var i=a(t,"".concat(r,"-").concat(n));return i&&e.focusable.push(t),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);e.render.push({type:"group",key:o,data:t,options:i})}}else{var s=a(t,"".concat(r));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,i=e.focusedOption,o=this.props,a=o.options,s=o.menuIsOpen,l=o.inputValue,c=o.screenReaderStatus,u=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",d=i&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:a}):"",p=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(u," ").concat(d," ").concat(p," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,a=this.components.Input,s=this.state.inputIsHidden,l=r||this.getElementId("input");if(!n)return f(wp,{id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Gd,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:o,value:""});var c={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},u=this.commonProps,d=u.cx,p=u.theme,h=u.selectProps;return f(a,C({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:d,getStyles:this.getStyles,id:l,innerRef:this.getInputRef,isDisabled:t,isHidden:s,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:h,spellCheck:"false",tabIndex:o,theme:p,type:"text",value:i},c))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,l=this.commonProps,c=this.props,u=c.controlShouldRenderValue,d=c.isDisabled,h=c.isMulti,m=c.inputValue,g=c.placeholder,v=this.state,b=v.selectValue,y=v.focusedValue,k=v.isFocused;if(!this.hasValue()||!u)return m?null:p.exports.createElement(s,C(C({},l),{},{key:"placeholder",isDisabled:d,isFocused:k}),g);if(h)return b.map((function(t){var a=t===y;return p.exports.createElement(n,C(C({},l),{},{components:{Container:r,Label:i,Remove:o},isFocused:a,isDisabled:d,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(m)return null;var w=b[0];return f(a,C(C({},l),{},{data:w,isDisabled:d,children:this.formatOptionLabel(w,"value")}))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f(e,C(C({},t),{},{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!e||!i)return null;return f(e,C(C({},t),{},{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return f(n,C(C({},r),{},{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f(e,C(C({},t),{},{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,u=this.commonProps,d=this.state,p=d.focusedOption,h=d.menuOptions,m=this.props,g=m.captureMenuScroll,v=m.inputValue,b=m.isLoading,y=m.loadingMessage,k=m.minMenuHeight,w=m.maxMenuHeight,x=m.menuIsOpen,E=m.menuPlacement,S=m.menuPosition,_=m.menuPortalTarget,q=m.menuShouldBlockScroll,A=m.menuShouldScrollIntoView,P=m.noOptionsMessage,T=m.onMenuScrollToTop,I=m.onMenuScrollToBottom;if(!x)return null;var M,N=function(t){var n=p===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,f(c,C(C(C({},u),t),{},{isFocused:n,children:e.formatOptionLabel(t.data,"menu")}))};if(this.hasOptions())M=h.render.map((function(t){if("group"===t.type){t.type;var i=Bd(t,["type"]),o="".concat(t.key,"-heading");return f(n,C(C(C({},u),i),{},{Heading:r,headingProps:{id:o},label:e.formatGroupLabel(t.data),children:t.options.map((function(e){return N(e)}))}))}if("option"===t.type)return N(t)}));else if(b){var R=y({inputValue:v});if(null===R)return null;M=f(s,C(C({},u),{},{children:R}))}else{var O=P({inputValue:v});if(null===O)return null;M=f(l,C(C({},u),{},{children:O}))}var L={minMenuHeight:k,maxMenuHeight:w,menuPlacement:E,menuPosition:S,menuShouldScrollIntoView:A},D=f(ip,C(C(C({},u),L),{},{children:function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return f(i,C(C(C({},u),L),{},{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:b,placement:a,children:f(Rp,{isEnabled:g,onTopArrive:T,onBottomArrive:I,children:f(Mp,{isEnabled:q,children:f(o,C(C({},u),{},{innerRef:e.getMenuListRef,isLoading:b,maxHeight:s,children:M}))})})}))}}));return _||"fixed"===S?f(a,C(C({},u),{},{appendTo:_,controlElement:this.controlRef,menuPlacement:E,menuPosition:S,children:D})):D}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,a=this.state.selectValue;if(o&&!r){if(i){if(n){var s=a.map((function(t){return e.getOptionValue(t)})).join(n);return f("input",{name:o,type:"hidden",value:s})}var l=a.length>0?a.map((function(t,n){return f("input",{name:o,type:"hidden",value:e.getOptionValue(t)},"i-".concat(n))})):f("input",{name:o,type:"hidden"});return f("div",{children:l})}var c=a[0]?this.getOptionValue(a[0]):"";return f("input",{name:o,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?y(kp,{"aria-live":"assertive",children:[y("p",{id:"aria-selection-event",children:[" ",this.state.ariaLiveSelection]}),y("p",{id:"aria-context",children:[" ",this.constructAriaLiveMessage()]})]}):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,a=o.className,s=o.id,l=o.isDisabled,c=o.menuIsOpen,u=this.state.isFocused,d=this.commonProps=this.getCommonProps();return y(r,C(C({},d),{},{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:u,children:[this.renderLiveRegion(),y(t,C(C({},d),{},{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:u,menuIsOpen:c,children:[y(i,C(C({},d),{},{isDisabled:l,children:[this.renderPlaceholderOrValue(),this.renderInput()]})),y(n,C(C({},d),{},{isDisabled:l,children:[this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator()]}))]})),this.renderMenu(),this.renderFormField()]}))}}]),t}(p.exports.Component);Ld(lh,"defaultProps",ah);var ch={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},uh=function(e){var t,n;return n=t=function(t){function n(){var e,t;Nd(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(t=Vd(this,(e=Ud(n)).call.apply(e,[this].concat(i))))),"select",void 0),Ld(zd(zd(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),Ld(zd(zd(t)),"onChange",(function(e,n){t.callProp("onChange",e,n),t.setState({value:e})})),Ld(zd(zd(t)),"onInputChange",(function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})})),Ld(zd(zd(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),Ld(zd(zd(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return Hd(n,t),Od(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props;n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue;var r=Bd(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return f(e,C(C({},r),{},{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(p.exports.Component),Ld(t,"defaultProps",ch),n},dh={cacheOptions:!1,defaultOptions:!1,filterOption:null},ph=function(e){var t,n;return n=t=function(t){function n(e){var t;return Nd(this,n),Ld(zd(zd(t=Vd(this,Ud(n).call(this)))),"select",void 0),Ld(zd(zd(t)),"lastRequest",void 0),Ld(zd(zd(t)),"mounted",!1),Ld(zd(zd(t)),"optionsCache",{}),Ld(zd(zd(t)),"handleInputChange",(function(e,n){var r=t.props,i=r.cacheOptions,o=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,n,r.onInputChange);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(i&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var a=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&(e&&(t.optionsCache[o]=e),a===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return o})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return Hd(n,t),Od(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props;n.loadOptions;var r=Bd(n,["loadOptions"]),i=this.state,o=i.defaultOptions,a=i.inputValue,s=i.isLoading,l=i.loadedInputValue,c=i.loadedOptions,u=i.passEmptyOptions?[]:a&&l?c:o||[];return f(e,C(C({},r),{},{ref:function(e){t.select=e},options:u,isLoading:s,onInputChange:this.handleInputChange}))}}]),n}(p.exports.Component),Ld(t,"defaultProps",dh),n};ph(uh(lh));var hh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),i=String(t.label).toLowerCase();return r===n||i===n},fh=Fd({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return hh(e,t)}))||n.some((function(t){return hh(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),mh=function(e){var t,n;return n=t=function(t){function n(e){var t;Nd(this,n),Ld(zd(zd(t=Vd(this,Ud(n).call(this,e)))),"select",void 0),Ld(zd(zd(t)),"onChange",(function(e,n){var r=t.props,i=r.getNewOptionData,o=r.inputValue,a=r.isMulti,s=r.onChange,l=r.onCreateOption,c=r.value;if("select-option"!==n.action)return s(e,n);var u=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==u)s(e,n);else if(l)l(o);else{var p=i(o,o),h={action:"create-option"};s(a?[].concat(Wd(Xd(c)),[p]):p,h)}}));var r=e.options||[];return t.state={newOption:void 0,options:r},t}return Hd(n,t),Od(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,i=e.getNewOptionData,o=e.inputValue,a=e.isLoading,s=e.isValidNewOption,l=e.value,c=e.options||[],u=this.state.newOption;u=s(o,Xd(l),c)?i(o,r(o)):void 0,this.setState({newOption:u,options:!t&&a||!u?c:"first"===n?[u].concat(Wd(c)):[].concat(Wd(c),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=Dd({},this.props),r=this.state.options;return f(e,C(C({},n),{},{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(p.exports.Component),Ld(t,"defaultProps",fh),n};uh(mh(lh)),ph(uh(mh(lh)));var gh=function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=Bd(t,["in","onExited","appear","enter","exit"]);return f(e,C({},n))}},vh=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,i=e.in;e.onExited;var o=Bd(e,["component","duration","in","onExited"]),a={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return f(Id.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:i,timeout:r,children:function(e){var n={style:Fd({},a[e])};return f(t,C({innerProps:n},o))}})},bh=function(e){function t(){var e,n;Nd(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ld(zd(zd(n=Vd(this,(e=Ud(t)).call.apply(e,[this].concat(i))))),"duration",260),Ld(zd(zd(n)),"rafID",void 0),Ld(zd(zd(n)),"state",{width:"auto"}),Ld(zd(zd(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),Ld(zd(zd(n)),"getWidth",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),Ld(zd(zd(n)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),Ld(zd(zd(n)),"getTransition",(function(e){return n.transition[e]})),n}return Hd(t,e),Od(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.in,i=this.state.width;return f(Id.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration,children:function(t){var r=Fd({},e.getStyle(i),e.getTransition(t));return f("div",{ref:e.getWidth,style:r,children:n})}})}}]),t}(p.exports.Component),yh=function(e){return function(t){var n=t.in,r=t.onExited,i=Bd(t,["in","onExited"]);return f(bh,{in:n,onExited:r,children:f(e,C({cropWithEllipsis:n},i))})}},kh=function(e){return function(t){return f(vh,C({component:e,duration:t.isMulti?260:1},t))}},wh=function(e){return function(t){return f(vh,C({component:e},t))}},xh=function(e){return function(t){return f(Id.TransitionGroup,C({component:e},t))}},Eh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rh({components:e}),n=t.Input,r=t.MultiValue,i=t.Placeholder,o=t.SingleValue,a=t.ValueContainer,s=Bd(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return Fd({Input:gh(n),MultiValue:yh(r),Placeholder:kh(i),SingleValue:wh(o),ValueContainer:xh(a)},s)},Ch=Eh();Ch.Input,Ch.MultiValue,Ch.Placeholder,Ch.SingleValue,Ch.ValueContainer,wc(Eh,mp);var Sh=uh(lh),_h=function(e){d(r,e);var t=h(r);function r(){return l(this,r),t.apply(this,arguments)}return u(r,[{key:"render",value:function(){var e=this.props,t=e.saving,r=e.disabled,i=e.savingMessage,o=e.defaultMessage,s=e.btnClass,l=e.extraClasses,c=a(e,n),u="save-button btn";return r&&!t||(u+=" "+s),l&&(u+=" "+l),f("button",C(C({type:"submit","data-testid":"saveSetting",id:"saveSetting",className:u,disabled:r},c),{},{children:t?f(xs,{text:i}):o}))}}]),r}(b.PureComponent);S(_h,"defaultProps",{btnClass:"btn-primary",defaultMessage:f(E,{id:"save_button.save",defaultMessage:"Save"}),disabled:!1,extraClasses:"",savingMessage:f(E,{id:"save_button.saving",defaultMessage:"Saving"})});var qh="mqik-c2cc995f",Ah="mqik-d13c0f84",Ph="mqik-1dc5802d",Th="mqik-d484b42d",Ih="mqik-6f2202cd",Mh="mqik-c8174adb",Nh="mqik-d76f319d",Rh="mqik-4608ac90",Oh="mqik-81ce701b",Lh="mqik-138c5be9",Dh="mqik-f061ac60",Fh=Se.KeyCodes,Hh=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"toSelect",-1),S(m(r),"listRef",b.createRef()),S(m(r),"selectedItemRef",b.createRef()),S(m(r),"setSelected",(function(e){r.setState({selected:e})})),S(m(r),"handleArrowPress",(function(e){if(!ht(e)||!e.shiftKey){var t=r.props.options;if(0!==t.length){var n;switch(e.key){case Fh.DOWN[0]:if(-1===r.state.selected){n=0;break}n=Math.min(r.state.selected+1,t.length-1);break;case Fh.UP[0]:if(-1===r.state.selected){n=0;break}n=Math.max(r.state.selected-1,0);break;default:return}e.preventDefault(),r.setState({selected:n}),r.props.onSelect(t[n])}}})),S(m(r),"defaultOptionRenderer",(function(e,t,n,i){var o="";return t&&(o="more-modal__row--selected"),f("div",{ref:t?r.selectedItemRef:e.value,className:o,onClick:function(){return n(e)},onMouseEnter:function(){return i(e)},children:e.label},"multiselectoption"+e.value)})),S(m(r),"select",(function(e){var t=r.props.options.indexOf(e);-1!==t&&r.state.selected!==t&&r.setSelected(t)})),r.state={selected:-1},r}return u(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleArrowPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleArrowPress)}},{key:"componentDidUpdate",value:function(e,t){var n,r=this.props.options;if(r&&r.length>0&&this.state.selected>=0&&this.props.onSelect(r[this.state.selected]),t.selected!==this.state.selected){var i=this.selectedItemRef.current||(null===(n=this.props.selectedItemRef)||void 0===n?void 0:n.current);if(this.listRef.current&&i){var o=i.getBoundingClientRect().top,a=i.getBoundingClientRect().bottom,s=this.listRef.current.getBoundingClientRect().top;a>this.listRef.current.getBoundingClientRect().bottom?i.scrollIntoView(!1):o<s&&i.scrollIntoView(!0)}}}},{key:"render",value:function(){var e,t=this,n=this.props.options;if(this.props.loading)e=f("div",{"aria-hidden":!0,className:Oh,children:f(ue,{position:"relative"},"loading")});else if(null==n||0===n.length)e=f("div",{className:w(Oh,"no-channel-message"),children:f("p",{className:"primary-message",children:f(Zs,{id:"multiselect.list.notFound",defaultMessage:"No results found matching **{searchQuery}**",values:{searchQuery:this.props.query}})})},"no-users-found");else{var r;r=this.props.optionRenderer?this.props.optionRenderer:this.defaultOptionRenderer;var i=n.map((function(e,n){return r(e,t.state.selected===n,t.props.onAdd,t.select)})),o=n[this.state.selected],a=this.props.ariaLabelRenderer(o);e=y("div",{className:w(Mh,"more-modal__list"),children:[f("div",{className:w(Nh),"aria-live":"polite","aria-atomic":"true",children:a}),f("div",{ref:this.listRef,id:"multiSelectList",className:w(Rh,"more-modal__options"),role:"presentation","aria-hidden":!0,children:i})]})}return f("div",{className:w(Ih,"multi-select__wrapper"),"aria-live":"polite",children:e})}}]),n}(b.PureComponent);S(Hh,"defaultProps",{options:[],perPage:50,onAction:function(){return null}});var Uh=Se.KeyCodes,jh=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"listRef",b.createRef()),S(m(r),"reactSelectRef",b.createRef()),S(m(r),"selected",null),S(m(r),"handleA11yActivateEvent",(function(){r.setState({a11yActive:!0})})),S(m(r),"handleA11yDeactivateEvent",(function(){r.setState({a11yActive:!1})})),S(m(r),"nextPage",(function(){r.props.handlePageChange&&r.props.handlePageChange(r.state.page+1,r.state.page),r.listRef.current&&r.listRef.current.setSelected(0),r.setState({page:r.state.page+1})})),S(m(r),"prevPage",(function(){0!==r.state.page&&(r.props.handlePageChange&&r.props.handlePageChange(r.state.page-1,r.state.page),r.listRef.current&&r.listRef.current.setSelected(0),r.setState({page:r.state.page-1}))})),S(m(r),"resetPaging",(function(){r.setState({page:0})})),S(m(r),"onSelect",(function(e){r.selected=e})),S(m(r),"onAdd",(function(e){if(!(r.props.maxValues&&r.props.values.length>=r.props.maxValues)){for(var t=0;t<r.props.values.length;t++)if(r.props.values[t].id===e.id)return;r.props.handleAdd(e),r.selected=null,r.reactSelectRef.current&&(r.reactSelectRef.current.select.handleInputChange({currentTarget:{value:""}}),r.reactSelectRef.current.focus());var n=r.props.submitImmediatelyOn;n&&n(e)&&r.props.handleSubmit([e])}})),S(m(r),"onInput",(function(e,t){t&&"input-blur"!==t.action&&"menu-close"!==t.action&&r.state.input!==e&&(r.setState({input:e}),r.listRef.current&&(""===e?r.listRef.current.setSelected(-1):r.listRef.current.setSelected(0)),r.selected=null,r.props.handleInput(e,m(r)))})),S(m(r),"onInputKeyDown",(function(e){switch(e.key){case Uh.ENTER[0]:e.preventDefault()}})),S(m(r),"handleEnterPress",(function(e){switch(e.key){case Uh.ENTER[0]:if(null==r.selected)return void r.props.handleSubmit();r.onAdd(r.selected)}})),S(m(r),"handleOnClick",(function(e){e.preventDefault(),r.props.handleSubmit()})),S(m(r),"onChange",(function(e,t){if("remove-value"===t.action||"pop-value"===t.action){for(var n=i(r.props.values),o=0;o<n.length;o++)if(n[o].id===t.removedValue.id){n.splice(o,1);break}r.props.handleDelete(n)}})),S(m(r),"MultiValueRemove",(function(e){var t=e.children,n=e.innerProps;return f("div",C(C({},n),{},{children:t||f(_s,{className:Ph})}))})),S(m(r),"formatOptionLabel",(function(e){var t=Mt(e.id,e.last_picture_update);return y(b.Fragment,{children:[f(ss,{size:"sm",username:e.username,url:t}),f("div",{className:w(Th,"react-select__value__name"),children:Nt(e)})]})})),S(m(r),"valueRenderer",(function(e){return r.props.valueWithImage?f(nh.MultiValueLabel,C({},e)):r.props.valueRenderer})),r.state={a11yActive:!1,page:0,input:""},r}return u(n,[{key:"componentDidMount",value:function(){var e=this.reactSelectRef.current&&this.reactSelectRef.current.select.inputRef;document.addEventListener("keydown",this.handleEnterPress),e&&"function"==typeof e.addEventListener&&(e.addEventListener(It.ACTIVATE,this.handleA11yActivateEvent),e.addEventListener(It.DEACTIVATE,this.handleA11yDeactivateEvent),this.reactSelectRef.current.focus())}},{key:"componentWillUnmount",value:function(){var e=this.reactSelectRef.current&&this.reactSelectRef.current.select.inputRef;e&&"function"==typeof e.addEventListener&&(e.removeEventListener(It.ACTIVATE,this.handleA11yActivateEvent),e.removeEventListener(It.DEACTIVATE,this.handleA11yDeactivateEvent)),document.removeEventListener("keydown",this.handleEnterPress)}},{key:"render",value:function(){var e,t,n=Object.assign(i(this.props.options)),r=this.props,o=r.totalCount,a=r.users,s=r.values;this.props.numRemainingText?e=this.props.numRemainingText:null!=this.props.maxValues&&(e=f(E,{id:"multiselect.numRemaining",defaultMessage:"You can add {num, number} more. ",values:{num:this.props.maxValues-this.props.values.length}})),this.props.buttonSubmitText?t=this.props.buttonSubmitText:null!=this.props.maxValues&&(t=f(E,{id:"multiselect.go",defaultMessage:"Go"}));var l,c,u,d=[];this.props.noteText&&(u=y("div",{className:"multi-select__note",children:[f("div",{className:"note__icon",children:f(E,{id:"generic_icons.info",defaultMessage:"Info Icon",children:function(e){return f("span",{className:"fa fa-info",title:e})}})}),f("div",{children:this.props.noteText})]}));for(var p,h,m={},g=0;g<s.length;g++)m[s[g].id]=!0;for(var v=n.length-1;v>=0;v--)m[n[v].id]&&n.splice(v,1);if(n&&n.length>this.props.perPage){var k=this.state.page*this.props.perPage,x=k+this.props.perPage;d=n.slice(k,x),this.props.loading||(n.length>x&&(l=f("button",{className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,children:f(E,{id:"filtered_user_list.next",defaultMessage:"Next"})})),this.state.page>0&&(c=f("button",{className:"btn btn-link filter-control filter-control__prev",onClick:this.prevPage,children:f(E,{id:"filtered_user_list.prev",defaultMessage:"Previous"})})))}else d=n;return"bottom"===this.props.saveButtonPosition?this.state.input&&(p=f(Hh,{ref:this.listRef,options:d,optionRenderer:this.props.optionRenderer,ariaLabelRenderer:this.props.ariaLabelRenderer,page:this.state.page,perPage:this.props.perPage,onPageChange:this.props.handlePageChange,onAdd:this.onAdd,onSelect:this.onSelect,loading:this.props.loading,query:this.state.input,selectedItemRef:this.props.selectedItemRef})):p=f(Hh,{ref:this.listRef,options:d,optionRenderer:this.props.optionRenderer,ariaLabelRenderer:this.props.ariaLabelRenderer,page:this.state.page,perPage:this.props.perPage,onPageChange:this.props.handlePageChange,onAdd:this.onAdd,onSelect:this.onSelect,loading:this.props.loading,selectedItemRef:this.props.selectedItemRef}),a&&a.length&&o&&(h=f(E,{id:"multiselect.numMembers",defaultMessage:"{memberOptions, number} of {totalCount, number} members",values:{memberOptions:d.length,totalCount:this.props.totalCount}})),y(b.Fragment,{children:[y("div",{className:"filtered-user-list",children:[y("div",{className:"filter-row filter-row--full",children:[y("div",{className:w(qh,"multi-select__container react-select"),children:[f(Sh,{id:"selectItems",ref:this.reactSelectRef,isMulti:!0,options:this.props.options,styles:Vh,components:{Menu:Bh,IndicatorsContainer:Bh,MultiValueLabel:this.props.valueWithImage?nh.MultiValueLabel:zh(this.props.valueRenderer),MultiValueRemove:this.props.valueWithImage?this.MultiValueRemove:nh.MultiValueRemove},isClearable:!1,openMenuOnFocus:!1,menuIsOpen:!1,onInputChange:this.onInput,onKeyDown:this.onInputKeyDown,onChange:this.onChange,value:this.props.values,formatOptionLabel:this.props.valueWithImage?this.formatOptionLabel:void 0,placeholder:this.props.placeholderText,inputValue:this.state.input,getOptionValue:function(e){return e.id},getOptionLabel:this.props.ariaLabelRenderer,"aria-label":this.props.placeholderText,className:this.state.a11yActive?"multi-select__focused":"",classNamePrefix:"react-select-auto react-select"}),"top"===this.props.saveButtonPosition&&f(_h,{id:"saveItems",saving:this.props.saving,disabled:this.props.saving,onClick:this.handleOnClick,defaultMessage:t,savingMessage:this.props.buttonSubmitLoadingText})]}),y("div",{id:"multiSelectHelpMemberInfo",className:w(Ah,"multi-select__help"),children:[e,h]})]}),p,f("div",{id:"multiSelectMessageNote",className:"multi-select__help",children:u}),"top"===this.props.saveButtonPosition&&y("div",{className:"filter-controls",children:[c,l]})]}),"bottom"===this.props.saveButtonPosition&&f("div",{className:w(Lh,"channel-switcher__footer"),children:f(_h,{id:"saveItems",saving:this.props.saving,disabled:this.props.saving,onClick:this.handleOnClick,defaultMessage:t,savingMessage:this.props.buttonSubmitLoadingText,btnClass:w(Dh)})})]})}}]),n}(b.PureComponent);S(jh,"defaultProps",{ariaLabelRenderer:function(e){if(!e)return null;return e.label},saveButtonPosition:"top",valueWithImage:!1});var Bh=function(){return null},zh=function(e){return function(t){return f("div",{className:"react-select__padded-component",children:f(e,C({},t))})}},Vh={container:function(){return{width:"100%"}},multiValueLabel:function(){return{display:"inline-flex",alignItems:"center"}},multiValue:function(){return{display:"flex",backgroundColor:"rgba(0,0,0,0.1)",margin:"2px",minWidth:"0",boxSizing:"border-box",borderRadius:"99px",overflow:"hidden"}}},Wh="mqik-e97bb61b",Gh="mqik-393fa0fb",Kh="mqik-252e19fe",Yh="mqik-3e89e5f7",Xh="mqik-f38c10a7",Qh="mqik-d04671de",Jh="mqik-97489a5d",Zh="mqik-f3588b91",$h=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"searchTimeoutId",0),S(m(r),"selectedItemRef",b.createRef()),S(m(r),"addValue",(function(e){var t=Object.assign([],r.state.values);-1===t.indexOf(e)&&t.push(e),r.setState({values:t})})),S(m(r),"onHide",(function(){r.setState({show:!1}),r.props.actions.loadStatusesForProfilesList(r.props.profilesNotInCurrentChannel)})),S(m(r),"handleInviteError",(function(e){e&&r.setState({saving:!1,inviteError:e.message})})),S(m(r),"handleDelete",(function(e){r.setState({values:e})})),S(m(r),"setUsersLoadingState",(function(e){r.setState({loadingUsers:e})})),S(m(r),"handlePageChange",(function(e,t){e>t&&(r.setUsersLoadingState(!0),r.props.actions.getProfilesNotInChannel(r.props.channel.team_id,r.props.channel.id,r.props.channel.group_constrained,e+1,50).then((function(){return r.setUsersLoadingState(!1)})))})),S(m(r),"handleSubmit",(function(){var e=r.props,t=e.actions,n=e.channel,i=r.state.values.map((function(e){return e.id}));if(0!==i.length){if(r.props.skipCommit&&r.props.onAddCallback)return r.props.onAddCallback(r.state.values),r.setState({saving:!1,inviteError:void 0}),void r.onHide();r.setState({saving:!0}),t.addUsersToChannel(n.id,i).then((function(e){e.error?r.handleInviteError(e.error):(r.setState({saving:!1,inviteError:void 0}),r.onHide())}))}})),S(m(r),"search",(function(e){var t=e.trim();clearTimeout(r.searchTimeoutId),r.setState({term:t}),t&&(r.setUsersLoadingState(!0),r.searchTimeoutId=window.setTimeout(x(k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={team_id:r.props.channel.team_id,not_in_channel_id:r.props.channel.id,group_constrained:r.props.channel.group_constrained},e.next=3,r.props.actions.searchProfiles(t,n);case 3:r.setUsersLoadingState(!1);case 4:case"end":return e.stop()}}),e)}))),Se.SEARCH_TIMEOUT_MILLISECONDS),r.searchTimeoutId=window.setTimeout(x(k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n={team_id:r.props.channel.team_id,not_in_channel_id:r.props.channel.id,group_constrained:r.props.channel.group_constrained},e.next=5,r.props.actions.searchProfiles(t,n);case 5:r.setUsersLoadingState(!1);case 6:case"end":return e.stop()}}),e)}))),Se.SEARCH_TIMEOUT_MILLISECONDS))})),S(m(r),"renderAriaLabel",(function(e){return e?e.username:""})),S(m(r),"renderOption",(function(e,t,n,i){var o="";return t&&(o="more-modal__row--selected"),y("div",{ref:t?r.selectedItemRef:e.id,className:w(Gh,"more-modal__row clickable "+o),onClick:function(){return n(e)},onMouseMove:function(){return i(e)},children:[f(as,{src:Oe.getProfilePictureUrl(e.id,e.last_picture_update),status:r.props.userStatuses[e.id],size:"md",username:e.username,wrapperClass:Jh,statusClass:Zh}),f("div",{className:w(Kh,"more-modal__details"),children:f("div",{className:w(Yh,"more-modal__name"),children:Rt(e)})}),f("div",{className:w(Xh,"more-modal__actions"),children:f("div",{className:"more-modal__actions--round",children:f(qs,{className:Qh})})})]},e.id)})),S(m(r),"render",(function(){var e=null;r.state.inviteError&&(e=f("label",{className:"has-error control-label",children:r.state.inviteError}));var t=_e("multiselect.add","Add"),n=_e("multiselect.adding","Adding..."),o=Ot(r.props.profilesNotInCurrentChannel,r.state.term).filter((function(e){return 0===e.delete_at&&!r.props.profilesNotInCurrentTeam.includes(e)&&void 0!==r.props.excludeUsers&&!r.props.excludeUsers[e.id]})).map((function(e){return e}));if(r.props.includeUsers){var a=Object.values(r.props.includeUsers);o=[].concat(i(o),i(a))}var s=f(jh,{options:o,optionRenderer:r.renderOption,selectedItemRef:r.selectedItemRef,values:r.state.values,ariaLabelRenderer:r.renderAriaLabel,saveButtonPosition:"bottom",perPage:50,handlePageChange:r.handlePageChange,handleInput:r.search,handleDelete:r.handleDelete,handleAdd:r.addValue,handleSubmit:r.handleSubmit,maxValues:20,buttonSubmitText:t,buttonSubmitLoadingText:n,saving:r.state.saving,loading:r.state.loadingUsers,placeholderText:_e("multiselect.placeholder","Search for people"),valueWithImage:!0},"addUsersToChannelKey");return y(hs,{dialogClassName:"",show:r.state.show,onHide:r.onHide,onExited:r.props.onHide,children:[f(fs,{closeButton:!0,onClose:r.onHide,children:f(E,{id:"channel_invite.addNewMembers",defaultMessage:"Add people to {channel}",values:{channel:r.props.channel.display_name}})}),f(ms,{children:y("div",{className:Wh,children:[e,s]})})]})})),r.state={values:[],term:"",show:!0,saving:!1,loadingUsers:!0},r}return u(n,[{key:"componentDidMount",value:function(){var e=this;this.props.actions.getProfilesNotInChannel(this.props.channel.team_id,this.props.channel.id,this.props.channel.group_constrained,0).then((function(){e.setUsersLoadingState(!1)})),this.props.actions.getTeamStats(this.props.channel.team_id),this.props.actions.loadStatusesForProfilesList(this.props.profilesNotInCurrentChannel)}}]),n}(b.PureComponent);S($h,"defaultProps",{includeUsers:{},excludeUsers:{},skipCommit:!1});var ef=g((function(e,t){var n;return t.channelId&&t.teamId&&(n=Lt()),function(e,t){var r,i;return n?(r=n(e,t.channelId),i=Dt(e,t.teamId)):(r=Ft(e),i=Ht(e)),{profilesNotInCurrentChannel:r,profilesNotInCurrentTeam:i,userStatuses:St(e)}}}),(function(e){return{actions:P({addUsersToChannel:da,getProfilesNotInChannel:Ut,getTeamStats:jt,loadStatusesForProfilesList:Bt,searchProfiles:zt},e)}}))($h),tf=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props,t=e.error,n=void 0===t?null:t,r=e.errors,i=void 0===r?[]:r,o=e.iconClassName,a=e.margin,s=e.textClassName,l=e.type;if(!n&&0===i.length)return null;var c=n;if(!c){var u,d=v(i);try{for(d.s();!(u=d.n()).done;){var p=u.value;p&&(c=p)}}catch(p){d.e(p)}finally{d.f()}}return c?f("div","modal"===l?{className:"form-group",children:f("label",{className:"col-sm-12 has-error",children:c})}:"backstage"===l?{className:"pull-left has-error",children:f("label",{className:"control-label",children:c})}:a?{className:"form-group has-error",children:f("label",{className:"control-label",children:c})}:{className:"col-sm-12 ".concat(s||"has-error"),children:y("label",{className:"control-label",children:[f("i",{className:"fa ".concat(o||"fa-exclamation-circle")})," ",c]})}):null}}]),n}(b.PureComponent);S(tf,"defaultProps",{error:null,errors:[]});var nf="mqik-b850d275",rf="mqik-02cab614",of="mqik-aa52bda4",af="mqik-afd93447",sf=function(e){var t,n,r,i=p.exports.useRef(null),o=p.exports.useRef(null),a=s(p.exports.useState(!1),2),l=a[0],c=a[1],u=s(p.exports.useState(!1),2),d=u[0],h=u[1],m=e.delay&&e.delay<50?100:e.delay||100,g=pa.exports.debounce((function(){h(!0)}),m);p.exports.useEffect((function(){l?(h(!1),g.cancel(),r?r.update():i.current&&o.current&&(r=Qa(i.current,o.current,{placement:e.placement,strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,e.offset||8]}},{name:"delay",enabled:!0,phase:"afterWrite",fn:function(e){e.state,g()}}]}))):!l&&r&&r.destroy()}),[l]);var v=y("div",{role:"tooltip",ref:o,className:w(nf,(t={},S(t,rf,l),S(t,of,d),t)),children:[e.content,f("div",{className:w(af,(n={},S(n,rf,l),S(n,of,d),n)),"data-popper-arrow":!0})]});return y(p.exports.Fragment,{children:[b.cloneElement(e.children,{ref:i,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}}),l?v:null]})},lf={settingPicture:"mqik-fc5852ff",settingList:"mqik-b349bf98",settingListItem:"mqik-586c99da",imgRender:"mqik-a63ea2c9",imgPreview:"mqik-1bba61d5",helpText:"mqik-f7a58cd8",btn:"mqik-4b7393fd",btnPrimary:"mqik-35c56268",btnLink:"mqik-01f4a8aa",btnDisabled:"mqik-77766c64",settingActions:"mqik-da477596",settingError:"mqik-ed1fd79d",blobView:"mqik-df9c31d6",imgContainer:"mqik-d2c13fdf",imgRemove:"mqik-804aa4d2"},cf=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"settingList",void 0),S(m(r),"selectInput",void 0),S(m(r),"confirmButton",void 0),S(m(r),"previewBlob",void 0),S(m(r),"handleCancel",(function(e){r.setState({removeSrc:!1,setDefaultSrc:!1}),r.props.updateSection(e)})),S(m(r),"handleFileSelected",(function(){r.confirmButton.current&&r.confirmButton.current.focus()})),S(m(r),"handleSave",(function(e){e.preventDefault(),r.props.loadingPicture||(r.state.removeSrc?r.props.onRemove():r.state.setDefaultSrc?r.props.onSetDefault():r.props.onSubmit())})),S(m(r),"handleRemoveSrc",(function(e){e.preventDefault(),r.setState({removeSrc:!0}),r.focusFirstElement()})),S(m(r),"handleSetDefaultSrc",(function(e){e.preventDefault(),r.setState({setDefaultSrc:!0}),r.focusFirstElement()})),S(m(r),"handleFileChange",(function(e){r.setState({removeSrc:!1,setDefaultSrc:!1}),r.props.onFileChange(e)})),S(m(r),"handleInputFile",(function(){var e;r.selectInput.current&&(r.selectInput.current.value="",null===(e=r.selectInput.current)||void 0===e||e.click())})),S(m(r),"setPicture",(function(e){if(e){r.previewBlob=URL.createObjectURL(e);var t=new FileReader;t.onload=function(e){var t=As(e.target.result),n=Ps(t);r.setState({image:r.previewBlob,orientationStyles:n})},t.readAsArrayBuffer(e)}})),S(m(r),"renderImg",(function(){var e=r.props.imageContext;if(r.props.file){var t=C({backgroundImage:"url("+r.state.image+")"},r.state.orientationStyles);return f("div",{className:w(lf.imgPreview,"".concat(e,"-img-preview")),children:f("div",{alt:"".concat(e," image preview"),style:t,className:w(lf.blobView,"".concat(e,"-img-preview"))})})}if(r.state.setDefaultSrc)return f("img",{loading:"lazy",className:"".concat(e,"-img"),alt:"".concat(e," image"),src:r.props.defaultImageSrc});if(r.props.src&&!r.state.removeSrc){var n,i,o=f("img",{loading:"lazy",className:"".concat(e,"-img"),alt:"".concat(e," image"),src:r.props.src});return r.props.onRemove||r.props.onSetDefault?(r.props.onRemove?(n=f(E,{id:"setting_picture.remove_channel",defaultMessage:"Xóa ảnh nhóm"}),i=r.handleRemoveSrc):r.props.onSetDefault&&(n=f(E,{id:"setting_picture.remove_channel_picture",defaultMessage:"Ảnh mặc định"}),i=r.handleSetDefaultSrc),y("div",{className:w(lf.imgContainer,"".concat(e,"-img__container")),children:[f("div",{className:w(lf.imgPreview,"img-preview__image"),"aria-hidden":!0,children:o}),f(sf,{placement:"top",content:n,children:f("button",{"data-testid":"removeSettingPicture",className:w(lf.imgRemove,"".concat(e,"-img__remove")),onClick:i,children:f("span",{"aria-hidden":!0,children:"×"})})})]})):o}return null})),r.settingList=b.createRef(),r.selectInput=b.createRef(),r.confirmButton=b.createRef(),r.state={image:null,removeSrc:!1,setDefaultSrc:!1},r}return u(n,[{key:"focusFirstElement",value:function(){this.settingList.current&&this.settingList.current.focus()}},{key:"componentDidMount",value:function(){this.focusFirstElement(),this.selectInput.current&&this.selectInput.current.addEventListener("input",this.handleFileSelected)}},{key:"componentDidUpdate",value:function(e){e.file!==this.props.file&&this.setPicture(this.props.file)}},{key:"componentWillUnmount",value:function(){this.previewBlob&&URL.revokeObjectURL(this.previewBlob),this.selectInput.current&&this.selectInput.current.removeEventListener("input",this.handleFileSelected)}},{key:"render",value:function(){var e,t,n=this.renderImg(),r=S({},lf.btn,!0),i=!1;return this.props.submitActive||this.state.removeSrc||this.state.setDefaultSrc?r[lf.btnPrimary]=!0:(r[lf.btnDisabled]=!0,i=!0),n&&(e=f("div",{className:w(lf.settingListItem,lf.imgRender,lf.imgDefault,"setting-list-item"),role:"presentation",children:n})),this.props.onSubmit&&(t=y(p.exports.Fragment,{children:[f("input",{"data-testid":"uploadPicture",ref:this.selectInput,className:w("u3-hidden"),accept:".jpg,.png,.bmp",type:"file",onChange:this.handleFileChange,disabled:this.props.loadingPicture,"aria-hidden":!0,tabIndex:-1}),f("button",{"data-testid":"inputSettingPictureButton",className:w(lf.btn,lf.btnPrimary,lf.btnFile),disabled:this.props.loadingPicture,onClick:this.handleInputFile,"aria-label":_e("setting_picture.select_image","Chọn ảnh"),children:f(E,{id:"setting_picture.select_image",defaultMessage:"Chọn ảnh"})}),f("button",{tabIndex:i?-1:0,"data-testid":"saveSettingPicture",disabled:i,ref:this.confirmButton,className:w(r),onClick:this.handleSave,"aria-label":this.props.loadingPicture?_e("setting_picture.uploading","Uploading..."):_e("setting_picture.save","Save"),children:this.props.loadingPicture?f(xs,{text:_e("setting_picture.uploading","Uploading...")}):f(E,{id:"setting_picture.save",defaultMessage:"Save"})})]})),y("section",{className:w(lf.settingPicture,"section-max form-horizontal"),children:[f("h4",{className:"col-xs-12 section-title",children:this.props.title}),f("div",{className:"col-xs-offset-3 col-xs-8",children:y("div",{className:w(lf.settingList,"setting-list"),ref:this.settingList,tabIndex:-1,"aria-label":this.props.title,"aria-describedby":"setting-picture__helptext",children:[e,f("div",{id:"setting-picture__helptext",className:w(lf.settingListItem,lf.helpText,"setting-list-item pt-3"),children:this.props.helpText}),y("div",{className:w(lf.settingListItem,"setting-list-item"),children:[f("hr",{}),y("div",{className:lf.settingActions,children:[f("div",{className:lf.settingError,children:f(tf,{errors:[this.props.clientError,this.props.serverError],type:"modal"})}),t,f("button",{"data-testid":"cancelSettingPicture",className:w(lf.btn,lf.btnLink),onClick:this.handleCancel,"aria-label":_e("setting_picture.cancel","Cancel"),children:f(E,{id:"setting_picture.cancel",defaultMessage:"Cancel"})})]})]})]})})]})}}]),n}(p.exports.PureComponent);S(cf,"defaultProps",{imageContext:"profile"}),S(cf,"propTypes",{clientError:q.string,serverError:q.string,src:q.string,defaultImageSrc:q.string,file:q.object,loadingPicture:q.bool,submitActive:q.bool,onRemove:q.func,onSetDefault:q.func,onSubmit:q.func,title:q.string,onFileChange:q.func,updateSection:q.func,imageContext:q.string,maxFileSize:q.number,helpText:q.object});var uf="mqik-4d21f8f0",df=U({maxLength:{id:ce("rename_channel.maxLength"),defaultMessage:"This field must be less than {maxLength, number} characters"},url:{id:ce("rename_channel.url"),defaultMessage:"URL"},defaultError:{id:ce("rename_channel.defaultError"),defaultMessage:" - Cannot be changed for the default channel"},displayNameHolder:{id:ce("rename_channel.displayNameHolder"),defaultMessage:"Enter display name"},groupPicture:{id:ce("rename_channel.groupPicture"),defaultMessage:"Hình đại diện"},validImage:{id:ce("user.settings.general.validImage"),defaultMessage:"Only BMP, JPG or PNG images may be used for profile pictures"},imageTooLarge:{id:ce("user.settings.general.imageTooLarge"),defaultMessage:"Unable to upload profile image. File is too large."}}),pf=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"submitActive",void 0),S(m(r),"setError",(function(e){r.setState({serverError:e.message})})),S(m(r),"unsetError",(function(){r.setState({serverError:""})})),S(m(r),"handleHide",(function(e){e&&e.preventDefault(),r.setState({serverError:"",urlErrors:[],invalid:!1,show:!1})})),S(m(r),"onSaveSuccess",(function(){r.handleHide(),r.unsetError()})),S(m(r),"handleCancel",(function(e){r.handleHide(e)})),S(m(r),"setDefaultPicture",(function(){r.setState({loadingPicture:!0}),r.props.actions.removeChannelImage(r.props.channel.id).then((function(e){var t=e.data,n=e.error;t?(r.submitActive=!1,r.onSaveSuccess()):n&&r.setState({serverError:n.message})}))})),S(m(r),"updatePicture",(function(e){e.target.files&&e.target.files[0]?(r.submitActive=!0,r.setState({clientError:null,pictureFile:e.target.files[0]})):r.setState({pictureFile:null})})),S(m(r),"submitPicture",(function(){if(r.state.pictureFile&&r.submitActive){var e=r.props.intl.formatMessage,t=r.state.pictureFile;Vt.includes(t.type)?t.size>r.props.maxFileSize?r.setState({clientError:e(df.imageTooLarge),serverError:""}):(r.setState({loadingPicture:!0}),r.props.actions.setChannelImage(r.props.channel.id,t).then((function(e){var t=e.data,n=e.error;t?(r.submitActive=!1,r.onSaveSuccess()):n&&r.setState({serverError:n.message})}))):r.setState({clientError:e(df.validImage),serverError:""})}})),r.submitActive=!1,r.state={serverError:"",urlErrors:[],invalid:!1,show:!0,pictureFile:null,loadingPicture:!1},r}return u(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.channel,r=t.maxFileSize,i=this.state,o=i.pictureFile,a=i.serverError,s=i.clientError,l=i.loadingPicture,c=n.last_picture_update>0?this.setDefaultPicture:null,u=f(Zs,{id:"setting_picture.help.channel",defaultMessage:"Cài đặt ảnh cho nhóm, chấp nhận ảnh PNG, JPG, JPEG hoặc BMP. Sử dụng hình vuông và có nền."}),d=Wt(n.id,n.last_picture_update);return y(hs,{dialogClassName:"a11y__modal settings-modal",show:this.state.show,onHide:this.handleCancel,onExited:this.props.onHide,"aria-labelledby":"channelEditImageModalLabel",className:"channel__edit_image",children:[f(fs,{closeButton:!0,onClose:this.handleCancel,children:f(E,{id:"update_channel_image.title",defaultMessage:"Cập nhật ảnh nhóm"})}),f(ms,{children:f("div",{className:uf,children:f(cf,{title:"",onSubmit:this.submitPicture,onSetDefault:c,src:d,defaultImageSrc:Gt(this.props.channel.id),serverError:a,clientError:s,updateSection:function(t){t.preventDefault(),e.handleCancel()},file:o,onFileChange:this.updatePicture,submitActive:this.submitActive,loadingPicture:l,maxFileSize:r,helpText:u,imageContext:"group"})})})]})}}]),n}(b.PureComponent),hf=I(pf),ff=A((function(e){var t=be(e);return{maxFileSize:parseInt(t.MaxFileSize,10)}}),(function(e){return C({},e)}));var mf=g(ff,(function(e){return{actions:P({removeChannelImage:Kt,setChannelImage:Yt},e)}}))(hf),gf="mqik-00c5a579",vf="mqik-3e7fa4ad",bf="mqik-0638ac2a",yf="mqik-f28058bc",kf="mqik-f995f5df",wf="mqik-034046f4",xf="mqik-e3a7b3dd",Ef="mqik-e56b14ef",Cf=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"purpose",void 0),S(m(r),"handleEntering",(function(){at(r.purpose)})),S(m(r),"onHide",(function(){r.setState({show:!1})})),S(m(r),"handleKeyDown",(function(e){var t=r.props.ctrlSend;ft(e)?(e.preventDefault(),r.setState({purpose:mt(e)})):t&&Ce(e,Se.KeyCodes.ENTER)&&e.ctrlKey?(e.preventDefault(),r.handleSave(e)):t||!Ce(e,Se.KeyCodes.ENTER)||e.shiftKey||e.altKey||(e.preventDefault(),r.handleSave(e))})),S(m(r),"handleSave",function(){var e=x(k().mark((function e(t){var n,i,o,a,s,l,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,i=n.channel,o=n.actions.patchChannel,a=r.state.purpose,i){e.next=4;break}return e.abrupt("return");case 4:return r.setState({requestStarted:!0}),e.next=7,o(i.id,{purpose:a});case 7:s=e.sent,l=s.data,c=s.error,r.setState({serverError:c,requestStarted:!1}),l&&r.onHide();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"handleChange",(function(e){e.preventDefault(),r.setState({purpose:e.target.value})})),S(m(r),"getPurpose",(function(e){r.purpose=e})),r.state={purpose:e.channel.purpose||"",serverError:null,show:!0,submitted:!1,requestStarted:!1},r}return u(n,[{key:"render",value:function(){var e=null,t=this.props.intl.formatMessage;this.state.serverError&&(e=y("div",{className:"form-group has-error",children:[f("br",{}),f("label",{className:"control-label",children:this.state.serverError.message})]}));var n=f("span",{children:f(E,{id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"})});this.props.channel.display_name&&(n=y("span",{children:[f(E,{id:"edit_channel_purpose_modal.title2",defaultMessage:"Edit Purpose for "}),f("span",{className:"name",children:this.props.channel.display_name})]}));var r=f(E,{id:"edit_channel_purpose_modal.body",defaultMessage:'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.'});"P"===this.props.channel.type&&(r=f(E,{id:"edit_channel_private_purpose_modal.body",defaultMessage:'This text appears in the \\"View Info\\" modal of the private channel.'}));var i=t({id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"}).toLowerCase();return y(hs,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,"aria-labelledby":"editChannelPurposeModalLabel",className:"channel__edit_image",children:[f(fs,{closeButton:!0,onClose:this.onHide,children:n}),f(ms,{children:y("div",{className:gf,children:[f("p",{className:vf,children:r}),f("textarea",{ref:this.getPurpose,className:w(bf,yf,"form-control no-resize"),rows:6,maxLength:250,value:this.state.purpose,onKeyDown:this.handleKeyDown,onChange:this.handleChange,"aria-label":i}),e]})}),f(vl,{children:y("div",{className:kf,children:[f("button",{type:"button",className:w(wf,Ef,"btn btn-link cancel-button"),onClick:this.onHide,children:f(E,{id:"edit_channel_purpose_modal.cancel",defaultMessage:"Cancel"})}),f("button",{type:"button",className:w(wf,xf,"btn btn-primary save-button"),disabled:this.state.requestStarted,onClick:this.handleSave,children:f(E,{id:"edit_channel_purpose_modal.save",defaultMessage:"Save"})})]})})]})}}]),n}(b.PureComponent);S(Cf,"propTypes",{onHide:q.func.isRequired,channel:q.object,ctrlSend:q.bool.isRequired,intl:q.any,actions:q.shape({patchChannel:q.func.isRequired}).isRequired});var Sf=I(Cf);var _f=g((function(e){return{ctrlSend:qe(e,Se.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")}}),(function(e){return{actions:{patchChannel:P(Xt,e)}}}))(Sf),qf={channelRenameModal:"mqik-ea4828cb",formGroup:"mqik-69c31780",controlLabel:"mqik-3b283972",formControl:"mqik-a91de201",formUrl:"mqik-88b0e34c",urlHelpText:"mqik-49d7c76c",renameActions:"mqik-10e26d8b",btn:"mqik-fb7ad513",btnPrimary:"mqik-1888034f",btnLink:"mqik-fd12526c"},Af=U({maxLength:{id:ce("rename_channel.maxLength"),defaultMessage:"This field must be less than {maxLength, number} characters"},url:{id:ce("rename_channel.url"),defaultMessage:"URL"},defaultError:{id:ce("rename_channel.defaultError"),defaultMessage:" - Cannot be changed for the default channel"},displayNameHolder:{id:ce("rename_channel.displayNameHolder"),defaultMessage:"Enter display name"},groupPicture:{id:ce("rename_channel.groupPicture"),defaultMessage:"Hình đại diện"},validImage:{id:ce("user.settings.general.validImage"),defaultMessage:"Only BMP, JPG or PNG images may be used for profile pictures"},imageTooLarge:{id:ce("user.settings.general.imageTooLarge"),defaultMessage:"Unable to upload profile image. File is too large."}}),Pf=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"textbox",void 0),S(m(r),"submitActive",void 0),S(m(r),"setError",(function(e){r.setState({serverError:e.message})})),S(m(r),"unsetError",(function(){r.setState({serverError:""})})),S(m(r),"handleEntering",(function(){at(r.textbox)})),S(m(r),"handleHide",(function(e){e&&e.preventDefault(),r.setState({serverError:"",urlErrors:[],displayNameError:"",invalid:!1,show:!1})})),S(m(r),"handleSubmit",function(){var e=x(k().mark((function e(t){var n,i,o,a,s,l,c,u,d,p;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),n=Object.assign({},r.props.channel),i=n.name,o=n.display_name,a=C(C({},r.state),{},{serverError:""}),s=r.props.intl.formatMessage,l=r.props.actions.patchChannel,n.display_name=r.state.displayName.trim(),!n.display_name||n.display_name.length<Se.MIN_CHANNELNAME_LENGTH?(a.displayNameError=f(E,{id:"rename_channel.minLength",defaultMessage:"Display name must have at least {minLength, number} characters.",values:{minLength:Se.MIN_CHANNELNAME_LENGTH}}),a.invalid=!0):n.display_name.length>Se.MAX_CHANNELNAME_LENGTH?(a.displayNameError=s(Af.maxLength,{maxLength:Se.MAX_CHANNELNAME_LENGTH}),a.invalid=!0):a.displayNameError="",n.name=r.state.channelName.trim(),(c=Qt(n.name)).length>0&&(a.invalid=!0),a.urlErrors=c,r.setState(a),!a.invalid){e.next=16;break}return e.abrupt("return");case 16:if(i!==n.name||o!==n.display_name){e.next=19;break}return r.onSaveSuccess(),e.abrupt("return");case 19:return e.next=21,l(n.id,n);case 21:u=e.sent,d=u.data,p=u.error,d?r.onSaveSuccess():p&&r.setError(p);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"onSaveSuccess",(function(){r.handleHide(),r.props.actions.selectChannel(r.props.channel.id),r.unsetError()})),S(m(r),"handleCancel",(function(e){r.setState({displayName:r.props.channel.display_name,channelName:r.props.channel.name}),r.handleHide(e)})),S(m(r),"onNameChange",(function(e){var t=e.target.value.trim().replace(/[^A-Za-z0-9-_]/g,"").toLowerCase();r.setState({channelName:t})})),S(m(r),"onDisplayNameChange",(function(e){r.setState({displayName:e.target.value})})),S(m(r),"getTextbox",(function(e){r.textbox=e})),S(m(r),"setDefaultPicture",(function(){})),S(m(r),"updatePicture",(function(e){e.target.files&&e.target.files[0]?(r.setState({pictureFile:e.target.files[0]}),r.submitActive=!0,r.setState({clientError:null})):r.setState({pictureFile:null})})),S(m(r),"submitPicture",(function(){if(r.state.pictureFile&&r.submitActive){var e=r.props.intl.formatMessage,t=r.state.pictureFile;Vt.includes(t.type)?t.size>r.props.maxFileSize?r.setState({clientError:e(Af.imageTooLarge),serverError:""}):r.setState({loadingPicture:!0}):r.setState({clientError:e(Af.validImage),serverError:""})}})),r.submitActive=!1,r.state={displayName:e.channel.display_name,channelName:e.channel.name,serverError:"",urlErrors:[],displayNameError:"",invalid:!1,show:!0,pictureFile:null,loadingPicture:!1},r}return u(n,[{key:"render",value:function(){var e=null;this.state.displayNameError&&(e=f("p",{className:"input__help error",children:this.state.displayNameError}));var t=null,n=null,r="input-group input-group--limit";this.state.urlErrors.length>0?(t=f("p",{className:"input__help error",children:this.state.urlErrors}),r+=" has-error"):n=f("p",{className:"input__help",children:f(E,{id:"change_url.helpText",defaultMessage:"You can use lowercase letters, numbers, dashes, and underscores."})});var i=null;this.state.serverError&&(i=f("div",{className:"form-group has-error",children:f("label",{className:"control-label",children:this.state.serverError})}));var o=this.props.intl.formatMessage,a=o(Af.url),s=!1;this.props.channel.name===Se.DEFAULT_CHANNEL&&(a+=o(Af.defaultError),s=!0);return y(hs,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.handleCancel,onExited:this.props.onHide,"aria-labelledby":"editChannelPurposeModalLabel",className:"channel__edit_image",children:[f(fs,{closeButton:!0,onClose:this.handleCancel,children:f(E,{id:"rename_channel.title",defaultMessage:"Edit Group Info"})}),f(ms,{children:y("div",{className:qf.channelRenameModal,children:[y("div",{className:w(qf.formGroup,"form-group"),children:[f("label",{className:w(qf.controlLabel,"control-label"),children:f(E,{id:"rename_channel.displayName",defaultMessage:"Display Name"})}),f(ps,{onChange:this.onDisplayNameChange,type:"text",ref:this.getTextbox,id:"display_name",className:w(qf.formControl,"form-control"),placeholder:Af.displayNameHolder,value:this.state.displayName,maxLength:Se.MAX_CHANNELNAME_LENGTH,"aria-label":o({id:"rename_channel.displayName",defaultMessage:"Display Name"}).toLowerCase()}),e]}),y("div",{className:w(qf.formGroup,"u3-hidden form-group"),children:[f("label",{className:w(qf.controlLabel,"control-label"),children:a}),y("div",{className:w(qf.urlInput,r),children:[f("span",{className:"input-group-addon",children:""}),f("input",{onChange:this.onNameChange,type:"text",className:w(qf.formControl,"form-control"),id:"channel_name",value:this.state.channelName,maxLength:Se.MAX_CHANNELNAME_LENGTH,readOnly:s,"aria-label":o({id:"rename_channel.title",defaultMessage:"Rename Channel"}).toLowerCase()})]})]}),y("div",{className:w(qf.formGroup,qf.formUrl,"form-group"),children:[f("label",{className:w(qf.controlLabel,"control-label")}),y("div",{className:w(qf.urlHelpText,"form-control"),children:[n,t]})]}),i]})}),f(vl,{children:y("div",{className:qf.renameActions,children:[f("button",{type:"button",className:w(qf.btn,qf.btnLink,"btn btn-link"),onClick:this.handleCancel,children:f(E,{id:"rename_channel.cancel",defaultMessage:"Cancel"})}),f("button",{onClick:this.handleSubmit,type:"submit",id:"save-button",className:w(qf.btn,qf.btnPrimary,"btn btn-primary"),children:f(E,{id:"rename_channel.save",defaultMessage:"Save"})})]})})]})}}]),n}(b.PureComponent),Tf=I(Pf),If=A((function(e){var t=be(e),n=e.entities.teams.currentTeamId,r=Re(e,n);return{currentTeamUrl:"".concat(Jt(),"/").concat(r.name),team:r,maxFileSize:parseInt(t.MaxFileSize,10)}}),(function(e){return C({},e)}));var Mf=g(If,(function(e){return{actions:P({patchChannel:Xt,selectChannel:Zt},e)}}))(Tf),Nf="mqik-9841dc84",Rf="mqik-c237b5fe",Of="mqik-0ea1b868",Lf=Ts((function(e){var t=e.onClick,n=e.ariaLabel,r=e.text,i=e.extraText,o=e.id,a=e.buttonClass,s=e.isDangerous,l=e.activeClass;return f(Is.Item,{children:function(e){var c,u=e.active;return y("button",{"data-testid":o,id:o,"aria-label":n,className:w("style--none",u&&l?l:"",a,(c={"MenuItem__with-help":i},S(c,Nf,s),S(c,Of,u),c)),onClick:t,children:[r&&f("span",{className:Rf,children:r}),i&&f("span",{className:"MenuItem__help-text",children:i})]})}})}));Lf.displayName="MenuItemAction";var Df=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleLeave",(function(t){t.preventDefault();var n=e.props,r=n.channel,i=n.actions.leaveChannel;r.type===Se.PRIVATE_CHANNEL?ha(r):i(r.id)})),e}return u(n,[{key:"render",value:function(){var e=this.props,t=e.channel,n=e.isDefault,r=e.isGuestUser,i=e.id;return f(Lf,{id:i,show:(!n||r)&&t.type!==Se.DM_CHANNEL&&t.type!==Se.GM_CHANNEL,onClick:this.handleLeave,text:_e("channel_header.leave","Leave Channel"),buttonClass:w("u3-text-left"),isDangerous:!0})}}]),n}(b.PureComponent);S(Df,"defaultProps",{isDefault:!0,isGuestUser:!1});var Ff=g(null,(function(e){return{actions:P({leaveChannel:fa},e)}}))(Df),Hf=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleClose",(function(t){t.preventDefault();var n,r,i=e.props,o=i.channel,a=i.currentUser,s=(i.currentTeam,i.redirectChannel,i.actions),l=s.savePreferences,c=s.leaveDirectChannel;o.type===Se.DM_CHANNEL?(r=Se.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,n=o.teammate_id):(r=Se.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,n=o.id),c(o.name),l(a.id,[{user_id:a.id,category:r,name:n,value:"false"}]),e.props.actions.selectChannel(""),e.props.actions.removeChatId(o.id)})),e}return u(n,[{key:"render",value:function(){var e,t=this.props,n=t.id,r=t.channel;return r.type===Se.DM_CHANNEL?e=_e("center_panel.direct.closeDirectMessage","Close Direct Message"):r.type===Se.GM_CHANNEL&&(e=_e("center_panel.direct.closeGroupMessage","Close Group Message")),f(Lf,{id:n,show:r.type===Se.DM_CHANNEL||r.type===Se.GM_CHANNEL,onClick:this.handleClose,text:e})}}]),n}(b.PureComponent),Uf=g((function(e){return{currentTeam:me(e),redirectChannel:$t(e,Pe(e))}}),(function(e){return{actions:P({savePreferences:en,leaveDirectChannel:ma,removeChatId:hl,selectChannel:Zt},e)}}))(Hf),jf=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleClose",(function(){e.props.actions.goToLastViewedChannel()})),e}return u(n,[{key:"render",value:function(){return f(Lf,{show:this.props.isArchived,onClick:this.handleClose,text:_e("center_panel.archived.closeChannel","Close Channel")})}}]),n}(b.PureComponent),Bf=g(null,(function(e){return{actions:P({goToLastViewedChannel:ga},e)}}))(jf),zf="mqik-fdf1db3d",Vf="mqik-dca22d1a",Wf="mqik-4051370b",Gf=g((function(){var e=tn();return function(t,n){var r=e(t,{id:n.channelId}),i=nn(t)[r.id];return{user:Le(t),channel:r,isDefault:rn(r),isFavorite:on(t,r.id),isMuted:an(i),isReadonly:sn(t,r),isArchived:0!==r.delete_at,penultimateViewedChannelName:va(t)||$t(t,Pe(t)),pluginMenuItems:t.plugins.components.ChannelHeader||[],isLicensedForLDAPGroups:"true"===t.entities.general.license.LDAPGroups}}}))((function(e){var t=e.user,n=e.channel,r=e.isPrivate,i=e.isArchived,o=e.isDefault,a=e.isGroupConstrained,s=e.isReadonly,l=(e.penultimateViewedChannelName,r?pe.MANAGE_PRIVATE_CHANNEL_MEMBERS:pe.MANAGE_PUBLIC_CHANNEL_MEMBERS),c=r?pe.MANAGE_PRIVATE_CHANNEL_PROPERTIES:pe.MANAGE_PUBLIC_CHANNEL_PROPERTIES,u=pe.MANAGE_TEAM;return f("div",{className:zf,children:f(Is,{as:"div",className:Vf,children:y(Is.Items,{id:"dropdown_".concat(n.id),static:!0,className:w(Wf,"u3-right-0"),children:[y("div",{className:"u3-py-1",children:[f(Ms,{channelId:n.id,teamId:n.team_id,permissions:[l],children:f(Ns,{id:"channelAddMembers",show:n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL&&!i&&!o&&!a,modalId:de.CHANNEL_INVITE,dialogType:ef,dialogProps:{channel:n},text:_e("navbar.addMembers","Add Members")})}),y(Ms,{channelId:n.id,teamId:n.team_id,permissions:[l],children:[f(Ns,{id:"channelViewMembers",show:n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL&&(i||o),modalId:de.CHANNEL_MEMBERS,dialogType:Ss,dialogProps:{channel:n},text:_e("channel_header.viewMembers","View Members")}),f(Ns,{id:"channelManageMembers",show:n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL&&!i&&!o,modalId:de.CHANNEL_MEMBERS,dialogType:Ss,dialogProps:{channel:n},text:_e("channel_header.manageMembers","Manage Members")})]}),f(Ms,{channelId:n.id,teamId:n.team_id,permissions:[l],invert:!0,children:f(Ns,{id:"channelViewMembers",show:n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL&&!i&&!o,modalId:de.CHANNEL_MEMBERS,dialogType:Ss,dialogProps:{channel:n},text:_e("channel_header.viewMembers","View Members")})})]}),f("div",{className:"u3-py-1",children:y(Ms,{channelId:n.id,teamId:n.team_id,permissions:[c],children:[f(Ns,{id:"channelEditImage",show:n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL&&!i&&!s,modalId:de.EDIT_CHANNEL_IMAGE,dialogType:mf,dialogProps:{channel:n},text:_e("channel_header.setImage","Đổi ảnh nhóm")}),f(Ns,{id:"channelEditPurpose",show:!i&&!s&&n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL,modalId:de.EDIT_CHANNEL_PURPOSE,dialogType:_f,dialogProps:{channel:n},text:_e("channel_header.setPurpose","Edit Purpose")}),f(Ns,{id:"channelRename",show:!i&&n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL,modalId:de.RENAME_CHANNEL,dialogType:Mf,dialogProps:{channel:n},text:_e("channel_header.rename","Rename")})]})}),y("div",{className:"u3-py-1",children:[f(Ff,{id:"channelLeaveChannel",channel:n,isDefault:o,isGuestUser:!1}),f(Uf,{id:"channelCloseMessage",channel:n,currentUser:t}),f(Bf,{isArchived:i})]}),f(Ms,{channelId:n.id,teamId:n.team_id,permissions:[u],children:f("div",{className:"u3-py-1",children:f(Ns,{id:"channelUnarchiveChannel",show:i&&!o&&n.type!==Se.DM_CHANNEL&&n.type!==Se.GM_CHANNEL,modalId:de.UNARCHIVE_CHANNEL,dialogType:ef,dialogProps:{channel:n},text:_e("channel_header.unarchive","Unarchive Channel")})})})]})})})})),Kf={chatHeader:"mqik-c14fd364",chatHeaderContent:"mqik-f25c897c",chatHeaderImage:"mqik-a134108d",chatHeaderInfo:"mqik-81944d98",chatHeaderTitle:"mqik-a49f794d",btnTitleActive:"mqik-c799b264",heading:"mqik-4762a60e",btnMute:"mqik-1b755ee9",chatHeaderDescription:"mqik-b7735136",icon:"mqik-168b09da",headerPuposeText:"mqik-6cc7fd46",textPurpose:"mqik-518c48a8",statusText:"mqik-78b56591",chatHeaderActions:"mqik-270cc6c3",iconAction:"mqik-c35c4d17",trashIcon:"mqik-4d4bff64",popoverPurpose:"mqik-758e5092"};var Yf=M(g((function(){var e=st(),t=Za(),n=tn();return function(r,i){var o,a,s,l,c=n(r,{id:i.channelId})||{},u=Le(r),d=dn(r).length>1;if(c&&c.type===ee.DM_CHANNEL){var p=pn(u.id,c.name);o=He(r,p),l=Ue(r,p),s=o&&t(r,o.id)}else c&&c.type===ee.GM_CHANNEL&&(a=e(r,c.id,void 0));var h=Fe(r)||{member_count:0,guest_count:0,pinnedpost_count:0};return{teamId:Pe(r),channel:c,channelMember:hn(r),currentUser:u,dmUser:o,gmMembers:a,rhsState:fn(r),rhsOpen:mn(r),isFavorite:gn(r),isReadOnly:vn(r),isMuted:bn(r),isQuickSwitcherOpen:Yc(r,de.QUICK_SWITCH),hasGuests:h.guest_count>0,pinnedPostsCount:h.pinnedpost_count,hasMoreThanOneTeam:d,teammateNameDisplaySetting:_t(r),currentRelativeTeamUrl:Pt(r),isLegacySidebar:!1,announcementBarCount:Xc(r),customStatus:s,contactName:l,isCustomStatusEnabled:$a(r)}}}),(function(e){return{actions:P({favoriteChannel:yn,unfavoriteChannel:kn,showFlaggedPosts:wn,showPinnedPosts:xn,showChannelFiles:En,showMentions:Cn,closeRightHandSide:Sn,getCustomEmojisInText:_n,updateChannelNotifyProps:qn,goToLastViewedChannel:ga,openModal:xe,closeModal:Ee,minimalChat:fl,largeChat:ml,closeChat:hl,selectChannel:Zt},e)}}))((function(e){var t=e.channel,n=e.dmUser,r=e.channelIsArchived,i=e.isMinimal,o=e.currentUser,a=e.contactName,l=e.teammateNameDisplaySetting,c=e.gmMembers,u=e.isMuted,d=j().formatMessage,h=s(p.exports.useState(!1),2),m=h[0],g=h[1],k=T(),x=t.display_name,C=null;r&&(C=f(Rs,{className:w(Kf.icon,Kf.trashIcon)}));var _,q,A,P,I,M=t.type===Se.DM_CHANNEL,N=t.type===Se.GM_CHANNEL;if(M){var R=n.id;x=o.id===R?f(E,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you) ",values:{displayname:a||ln(n,l)}}):a||ln(n,l)+" "}if(N){var O,L={},D=v(c);try{for(D.s();!(O=D.n()).done;){var F=O.value;if(F.id!==o.id){var H=ln(F,l);L[H]||(L[H]=[]),L[H].push(F)}}}catch(z){D.e(z)}finally{D.f()}x=t.display_name.split(", ").map((function(e,t){if(!L[e])return e;var n=L[e].shift();return y(b.Fragment,{children:[t>0&&", ",e]},n.id)}))}!M||n.delete_at||n.is_bot||(_=f(ls,{status:t.status}),q=f("span",{className:Kf.statusText,children:f(E,{id:"status_dropdown.set_".concat(t.status),defaultMessage:cn(t.status)})})),M||(A=f(su,{channel:t})),t.purpose&&(P=f(Ja,{placement:"bottom-start",trigger:"click",content:f("div",{className:Kf.popoverPurpose,children:t.purpose}),toggleFocus:function(){},children:y("span",{className:Kf.headerPuposeText,children:[f(ru,{className:Kf.icon}),f("span",{className:Kf.textPurpose,children:t.purpose})]})})),u&&(I=f("button",{onClick:function(){var t=e.actions,n=e.channel,r=e.channelMember,i=e.currentUser;if(r&&i&&n){var o={mark_unread:un.ALL};t.updateChannelNotifyProps(i.id,n.id,o)}},className:w("style--none color--link channel-header__mute inactive",Kf.btnMute),"aria-label":d({id:"generic_icons.muted",defaultMessage:"Muted Icon"}),children:f(tu,{className:w(Kf.icon,Kf.muteIcon)})}));var U=f(Ja,{placement:"bottom-start",trigger:"click",content:f(Gf,{channelId:t.id}),toggleFocus:g,children:f("button",{className:w("channel-header__trigger style--none",S({},Kf.btnTitleActive,m)),"aria-label":d({id:"channel_header.menuAriaLabel",defaultMessage:"Channel Menu"}).toLowerCase(),children:y("p",{className:Kf.heading,children:[C,x]})})}),B=f(as,{src:Oe.getChannelPictureUrl(t.id,t.last_picture_update),size:"xl",status:"",wrapperClass:"ChannelHeader_img",newStatusIcon:!1});return M&&(B=f(as,{src:Oe.getProfilePictureUrl(n.id,n.last_picture_update),size:"xl",status:"",wrapperClass:"ChannelHeader_img",newStatusIcon:!1})),f(p.exports.Fragment,{children:f("div",{className:Kf.chatHeader,children:y("div",{className:Kf.chatHeaderContent,children:[f("div",{className:Kf.chatHeaderImage,children:B}),y("div",{className:Kf.chatHeaderInfo,children:[y("div",{className:Kf.chatHeaderTitle,children:[U,I]}),y("div",{className:Kf.chatHeaderDescription,children:[_,q,A,P]})]}),y("div",{className:Kf.chatHeaderActions,children:[f("button",i?{className:w(Kf.btn,Kf.btnLarge),onClick:function(){e.actions.largeChat(t.id),e.actions.selectChannel(t.id)},children:f($c,{className:Kf.iconAction})}:{className:w(Kf.btn,Kf.btnMinimal),onClick:function(){e.actions.minimalChat(t.id),e.actions.selectChannel("")},children:f(Jc,{className:Kf.iconAction})}),f("button",{className:w(Kf.btn,Kf.btnClose),onClick:function(){e.actions.closeChat(t.id),e.actions.selectChannel(""),k.push("/".concat(e.preData?e.preData.match.params.team:e.match.params.team))},children:f(Xa,{className:Kf.iconAction})})]})]})})})})));function Xf(e){return function(){var t=x(k().mark((function t(n,r){var i,o,a,s,l,c;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=r().plugins.components.MessageWillBePosted)&&0!==i.length){t.next=3;break}return t.abrupt("return",{data:e});case 3:o=e,a=v(i),t.prev=5,a.s();case 7:if((s=a.n()).done){t.next=18;break}return l=s.value,t.next=11,l.hook(o);case 11:if(!(c=t.sent)){t.next=16;break}if(!c.error){t.next=15;break}return t.abrupt("return",{error:c.error});case 15:o=c.post;case 16:t.next=7;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),a.e(t.t0);case 23:return t.prev=23,a.f(),t.finish(23);case 26:return t.abrupt("return",{data:o});case 27:case"end":return t.stop()}}),t,null,[[5,20,23,26]])})));return function(e,n){return t.apply(this,arguments)}}()}function Qf(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((o=i().plugins.components.SlashCommandWillBePosted)&&0!==o.length){n.next=3;break}return n.abrupt("return",{data:{message:e,args:t}});case 3:a=e,s=t,l=v(o),n.prev=6,l.s();case 8:if((c=l.n()).done){n.next=22;break}return u=c.value,n.next=12,u.hook(a,s);case 12:if(!(d=n.sent)){n.next=20;break}if(!d.error){n.next=16;break}return n.abrupt("return",{error:d.error});case 16:if(a=d.message,s=d.args,0!==Object.keys(d).length){n.next=20;break}return n.abrupt("break",22);case 20:n.next=8;break;case 22:n.next=27;break;case 24:n.prev=24,n.t0=n.catch(6),l.e(n.t0);case 27:return n.prev=27,l.f(),n.finish(27);case 30:return n.abrupt("return",{data:{message:a,args:s}});case 31:case"end":return n.stop()}}),n,null,[[6,24,27,30]])})));return function(e,t){return n.apply(this,arguments)}}()}var Jf=Ka.jsx;var Zf=p.exports.forwardRef((function(e,t){return Jf("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Jf("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}))})),$f="mqik-be71408f",em="mqik-542c91a7",tm="mqik-1b2f1b85",nm="mqik-99e44d1e",rm=function(e){var t=e.emoji,n=e.spriteClassName;return f("div",{className:w(nm),children:f("img",{alt:t.aliases.join(" - "),src:An(t),className:n,onClick:function(){e.onItemClick(e.emoji)},role:"button"})})};var im=["heart","rofl","sunglasses","laughing","neutral_face","+1","byebye","burn-joss-stick","beauty","boss"];g((function(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:In(e),recentEmojis:Mn(e),activeEmojis:im}}))((function(e){var t,n=s(p.exports.useState(e.show),2),r=n[0],i=n[1],o=s(p.exports.useState(!1),2),a=o[0],l=o[1],c=s(p.exports.useState([]),2),u=c[0],d=c[1],h=p.exports.useRef(null),m=function(){e.target()&&h.current&&(t=Qa(e.target(),h.current,{placement:"top",strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,2]}}],onFirstUpdate:function(e){l(!0)}}))};return p.exports.useEffect((function(){return m(),function(){t&&t.destroy()}}),[]),p.exports.useEffect((function(){r||l(!1),t?t.update():m()}),[r]),p.exports.useEffect((function(){i(e.show)}),[e.show]),p.exports.useEffect((function(){var t=e.activeEmojis,n=[];Pn.forEach((function(e){var r=e.map((function(e){return Tn[e]})).filter((function(e){var n;return!(n=t,!(e.aliases.findIndex((function(e){return n.includes(e)}))>-1))}));n=n.concat(r)})),n=n.map((function(e){var t=C({},e);return t.filename=function(e){return e.filename||e.id}(e),t})),d(n)}),[e.recentEmojis]),f(p.exports.Fragment,r?{children:f("div",{role:"emoji-popper",ref:h,className:w($f,{"u3-opacity-0 u3-invisible":!a}),children:f("div",{className:em,children:f("div",{className:tm,children:u.map((function(t,n){return f(rm,{emoji:t,onItemClick:e.onEmojiClick},"".concat(t.filename,"-").concat(n))}))})})})}:{})}));var om=Ka.jsx;var am=p.exports.forwardRef((function(e,t){return om("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:om("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}))})),sm=Ka.jsx;var lm=p.exports.forwardRef((function(e,t){return sm("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:sm("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}))})),cm=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props,t=e.canDownload,n=e.children,r=e.compactDisplay,i=e.fileInfo,o=e.handleImageClick,a=e.iconClass,s=i.name,l=Os(s);return r?y("a",{id:"file-attachment-link",href:"#",onClick:o,className:"post-image__name",rel:"noopener noreferrer",children:[f(lm,{className:"icon"}),l]}):t?f("div",{className:a||"post-image__name",children:f("a",{href:Ls(i.id),"aria-label":_e("view_image_popover.download","Download").toLowerCase(),download:s,target:"_blank",rel:"noopener noreferrer",children:n||l})}):f("span",{className:"post-image__name u3-block u3-whitespace-nowrap u3-overflow-ellipsis u3-text-sm u3-mr-3 u3-overflow-hidden",children:l})}}]),n}(b.PureComponent),um="mqik-3ee96595",dm="mqik-312828d4",pm="mqik-ffa562df",hm="mqik-0968d6ac",fm="mqik-6754df96",mm="mqik-a30aa549",gm="mqik-436fa8ee",vm="mqik-11934687",bm="mqik-5043b508",ym=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleRemove",(function(){e.props.handleRemove(e.props.clientId)})),e}return u(n,[{key:"render",value:function(){var e,t,n=0,r=this.props,i=r.fileInfo,o=r.clientId,a="0%";if(i){n=i.percent?i.percent:0,a="".concat(n.toFixed(0),"%");var s=Ds(i.type);Nn(s),e=y("div",{className:"u3-text-xs",children:[f(cm,{fileInfo:i,compactDisplay:!1,canDownload:!1}),f("span",{className:"post-image__uploadingTxt",children:100===n?f(E,{id:"create_post.fileProcessing",defaultMessage:"Processing..."}):f(b.Fragment,{children:f(E,{id:"admin.plugin.uploading",defaultMessage:"Uploading..."})})})]}),n&&(t=f("div",{className:"u3-absolute u3-bottom-0 u3-left-0 u3-w-full",children:f("div",{className:"u3-overflow-hidden u3-h-0.5 u3-text-xs u3-flex u3-rounded u3-bg-blue-200",children:f("div",{style:{width:"".concat(n,"%")},className:"u3-shadow-none u3-flex u3-flex-col u3-text-center u3-whitespace-nowrap u3-text-white u3-justify-center u3-bg-blue-500"})})}))}return y("div",{ref:o,className:w(dm,"file-preview post-image__column"),"data-client-id":o,children:[f("div",{className:pm,children:f("span",{className:"u3-block u3-text-center u3-py-2",children:a})}),y("div",{className:fm,children:[f("div",{className:mm,children:f("div",{className:"post-image__detail u3-text-sm",children:e})}),f("a",{className:bm,onClick:this.handleRemove,children:f(Xa,{className:"u3-w-3 u3-h-3"})})]}),t]},o)}}]),n}(b.PureComponent),km=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleRemove",(function(t){e.props.onRemove(t)})),e}return u(n,[{key:"render",value:function(){var e=this,t=[];if(this.props.fileInfos.forEach((function(n){var r,i=Rn(n.extension),o="file-preview post-image__column";if(i===On.SVG&&e.props.enableSVGs)r=f("img",{alt:"file preview",className:"post-image normal",src:Fs(n.id),loading:"lazy"});else if(i===On.IMAGE){var a,s="post-image";n.width&&n.width<Se.THUMBNAIL_WIDTH&&n.height&&n.height<Se.THUMBNAIL_HEIGHT?s+=" small":s+=" normal";var l=Hs(n.id,null===(a=n.preview_path)||void 0===a?void 0:a.replace("_preview.jpg","_thumb.jpg"));Ln(n.extension)&&!n.has_preview_image&&(l=Fs(n.id)),r=f("div",{className:w(hm,s),style:{backgroundImage:"url(".concat(l,")"),backgroundSize:"cover"}})}else o+=" custom-file",r=f("div",{className:"file-icon "+Nn(i),children:f(am,{className:"u3-w-8 u3-h-8 u3-text-blue-500 u3-m-1"})});t.push(y("div",{className:w(dm,o),children:[f("div",{className:pm,children:r}),y("div",{className:fm,children:[f("div",{className:mm,children:y("div",{className:"post-image__detail u3-px-0.5",children:[f(cm,{fileInfo:n,compactDisplay:!1,canDownload:!1}),n.extension&&f("span",{className:gm,children:n.extension.toUpperCase()}),f("span",{className:vm,children:Dn(n.size)})]})}),f("a",{className:bm,onClick:e.handleRemove.bind(e,n.id),children:f(Xa,{className:"u3-w-3 u3-h-3"})})]})]},n.id))})),this.props.uploadsInProgress&&this.props.uploadsProgressPercent){var n=this.props.uploadsProgressPercent;this.props.uploadsInProgress.forEach((function(r){var i=n[r];i&&t.push(f(ym,{clientId:r,fileInfo:i,handleRemove:e.handleRemove},r))}))}return f("div",{className:w(um,"file-preview__container"),ref:"container",children:t})}}]),n}(b.PureComponent);S(km,"defaultProps",{fileInfos:[],uploadsInProgress:[],uploadsProgressPercent:{}});var wm=g((function(e){return{enableSVGs:"true"===be(e).EnableSVGs}}))(km),xm={exports:{}},Em={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(Em);var Cm=Tm;Tm.default=Tm,Tm.stable=Rm,Tm.stableStringify=Rm;var Sm="[...]",_m="[Circular]",qm=[],Am=[];function Pm(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Tm(e,t,n,r){var i;void 0===r&&(r=Pm()),Mm(e,"",0,[],void 0,0,r);try{i=0===Am.length?JSON.stringify(e,t,n):JSON.stringify(e,Lm(t),n)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==qm.length;){var o=qm.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Im(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);void 0!==i.get?i.configurable?(Object.defineProperty(r,n,{value:e}),qm.push([r,n,t,i])):Am.push([t,n,e]):(r[n]=e,qm.push([r,n,t]))}function Mm(e,t,n,r,i,a,s){var l;if(a+=1,"object"===o(e)&&null!==e){for(l=0;l<r.length;l++)if(r[l]===e)return void Im(_m,e,t,i);if(void 0!==s.depthLimit&&a>s.depthLimit)return void Im(Sm,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void Im(Sm,e,t,i);if(r.push(e),Array.isArray(e))for(l=0;l<e.length;l++)Mm(e[l],l,l,r,e,a,s);else{var c=Object.keys(e);for(l=0;l<c.length;l++){var u=c[l];Mm(e[u],u,l,r,e,a,s)}}r.pop()}}function Nm(e,t){return e<t?-1:e>t?1:0}function Rm(e,t,n,r){void 0===r&&(r=Pm());var i,o=Om(e,"",0,[],void 0,0,r)||e;try{i=0===Am.length?JSON.stringify(o,t,n):JSON.stringify(o,Lm(t),n)}catch(s){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==qm.length;){var a=qm.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function Om(e,t,n,r,i,a,s){var l;if(a+=1,"object"===o(e)&&null!==e){for(l=0;l<r.length;l++)if(r[l]===e)return void Im(_m,e,t,i);try{if("function"==typeof e.toJSON)return}catch(p){return}if(void 0!==s.depthLimit&&a>s.depthLimit)return void Im(Sm,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void Im(Sm,e,t,i);if(r.push(e),Array.isArray(e))for(l=0;l<e.length;l++)Om(e[l],l,l,r,e,a,s);else{var c={},u=Object.keys(e).sort(Nm);for(l=0;l<u.length;l++){var d=u[l];Om(e[d],d,l,r,e,a,s),c[d]=e[d]}if(void 0===i)return c;qm.push([i,t,e]),i[t]=c}r.pop()}}function Lm(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(Am.length>0)for(var r=0;r<Am.length;r++){var i=Am[r];if(i[1]===t&&i[0]===n){n=i[2],Am.splice(r,1);break}}return e.call(this,t,n)}}var Dm,Fm="undefined"!=typeof Symbol&&Symbol,Hm=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===o(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},Um="Function.prototype.bind called on incompatible ",jm=Array.prototype.slice,Bm=Object.prototype.toString,zm="[object Function]",Vm=function(e){var t=this;if("function"!=typeof t||Bm.call(t)!==zm)throw new TypeError(Um+t);for(var n,r=jm.call(arguments,1),i=function(){if(this instanceof n){var i=t.apply(this,r.concat(jm.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(jm.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],s=0;s<o;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},Wm=Function.prototype.bind||Vm,Gm=Wm.call(Function.call,Object.prototype.hasOwnProperty),Km=SyntaxError,Ym=Function,Xm=TypeError,Qm=function(e){try{return Ym('"use strict"; return ('+e+").constructor;")()}catch(t){}},Jm=Object.getOwnPropertyDescriptor;if(Jm)try{Jm({},"")}catch(kS){Jm=null}var Zm=function(){throw new Xm},$m=Jm?function(){try{return Zm}catch(e){try{return Jm(arguments,"callee").get}catch(t){return Zm}}}():Zm,eg="function"==typeof Fm&&"function"==typeof Symbol&&"symbol"===o(Fm("foo"))&&"symbol"===o(Symbol("bar"))&&Hm(),tg=Object.getPrototypeOf||function(e){return e.__proto__},ng={},rg="undefined"==typeof Uint8Array?Dm:tg(Uint8Array),ig={"%AggregateError%":"undefined"==typeof AggregateError?Dm:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Dm:ArrayBuffer,"%ArrayIteratorPrototype%":eg?tg([][Symbol.iterator]()):Dm,"%AsyncFromSyncIteratorPrototype%":Dm,"%AsyncFunction%":ng,"%AsyncGenerator%":ng,"%AsyncGeneratorFunction%":ng,"%AsyncIteratorPrototype%":ng,"%Atomics%":"undefined"==typeof Atomics?Dm:Atomics,"%BigInt%":"undefined"==typeof BigInt?Dm:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Dm:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?Dm:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Dm:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Dm:FinalizationRegistry,"%Function%":Ym,"%GeneratorFunction%":ng,"%Int8Array%":"undefined"==typeof Int8Array?Dm:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Dm:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Dm:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":eg?tg(tg([][Symbol.iterator]())):Dm,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":o(JSON))?JSON:Dm,"%Map%":"undefined"==typeof Map?Dm:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&eg?tg((new Map)[Symbol.iterator]()):Dm,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Dm:Promise,"%Proxy%":"undefined"==typeof Proxy?Dm:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?Dm:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Dm:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&eg?tg((new Set)[Symbol.iterator]()):Dm,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Dm:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":eg?tg(""[Symbol.iterator]()):Dm,"%Symbol%":eg?Symbol:Dm,"%SyntaxError%":Km,"%ThrowTypeError%":$m,"%TypedArray%":rg,"%TypeError%":Xm,"%Uint8Array%":"undefined"==typeof Uint8Array?Dm:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Dm:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Dm:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Dm:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?Dm:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Dm:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Dm:WeakSet},og=function e(t){var n;if("%AsyncFunction%"===t)n=Qm("async function () {}");else if("%GeneratorFunction%"===t)n=Qm("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=Qm("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=tg(i.prototype))}return ig[t]=n,n},ag={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},sg=Wm,lg=Gm,cg=sg.call(Function.call,Array.prototype.concat),ug=sg.call(Function.apply,Array.prototype.splice),dg=sg.call(Function.call,String.prototype.replace),pg=sg.call(Function.call,String.prototype.slice),hg=sg.call(Function.call,RegExp.prototype.exec),fg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mg=/\\(\\)?/g,gg=function(e){var t=pg(e,0,1),n=pg(e,-1);if("%"===t&&"%"!==n)throw new Km("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new Km("invalid intrinsic syntax, expected opening `%`");var r=[];return dg(e,fg,(function(e,t,n,i){r[r.length]=n?dg(i,mg,"$1"):t||e})),r},vg=function(e,t){var n,r=e;if(lg(ag,r)&&(r="%"+(n=ag[r])[0]+"%"),lg(ig,r)){var i=ig[r];if(i===ng&&(i=og(r)),void 0===i&&!t)throw new Xm("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Km("intrinsic "+e+" does not exist!")},bg=function(e,t){if("string"!=typeof e||0===e.length)throw new Xm("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Xm('"allowMissing" argument must be a boolean');if(null===hg(/^%?[^%]*%?$/g,e))throw new Km("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=gg(e),r=n.length>0?n[0]:"",i=vg("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],ug(n,cg([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],p=pg(d,0,1),h=pg(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===h||"'"===h||"`"===h)&&p!==h)throw new Km("property names with quotes must have matching quotes");if("constructor"!==d&&u||(s=!0),lg(ig,o="%"+(r+="."+d)+"%"))a=ig[o];else if(null!=a){if(!(d in a)){if(!t)throw new Xm("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jm&&c+1>=n.length){var f=Jm(a,d);a=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:a[d]}else u=lg(a,d),a=a[d];u&&!s&&(ig[o]=a)}}return a},yg={exports:{}};!function(e){var t=Wm,n=bg,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(kS){s=null}e.exports=function(e){var n=o(t,i,arguments);if(a&&s){var r=a(n,"length");r.configurable&&s(n,"length",{value:1+l(0,e.length-(arguments.length-1))})}return n};var c=function(){return o(t,r,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(yg);var kg=bg,wg=yg.exports,xg=wg(kg("String.prototype.indexOf")),Eg=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),Cg=F(Eg),Sg="function"==typeof Map&&Map.prototype,_g=Object.getOwnPropertyDescriptor&&Sg?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,qg=Sg&&_g&&"function"==typeof _g.get?_g.get:null,Ag=Sg&&Map.prototype.forEach,Pg="function"==typeof Set&&Set.prototype,Tg=Object.getOwnPropertyDescriptor&&Pg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ig=Pg&&Tg&&"function"==typeof Tg.get?Tg.get:null,Mg=Pg&&Set.prototype.forEach,Ng="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Rg="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Og="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Lg=Boolean.prototype.valueOf,Dg=Object.prototype.toString,Fg=Function.prototype.toString,Hg=String.prototype.match,Ug=String.prototype.slice,jg=String.prototype.replace,Bg=String.prototype.toUpperCase,zg=String.prototype.toLowerCase,Vg=RegExp.prototype.test,Wg=Array.prototype.concat,Gg=Array.prototype.join,Kg=Array.prototype.slice,Yg=Math.floor,Xg="function"==typeof BigInt?BigInt.prototype.valueOf:null,Qg=Object.getOwnPropertySymbols,Jg="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?Symbol.prototype.toString:null,Zg="function"==typeof Symbol&&"object"===o(Symbol.iterator),$g="function"==typeof Symbol&&Symbol.toStringTag&&(o(Symbol.toStringTag)===Zg||"symbol")?Symbol.toStringTag:null,ev=Object.prototype.propertyIsEnumerable,tv=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function nv(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||Vg.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-Yg(-e):Yg(e);if(r!==e){var i=String(r),o=Ug.call(t,i.length+1);return jg.call(i,n,"$&_")+"."+jg.call(jg.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return jg.call(t,n,"$&_")}var rv=Cg,iv=rv.custom,ov=uv(iv)?iv:null;function av(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function sv(e){return jg.call(String(e),/"/g,"&quot;")}function lv(e){return!("[object Array]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}function cv(e){return!("[object RegExp]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}function uv(e){if(Zg)return e&&"object"===o(e)&&e instanceof Symbol;if("symbol"===o(e))return!0;if(!e||"object"!==o(e)||!Jg)return!1;try{return Jg.call(e),!0}catch(kS){}return!1}var dv=Object.prototype.hasOwnProperty||function(e){return e in this};function pv(e,t){return dv.call(e,t)}function hv(e){return Dg.call(e)}function fv(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function mv(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return mv(Ug.call(e,0,t.maxStringLength),t)+r}return av(jg.call(jg.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,gv),"single",t)}function gv(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Bg.call(t.toString(16))}function vv(e){return"Object("+e+")"}function bv(e){return e+" { ? }"}function yv(e,t,n,r){return e+" ("+t+") {"+(r?kv(n,r):Gg.call(n,", "))+"}"}function kv(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+Gg.call(e,","+n)+"\n"+t.prev}function wv(e,t){var n=lv(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=pv(e,i)?t(e[i],e):""}var o,a="function"==typeof Qg?Qg(e):[];if(Zg){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)pv(e,l)&&(n&&String(Number(l))===l&&l<e.length||Zg&&o["$"+l]instanceof Symbol||(Vg.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof Qg)for(var c=0;c<a.length;c++)ev.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}var xv=bg,Ev=function(e,t){var n=kg(e,!!t);return"function"==typeof n&&xg(e,".prototype.")>-1?wg(n):n},Cv=function e(t,n,r,i){var a=n||{};if(pv(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pv(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!pv(a,"customInspect")||a.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pv(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pv(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return mv(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var c=String(t);return l?nv(t,c):c}if("bigint"==typeof t){var u=String(t)+"n";return l?nv(t,u):u}var d=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=d&&d>0&&"object"===o(t))return lv(t)?"[Array]":"[Object]";var p=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Gg.call(Array(e.indent+1)," ")}return{base:n,prev:Gg.call(Array(t+1),n)}}(a,r);if(void 0===i)i=[];else if(fv(i,t)>=0)return"[Circular]";function h(t,n,o){if(n&&(i=Kg.call(i)).push(n),o){var s={depth:a.depth};return pv(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,r+1,i)}return e(t,a,r+1,i)}if("function"==typeof t&&!cv(t)){var f=function(e){if(e.name)return e.name;var t=Hg.call(Fg.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),m=wv(t,h);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(m.length>0?" { "+Gg.call(m,", ")+" }":"")}if(uv(t)){var g=Zg?jg.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Jg.call(t);return"object"!==o(t)||Zg?g:vv(g)}if(function(e){if(!e||"object"!==o(e))return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var v="<"+zg.call(String(t.nodeName)),b=t.attributes||[],y=0;y<b.length;y++)v+=" "+b[y].name+"="+av(sv(b[y].value),"double",a);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+zg.call(String(t.nodeName))+">"}if(lv(t)){if(0===t.length)return"[]";var k=wv(t,h);return p&&!function(e){for(var t=0;t<e.length;t++)if(fv(e[t],"\n")>=0)return!1;return!0}(k)?"["+kv(k,p)+"]":"[ "+Gg.call(k,", ")+" ]"}if(function(e){return!("[object Error]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}(t)){var w=wv(t,h);return"cause"in Error.prototype||!("cause"in t)||ev.call(t,"cause")?0===w.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Gg.call(w,", ")+" }":"{ ["+String(t)+"] "+Gg.call(Wg.call("[cause]: "+h(t.cause),w),", ")+" }"}if("object"===o(t)&&s){if(ov&&"function"==typeof t[ov]&&rv)return rv(t,{depth:d-r});if("symbol"!==s&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!qg||!e||"object"!==o(e))return!1;try{qg.call(e);try{Ig.call(e)}catch(v){return!0}return e instanceof Map}catch(kS){}return!1}(t)){var x=[];return Ag.call(t,(function(e,n){x.push(h(n,t,!0)+" => "+h(e,t))})),yv("Map",qg.call(t),x,p)}if(function(e){if(!Ig||!e||"object"!==o(e))return!1;try{Ig.call(e);try{qg.call(e)}catch(t){return!0}return e instanceof Set}catch(kS){}return!1}(t)){var E=[];return Mg.call(t,(function(e){E.push(h(e,t))})),yv("Set",Ig.call(t),E,p)}if(function(e){if(!Ng||!e||"object"!==o(e))return!1;try{Ng.call(e,Ng);try{Rg.call(e,Rg)}catch(v){return!0}return e instanceof WeakMap}catch(kS){}return!1}(t))return bv("WeakMap");if(function(e){if(!Rg||!e||"object"!==o(e))return!1;try{Rg.call(e,Rg);try{Ng.call(e,Ng)}catch(v){return!0}return e instanceof WeakSet}catch(kS){}return!1}(t))return bv("WeakSet");if(function(e){if(!Og||!e||"object"!==o(e))return!1;try{return Og.call(e),!0}catch(kS){}return!1}(t))return bv("WeakRef");if(function(e){return!("[object Number]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}(t))return vv(h(Number(t)));if(function(e){if(!e||"object"!==o(e)||!Xg)return!1;try{return Xg.call(e),!0}catch(kS){}return!1}(t))return vv(h(Xg.call(t)));if(function(e){return!("[object Boolean]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}(t))return vv(Lg.call(t));if(function(e){return!("[object String]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}(t))return vv(h(String(t)));if(!function(e){return!("[object Date]"!==hv(e)||$g&&"object"===o(e)&&$g in e)}(t)&&!cv(t)){var C=wv(t,h),S=tv?tv(t)===Object.prototype:t instanceof Object||t.constructor===Object,_=t instanceof Object?"":"null prototype",q=!S&&$g&&Object(t)===t&&$g in t?Ug.call(hv(t),8,-1):_?"Object":"",A=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(q||_?"["+Gg.call(Wg.call([],q||[],_||[]),": ")+"] ":"");return 0===C.length?A+"{}":p?A+"{"+kv(C,p)+"}":A+"{ "+Gg.call(C,", ")+" }"}return String(t)},Sv=xv("%TypeError%"),_v=xv("%WeakMap%",!0),qv=xv("%Map%",!0),Av=Ev("WeakMap.prototype.get",!0),Pv=Ev("WeakMap.prototype.set",!0),Tv=Ev("WeakMap.prototype.has",!0),Iv=Ev("Map.prototype.get",!0),Mv=Ev("Map.prototype.set",!0),Nv=Ev("Map.prototype.has",!0),Rv=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},Ov=String.prototype.replace,Lv=/%20/g,Dv="RFC3986",Fv={default:Dv,formatters:{RFC1738:function(e){return Ov.call(e,Lv,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Dv},Hv=Fv,Uv=Object.prototype.hasOwnProperty,jv=Array.isArray,Bv=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),zv=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},Vv={arrayToObject:zv,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"===o(u)&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(jv(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(kS){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var a=e;if("symbol"===o(e)?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",l=0;l<a.length;++l){var c=a.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===Hv.RFC1738&&(40===c||41===c)?s+=a.charAt(l):c<128?s+=Bv[c]:c<2048?s+=Bv[192|c>>6]+Bv[128|63&c]:c<55296||c>=57344?s+=Bv[224|c>>12]+Bv[128|c>>6&63]+Bv[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(l)),s+=Bv[240|c>>18]+Bv[128|c>>12&63]+Bv[128|c>>6&63]+Bv[128|63&c])}return s},isBuffer:function(e){return!(!e||"object"!==o(e))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(jv(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==o(n)){if(jv(t))t.push(n);else{if(!t||"object"!==o(t))return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!Uv.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==o(t))return[t].concat(n);var i=t;return jv(t)&&!jv(n)&&(i=zv(t,r)),jv(t)&&jv(n)?(n.forEach((function(n,i){if(Uv.call(t,i)){var a=t[i];a&&"object"===o(a)&&n&&"object"===o(n)?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var o=n[i];return Uv.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),i)}},Wv=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new Sv("Side channel does not contain "+Cv(e))},get:function(r){if(_v&&r&&("object"===o(r)||"function"==typeof r)){if(e)return Av(e,r)}else if(qv){if(t)return Iv(t,r)}else if(n)return function(e,t){var n=Rv(e,t);return n&&n.value}(n,r)},has:function(r){if(_v&&r&&("object"===o(r)||"function"==typeof r)){if(e)return Tv(e,r)}else if(qv){if(t)return Nv(t,r)}else if(n)return function(e,t){return!!Rv(e,t)}(n,r);return!1},set:function(r,i){_v&&r&&("object"===o(r)||"function"==typeof r)?(e||(e=new _v),Pv(e,r,i)):qv?(t||(t=new qv),Mv(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=Rv(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r},Gv=Vv,Kv=Fv,Yv=Object.prototype.hasOwnProperty,Xv={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Qv=Array.isArray,Jv=String.prototype.split,Zv=Array.prototype.push,$v=function(e,t){Zv.apply(e,Qv(t)?t:[t])},eb=Date.prototype.toISOString,tb=Kv.default,nb={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Gv.encode,encodeValuesOnly:!1,format:tb,formatter:Kv.formatters[tb],indices:!1,serializeDate:function(e){return eb.call(e)},skipNulls:!1,strictNullHandling:!1},rb={},ib=function e(t,n,r,i,a,s,l,c,u,d,p,h,f,m,g){for(var v,b=t,y=g,k=0,w=!1;void 0!==(y=y.get(rb))&&!w;){var x=y.get(t);if(k+=1,void 0!==x){if(x===k)throw new RangeError("Cyclic object value");w=!0}void 0===y.get(rb)&&(k=0)}if("function"==typeof l?b=l(n,b):b instanceof Date?b=d(b):"comma"===r&&Qv(b)&&(b=Gv.maybeMap(b,(function(e){return e instanceof Date?d(e):e}))),null===b){if(i)return s&&!f?s(n,nb.encoder,m,"key",p):n;b=""}if("string"==typeof(v=b)||"number"==typeof v||"boolean"==typeof v||"symbol"===o(v)||"bigint"==typeof v||Gv.isBuffer(b)){if(s){var E=f?n:s(n,nb.encoder,m,"key",p);if("comma"===r&&f){for(var C=Jv.call(String(b),","),S="",_=0;_<C.length;++_)S+=(0===_?"":",")+h(s(C[_],nb.encoder,m,"value",p));return[h(E)+(Qv(b)&&1===C.length?"[]":"")+"="+S]}return[h(E)+"="+h(s(b,nb.encoder,m,"value",p))]}return[h(n)+"="+h(String(b))]}var q,A=[];if(void 0===b)return A;if("comma"===r&&Qv(b))q=[{value:b.length>0?b.join(",")||null:void 0}];else if(Qv(l))q=l;else{var P=Object.keys(b);q=c?P.sort(c):P}for(var T="comma"===r&&Qv(b)&&1===b.length?n+"[]":n,I=0;I<q.length;++I){var M=q[I],N="object"===o(M)&&void 0!==M.value?M.value:b[M];if(!a||null!==N){var R=Qv(b)?"function"==typeof r?r(T,M):T:T+(u?"."+M:"["+M+"]");g.set(t,k);var O=Wv();O.set(rb,g),$v(A,e(N,R,r,i,a,s,l,c,u,d,p,h,f,m,O))}}return A},ob=Vv,ab=Object.prototype.hasOwnProperty,sb=Array.isArray,lb={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ob.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},cb=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},ub=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},db=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,l=[];if(s){if(!n.plainObjects&&ab.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var c=0;n.depth>0&&null!==(a=o.exec(i))&&c<n.depth;){if(c+=1,!n.plainObjects&&ab.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:ub(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=i:"__proto__"!==l&&(a[l]=i):a={0:i}}i=a}return i}(l,t,n,r)}},pb={formats:Fv,parse:function(e,t){var n=function(e){if(!e)return lb;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?lb.charset:e.charset;return{allowDots:void 0===e.allowDots?lb.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:lb.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:lb.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:lb.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:lb.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:lb.comma,decoder:"function"==typeof e.decoder?e.decoder:lb.decoder,delimiter:"string"==typeof e.delimiter||ob.isRegExp(e.delimiter)?e.delimiter:lb.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:lb.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:lb.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:lb.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:lb.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:lb.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,o),s=-1,l=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?l="utf-8":"utf8=%26%2310003%3B"===a[n]&&(l="iso-8859-1"),s=n,n=a.length);for(n=0;n<a.length;++n)if(n!==s){var c,u,d=a[n],p=d.indexOf("]="),h=-1===p?d.indexOf("="):p+1;-1===h?(c=t.decoder(d,lb.decoder,l,"key"),u=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,h),lb.decoder,l,"key"),u=ob.maybeMap(ub(d.slice(h+1),t),(function(e){return t.decoder(e,lb.decoder,l,"value")}))),u&&t.interpretNumericEntities&&"iso-8859-1"===l&&(u=cb(u)),d.indexOf("[]=")>-1&&(u=sb(u)?[u]:u),ab.call(r,c)?r[c]=ob.combine(r[c],u):r[c]=u}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],l=db(s,r[s],n,"string"==typeof e);i=ob.merge(i,l,n)}return!0===n.allowSparse?i:ob.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return nb;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||nb.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Kv.default;if(void 0!==e.format){if(!Yv.call(Kv.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Kv.formatters[n],i=nb.filter;return("function"==typeof e.filter||Qv(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:nb.addQueryPrefix,allowDots:void 0===e.allowDots?nb.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:nb.charsetSentinel,delimiter:void 0===e.delimiter?nb.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:nb.encode,encoder:"function"==typeof e.encoder?e.encoder:nb.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:nb.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:nb.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:nb.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:nb.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):Qv(i.filter)&&(n=i.filter);var a,s=[];if("object"!==o(r)||null===r)return"";a=t&&t.arrayFormat in Xv?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var l=Xv[a];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=Wv(),u=0;u<n.length;++u){var d=n[u];i.skipNulls&&null===r[d]||$v(s,ib(r[d],d,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var p=s.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""}};function hb(e){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fb=function(e){return null!==e&&"object"===hb(e)};function mb(e){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gb=fb,vb=bb;function bb(e){if(e)return function(e){for(var t in bb.prototype)Object.prototype.hasOwnProperty.call(bb.prototype,t)&&(e[t]=bb.prototype[t]);return e}(e)}bb.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},bb.prototype.parse=function(e){return this._parser=e,this},bb.prototype.responseType=function(e){return this._responseType=e,this},bb.prototype.serialize=function(e){return this._serializer=e,this},bb.prototype.timeout=function(e){if(!e||"object"!==mb(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},bb.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var yb=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),kb=new Set([408,413,429,500,502,503,504,521,522,524]);bb.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(t&&t.status&&kb.has(t.status))return!0;if(e){if(e.code&&yb.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},bb.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},bb.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),r.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},bb.prototype.catch=function(e){return this.then(void 0,e)},bb.prototype.use=function(e){return e(this),this},bb.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},bb.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},bb.prototype.get=function(e){return this._header[e.toLowerCase()]},bb.prototype.getHeader=bb.prototype.get,bb.prototype.set=function(e,t){if(gb(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},bb.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},bb.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(gb(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),this._getFormData().append(e,t),this},bb.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},bb.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},bb.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},bb.prototype.redirects=function(e){return this._maxRedirects=e,this},bb.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},bb.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},bb.prototype.send=function(e){var t=gb(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&gb(this._data))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._data[r]=e[r]);else"string"==typeof e?(n||this.type("form"),(n=this._header["content-type"])&&(n=n.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},bb.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},bb.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},bb.prototype._appendQueryString=function(){console.warn("Unsupported")},bb.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error("".concat(e+t,"ms exceeded"));r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},bb.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var wb={};function xb(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Eb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eb(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}wb.type=function(e){return e.split(/ *; */).shift()},wb.params=function(e){var t,n={},r=xb(e.split(/ *; */));try{for(r.s();!(t=r.n()).done;){var i=t.value.split(/ *= */),o=i.shift(),a=i.shift();o&&a&&(n[o]=a)}}catch(s){r.e(s)}finally{r.f()}return n},wb.parseLinks=function(e){var t,n={},r=xb(e.split(/ *, */));try{for(r.s();!(t=r.n()).done;){var i=t.value.split(/ *; */),o=i[0].slice(1,-1);n[i[1].split(/ *= */)[1].slice(1,-1)]=o}}catch(a){r.e(a)}finally{r.f()}return n},wb.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e};var Cb=wb,Sb=_b;function _b(e){if(e)return function(e){for(var t in _b.prototype)Object.prototype.hasOwnProperty.call(_b.prototype,t)&&(e[t]=_b.prototype[t]);return e}(e)}function qb(e){return function(e){if(Array.isArray(e))return Ab(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pb(){this._defaults=[]}_b.prototype.get=function(e){return this.header[e.toLowerCase()]},_b.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=Cb.type(t);var n=Cb.params(t);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{e.link&&(this.links=Cb.parseLinks(e.link))}catch(i){}},_b.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){Pb.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}})),Pb.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,qb(t.args))}))};var Tb=Pb;!function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;"undefined"!=typeof window?r=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self;var i=Em.exports,o=Cm,a=pb,s=vb,l=fb,c=Sb,u=Tb;function d(){}e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)};var p=t=e.exports;t.Request=y,p.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!==r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("Browser-only version of superagent could not find XHR")};var h="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!l(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&m(t,n,e[n]);return t.join("&")}function m(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){m(e,t,n)}));else if(l(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&m(e,"".concat(t,"[").concat(r,"]"),n[r]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function g(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)-1===(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function v(e){return/[/+]json($|[^-\w])/i.test(e)}function b(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),a={},s=0,l=o.length;s<l;++s)-1!==(t=(n=o[s]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=h(n.slice(t+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function y(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new b(n)}catch(i){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=i,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(i){e=i}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function k(e,t,n){var r=p("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}p.serializeObject=f,p.parseString=g,p.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":a.stringify,"application/json":o},p.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse},c(b.prototype),b.prototype._parseBody=function(e){var t=p.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&v(this.type)&&(t=p.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},b.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},p.Response=b,i(y.prototype),s(y.prototype),y.prototype.type=function(e){return this.set("Content-Type",p.types[e]||e),this},y.prototype.accept=function(e){return this.set("Accept",p.types[e]||e),this},y.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===n(t)&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var i=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,i)},y.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},y.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},y.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.ca=y.prototype.agent,y.prototype.buffer=y.prototype.ca,y.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},y.prototype.pipe=y.prototype.write,y.prototype._isHost=function(e){return e&&"object"===n(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},y.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||d,this._finalizeQueryString(),this._end()},y.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},y.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=p.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var r;try{r=t.status}catch(i){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(s){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(l){return this.callback(l)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||p.serialize[i?i.split(";")[0]:""];!o&&v(i)&&(o=p.serialize["application/json"]),o&&(n=o(n))}for(var a in this.header)null!==this.header[a]&&Object.prototype.hasOwnProperty.call(this.header,a)&&t.setRequestHeader(a,this.header[a]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===n?null:n)},p.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){u.prototype[e.toLowerCase()]=function(t,n){var r=new p.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),u.prototype.del=u.prototype.delete,p.get=function(e,t,n){var r=p("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},p.head=function(e,t,n){var r=p("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},p.options=function(e,t,n){var r=p("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},p.del=k,p.delete=k,p.patch=function(e,t,n){var r=p("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},p.post=function(e,t,n){var r=p("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},p.put=function(e,t,n){var r=p("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}}(xm,xm.exports);var Ib=xm.exports;function Mb(e,t,n,r,i){return function(r){return r({type:Fn.UPLOAD_FILES_REQUEST}),Ib.post(Oe.getFilesRoute()).set(Oe.getOptions({method:"post"}).headers).field("channel_id",n).field("client_ids",i).attach("files",e,t).accept("application/json")}}function Nb(e,t,n,r,i,o){var a=o.err,s=o.res;return function(e,t){if(a){var o;o=s&&s.body&&s.body.id?s.body:0!==a.status&&a.status?{message:_e("channel_loader.unknown_error","We received an unexpected status code from the server.")+" ("+a.status+")"}:{message:_e("file_upload.generic_error","There was a problem uploading your files.")},Hn(a,e,t);var l={type:Fn.UPLOAD_FILES_FAILURE,clientIds:[i],channelId:n,rootId:r,error:a};return e(B([l,Un(a)])),{error:o}}var c=s.body.file_infos.map((function(e,t){return C(C({},e),{},{clientId:s.body.client_ids[t]})}));return e(B([{type:Fn.RECEIVED_UPLOAD_FILES,data:c,channelId:n,rootId:r},{type:Fn.UPLOAD_FILES_SUCCESS}])),{data:s.body}}}var Rb=function(){function e(t){l(this,e),S(this,"action",void 0),S(this,"timer",void 0),this.action=t,this.timer=-1,this.fire=this.fire.bind(this)}return u(e,[{key:"fire",value:function(){this.action(),this.timer=-1}},{key:"fireAfter",value:function(e){this.timer>=0&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.fire,e)}},{key:"cancel",value:function(){window.clearTimeout(this.timer)}}]),e}(),Ob="mqik-f0b05e65",Lb="mqik-eb5d77c1",Db=U({limited:{id:ce("file_upload.limited"),defaultMessage:"Uploads limited to {count, number} files maximum. Please use additional posts for more files."},filesAbove:{id:ce("file_upload.filesAbove"),defaultMessage:"Files above {max}MB could not be uploaded: {filenames}"},fileAbove:{id:ce("file_upload.fileAbove"),defaultMessage:"File above {max}MB could not be uploaded: {filename}"},zeroBytesFiles:{id:ce("file_upload.zeroBytesFiles"),defaultMessage:"You are uploading empty files: {filenames}"},zeroBytesFile:{id:ce("file_upload.zeroBytesFile"),defaultMessage:"You are uploading an empty file: {filename}"},pasted:{id:ce("file_upload.pasted"),defaultMessage:"Image Pasted at "},uploadFile:{id:ce("file_upload.upload_files"),defaultMessage:"Upload files"}}),Fb=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"fileUploadSuccess",(function(e,t,n){if(e){r.props.onFileUpload(e.file_infos,e.client_ids,t,n);for(var i=Object.assign({},r.state.requests),o=0;o<e.client_ids.length;o++)Reflect.deleteProperty(i,e.client_ids[o]);r.setState({requests:i})}})),S(m(r),"fileUploadFail",(function(e,t,n,i){r.props.onUploadError(e,t,n,i)})),S(m(r),"pluginUploadFiles",(function(e){r.props.onUploadError(null),r.uploadFiles(e)})),S(m(r),"checkPluginHooksAndUploadFiles",(function(e){r.props.onUploadError(null);var t,n=Array.from(e).sort((function(e,t){return e.name.localeCompare(t.name,r.props.locale,{numeric:!0})})),i=v(r.props.pluginFilesWillUploadHooks);try{for(i.s();!(t=i.n()).done;){var o=t.value.hook(n,r.pluginUploadFiles);o.message&&r.props.onUploadError(o.message),n=o.files}}catch(a){i.e(a)}finally{i.f()}n&&r.uploadFiles(n)})),S(m(r),"uploadFiles",(function(e){for(var t=r.props,n=t.channelId,i=t.rootId,o=Se.MAX_UPLOAD_FILES-r.props.fileCount,a=0,s=[],l=[],c=[],u=function(t){if(e[t].size>r.props.maxFileSize)return s.push(e[t]),"continue";0===e[t].size&&l.push(e[t]);var o=jn(),u=r.props.actions.uploadFile(e[t],e[t].name,n,i,o);u.on("progress",(function(n){r.props.onUploadProgress({clientId:o,name:e[t].name,percent:n.percent,type:e[t].type})})),u.end((function(a,s){var l=r.props.actions.handleFileUploadEnd(e[t],e[t].name,n,i,o,{err:a,res:s}),c=l.error,u=l.data;c?r.fileUploadFail(c,o,n,i):u&&r.fileUploadSuccess(u,n,i)})),r.setState({requests:C(C({},r.state.requests),{},S({},o,u))}),c.push(o),a+=1},d=0;d<e.length&&a<o;d++)u(d);r.props.onUploadStart(c,n);var p=r.props.intl.formatMessage,h=[];if(e.length>o&&h.push(p(Db.limited,{count:Se.MAX_UPLOAD_FILES})),s.length>1){var f=s.map((function(e){return e.name})).join(", ");h.push(p(Db.filesAbove,{max:r.props.maxFileSize/1048576,filenames:f}))}else s.length>0&&h.push(p(Db.fileAbove,{max:r.props.maxFileSize/1048576,filename:s[0].name}));if(l.length>1){var m=l.map((function(e){return e.name})).join(", ");h.push(p(Db.zeroBytesFiles,{filenames:m}))}else l.length>0&&h.push(p(Db.zeroBytesFile,{filename:l[0].name}));h.length>0&&r.props.onUploadError(h.join(", "))})),S(m(r),"handleChange",(function(e){e.target.files.length>0&&(r.checkPluginHooksAndUploadFiles(e.target.files),Bn(e.target)),r.props.onFileUploadChange()})),S(m(r),"handleDrop",(function(e){if(r.props.canUploadFiles){r.props.onUploadError(null);var t=e.dataTransfer.items||[],n=e.dataTransfer.files,i=[];Array.from(n).forEach((function(e,n){var r=t[n];r&&r.webkitGetAsEntry&&(null===r.webkitGetAsEntry()||r.webkitGetAsEntry().isDirectory)||i.push(e)}));var o=e.dataTransfer.types;if(o){if(zn(e.dataTransfer))return;if(o.includes&&!o.includes("Files"))return;if(o.contains&&!o.contains("Files"))return}0!==i.length?(i.length&&r.checkPluginHooksAndUploadFiles(i),r.props.onFileUploadChange()):r.props.onUploadError(_e("file_upload.drag_folder","Folders cannot be uploaded. Please drag all files separately."))}else r.props.onUploadError(_e("file_upload.disabled","File attachments are disabled."))})),S(m(r),"registerDragEvents",(function(e,t){var n=m(r),i=document.querySelector(t),o=new Rb((function(){i&&i.classList.add("u3-hidden")})),a={};a=r.props.canUploadFiles?{enter:function(e){var t=e.detail.dataTransfer;!zn(t)&&Gn(t)&&i&&i.classList.remove("u3-hidden")},leave:function(e){var t=e.detail.dataTransfer;!zn(t)&&Gn(t)&&i&&i.classList.add("u3-hidden"),o.cancel()},over:function(){o.fireAfter(500)},drop:function(e){i&&i.classList.add("u3-hidden"),o.cancel(),n.handleDrop(e.detail)}}:{drop:function(e){n.handleDrop(e.detail)}},r.unbindDragsterEvents=function(e,t){var n=function(){},r={enter:n,leave:n,over:n,drop:n},i=Object.assign(r,t),o=document.querySelector(e);if(!o)return n;var a=!1,s=!1,l=function(e){if(a)s=!0;else{a=!0;var t=new CustomEvent("dragster:enter",{detail:e});o.dispatchEvent(t),e.preventDefault()}},c=function(e){if(s?s=!1:a&&(a=!1),!a&&!s){var t=new CustomEvent("dragster:leave",{detail:e});o.dispatchEvent(t)}e.preventDefault()},u=function(e){var t=new CustomEvent("dragster:over",{detail:e});o.dispatchEvent(t),e.preventDefault()},d=function(e){if(s?s=!1:a&&(a=!1),!a&&!s){var t=new CustomEvent("dragster:drop",{detail:e});o.dispatchEvent(t)}e.preventDefault()};return o.addEventListener("dragenter",l),o.addEventListener("dragleave",c),o.addEventListener("dragover",u),o.addEventListener("drop",d),o.addEventListener("dragster:enter",i.enter),o.addEventListener("dragster:leave",i.leave),o.addEventListener("dragster:over",i.over),o.addEventListener("dragster:drop",i.drop),function(){o.removeEventListener("dragenter",l),o.removeEventListener("dragleave",c),o.removeEventListener("dragover",u),o.removeEventListener("drop",d),o.removeEventListener("dragster:enter",i.enter),o.removeEventListener("dragster:leave",i.leave),o.removeEventListener("dragster:over",i.over),o.removeEventListener("dragster:drop",i.drop)}}(e,a)})),S(m(r),"containsEventTarget",(function(e,t){return e&&e.contains(t)})),S(m(r),"pasteUpload",(function(e){var t=r.props.intl.formatMessage;if(e.clipboardData&&e.clipboardData.items&&!dc(e.clipboardData)){var n=r.props.getTarget(),i=_.findDOMNode(n);if(r.containsEventTarget(i,e.target)){r.props.onUploadError(null);for(var o=[],a=0;a<e.clipboardData.items.length;a++){var s=e.clipboardData.items[a];"file"===s.kind&&o.push(s)}if(o&&o.length>0){if(!r.props.canUploadFiles)return void r.props.onUploadError(_e("file_upload.disabled","File attachments are disabled."));e.preventDefault();for(var l=[],c=0;c<o.length;c++){var u=o[c].getAsFile();if(u){var d=new Date,p=d.getHours();p=p<10?"0".concat(p):"".concat(p);var h=d.getMinutes();h=h<10?"0".concat(h):"".concat(h);var f="";u.name?u.name.includes(".")&&(f=u.name.substr(u.name.lastIndexOf("."))):o[c].type.includes("/")&&(f="."+o[c].type.split("/")[1].toLowerCase());var m=t(Db.pasted)+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+" "+p+"-"+h+f,g=new Blob([u],{type:u.type});g.name=m,l.push(g)}}l.length>0&&(r.checkPluginHooksAndUploadFiles(l),r.props.onFileUploadChange())}}}})),S(m(r),"keyUpload",(function(e){if(ht(e)&&Ce(e,Se.KeyCodes.U)){if(e.preventDefault(),!r.props.canUploadFiles)return void r.props.onUploadError(_e("file_upload.disabled","File attachments are disabled."));var t="post"===r.props.postType&&"post_textbox"===document.activeElement.id,n="comment"===r.props.postType&&"reply_textbox"===document.activeElement.id;(t||n)&&(r.fileInput.current.focus(),r.fileInput.current.click())}})),S(m(r),"cancelUpload",(function(e){var t=Object.assign({},r.state.requests),n=t[e];n&&(n.abort(),Reflect.deleteProperty(t,e),r.setState({requests:t}))})),S(m(r),"handleMaxUploadReached",(function(e){e&&e.preventDefault(),(0,r.props.onUploadError)((0,r.props.intl.formatMessage)(Db.limited,{count:Se.MAX_UPLOAD_FILES}))})),S(m(r),"toggleMenu",(function(e){r.setState({menuOpen:e})})),S(m(r),"handleLocalFileUploaded",(function(e){Se.MAX_UPLOAD_FILES-r.props.fileCount>0?r.props.onClick&&r.props.onClick():r.handleMaxUploadReached(e),r.setState({menuOpen:!1})})),S(m(r),"simulateInputClick",(function(e){e.preventDefault(),e.stopPropagation(),r.fileInput.current.click()})),r.state={requests:{},menuOpen:!1},r.fileInput=b.createRef(),r}return u(n,[{key:"componentDidMount",value:function(){"post"===this.props.postType?this.registerDragEvents(".row.main",".center-file-overlay"):"comment"===this.props.postType&&this.registerDragEvents(".post-right__container",".right-file-overlay"),document.addEventListener("paste",this.pasteUpload),document.addEventListener("keydown",this.keyUpload)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("paste",this.pasteUpload),document.removeEventListener("keydown",this.keyUpload),this.unbindDragsterEvents&&this.unbindDragsterEvents()}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=!0;Vn()&&(t=!1);var n="";Wn()&&(n="image/*");var r,i=Se.MAX_UPLOAD_FILES-this.props.fileCount,o=e({id:"accessibility.button.attachment",defaultMessage:"attachment"});return r=0===this.props.pluginFileUploadMethods.length?y(p.exports.Fragment,{children:[f("button",{type:"button",id:"fileUploadButton","aria-label":o,className:w(Lb,"style--none post-action icon icon--attachment"),onClick:this.simulateInputClick,onTouchEnd:this.simulateInputClick,children:f(lm,{className:"u3-w-6 u3-h-6 u3-text-primary hover:u3-text-secondary"})}),f("input",{id:"fileUploadInput",tabIndex:-1,"aria-label":e(Db.uploadFile),ref:this.fileInput,type:"file",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:n})]}):f("div",{children:f("input",{tabIndex:-1,"aria-label":e(Db.uploadFile),ref:this.fileInput,type:"file",className:"file-attachment-menu-item-input",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:n})}),this.props.canUploadFiles||(r=null),f("div",{className:w(Ob,"file-upload-container","style--none",{"btn-file__disabled":i<=0}),children:r})}}]),n}(p.exports.PureComponent);S(Fb,"propTypes",{channelId:q.string.isRequired,rootId:q.string,fileCount:q.number.isRequired,getTarget:q.func.isRequired,intl:$s.isRequired,locale:q.string.isRequired,onClick:q.func,onFileUpload:q.func,onFileUploadChange:q.func,onUploadError:q.func,onUploadStart:q.func,postType:q.string,maxFileSize:q.number,canUploadFiles:q.bool.isRequired,pluginFileUploadMethods:q.arrayOf(q.object),pluginFilesWillUploadHooks:q.arrayOf(q.object),onUploadProgress:q.func.isRequired,actions:q.shape({uploadFile:q.func.isRequired,handleFileUploadEnd:q.func.isRequired}).isRequired}),S(Fb,"defaultProps",{pluginFileUploadMethods:[],pluginFilesWillUploadHooks:[]});var Hb=I(Fb,{forwardRef:!0});Hb.displayName="injectIntl(FileUpload)";var Ub=g((function(e){var t=be(e);return{maxFileSize:parseInt(t.MaxFileSize,10),canUploadFiles:Us(t),locale:Kn(e),pluginFileUploadMethods:e.plugins.components.FileUploadMethod,pluginFilesWillUploadHooks:e.plugins.components.FilesWillUploadHook}}),(function(e){return{actions:P({uploadFile:Mb,handleFileUploadEnd:Nb},e)}}),null,{forwardRef:!0})(Hb),jb=b.forwardRef((function(e,t){var n=e.component,i=e.title,o=i.id,s=i.defaultMessage,l=i.values,c=e.className,u=a(e,r),d=j().formatMessage;return f("span",C(C({className:w("u3-inline-block",c)},u),{},{ref:t,title:d({id:o,defaultMessage:s},l),children:n}))}));jb.displayName="LocalizedIcon";var Bb=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"renderSlashCommandError",(function(){if(!e.props.submittedMessage)return e.props.error.message;var t=e.props.submittedMessage.split(" ")[0];return y(b.Fragment,{children:[f(E,{id:"message_submit_error.invalidCommand",defaultMessage:"Command with a trigger of ''{command}'' not found. ",values:{command:t}}),f("a",{href:"#",onClick:e.props.handleSubmit,children:f(E,{id:"message_submit_error.sendAsMessageLink",defaultMessage:"Click here to send as a message."})})]})})),e}return u(n,[{key:"render",value:function(){var e=this.props.error;if(!e)return null;var t=e.message;return Yn(e)&&(t=this.renderSlashCommandError()),f("div",{className:"has-error",children:f("label",{className:"control-label",children:t})})}}]),n}(b.PureComponent),zb={postCreateForm:"mqik-dc323ff4",postCreateMain:"mqik-3ca5ac62",postCreateTextbox:"mqik-82fe072f",postCreateActions:"mqik-243bef8e",sendButtonClass:"mqik-629e5f8f",sendButtonActive:"mqik-2a364c18",sendButtonDisabled:"mqik-2df3cc0c",emojiBtn:"mqik-0b0c2b5c",emojiBtnActive:"mqik-15140fd0",emojiIcon:"mqik-803861b0",customReadOnlyText:"mqik-eaeeabbb",createPostComplex:"mqik-0f628631"},Vb=Se.KeyCodes;function Wb(e){return e.replace(/\s*$/,"")}var Gb=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"lastBlurAt",void 0),S(m(r),"lastChannelSwitchAt",void 0),S(m(r),"draftsForChannel",void 0),S(m(r),"lastOrientation",void 0),S(m(r),"saveDraftFrame",void 0),S(m(r),"topDiv",void 0),S(m(r),"textboxRef",void 0),S(m(r),"fileUploadRef",void 0),S(m(r),"createPostControlsRef",void 0),S(m(r),"setShowPreview",(function(e){r.props.actions.setShowPreview(e)})),S(m(r),"setOrientationListeners",(function(){window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.addEventListener("change",r.onOrientationChange):"onorientationchange"in window&&window.addEventListener("orientationchange",r.onOrientationChange)})),S(m(r),"removeOrientationListeners",(function(){window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.removeEventListener("change",r.onOrientationChange):"onorientationchange"in window&&window.removeEventListener("orientationchange",r.onOrientationChange)})),S(m(r),"onOrientationChange",(function(){if(Qn()){var e="portrait";window.orientation&&(e=90===Math.abs(window.orientation)?"landscape":"portrait"),window.screen.orientation&&(e=window.screen.orientation.type.split("-")[0]),r.lastOrientation&&e!==r.lastOrientation&&"post_textbox"===(document.activeElement||{}).id&&r.textboxRef.current.blur(),r.lastOrientation=e}})),S(m(r),"handlePostError",(function(e){r.setState({postError:e})})),S(m(r),"toggleEmojiPicker",(function(e){e.preventDefault(),r.setState({showEmojiPicker:!r.state.showEmojiPicker})})),S(m(r),"hideEmojiPicker",(function(){r.handleEmojiClose()})),S(m(r),"doSubmit",function(){var e=x(k().mark((function e(t){var n,i,o,a,s,l,c,u,d,p;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props.currentChannel.id,t&&t.preventDefault(),!(r.props.draft.uploadsInProgress.length>0||r.state.submitting)){e.next=4;break}return e.abrupt("return");case 4:if(i=r.state.message,o=!0,(a=r.state.serverError)&&Yn(a)&&a.submittedMessage===i&&(i=a.submittedMessage,o=!0),(s={}).file_ids=[],s.message=i,0!==s.message.trim().length||0!==r.props.draft.fileInfos.length){e.next=13;break}return e.abrupt("return");case 13:if(!r.state.postError){e.next=17;break}return r.setState({errorClass:"animation--highlight"}),setTimeout((function(){r.setState({errorClass:null})}),Se.ANIMATION_TIMEOUT),e.abrupt("return");case 17:if(r.props.actions.addMessageIntoHistory(r.state.message),r.setState({submitting:!0,serverError:null}),l=Jn.exec(s.message),0!==s.message.indexOf("/")||o){e.next=31;break}return r.setState({message:"",postError:null}),(c={}).channel_id=n,c.team_id=r.props.currentTeamId,e.next=27,r.props.actions.runSlashCommandWillBePostedHooks(s.message,c);case 27:(u=e.sent).error?r.setState({serverError:C(C({},u.error),{},{submittedMessage:s.message}),message:s.message}):!u.data.message&&u.data.args,e.next=41;break;case 31:if(!l||!r.props.emojiMap.has(l[2])){e.next=36;break}r.sendReaction(l),r.setState({message:""}),e.next=41;break;case 36:return e.next=38,r.sendMessage(s);case 38:d=e.sent,d.error||r.setState({message:""});case 41:r.setState({submitting:!1,postError:null}),cancelAnimationFrame(r.saveDraftFrame),r.props.actions.setDraft(Xn.DRAFT+n,null),r.draftsForChannel[n]=null,150,p=Date.now()-r.lastBlurAt<150,r.focusTextbox(p);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"handleNotifyAllConfirmation",(function(e){r.hideNotifyAllModal(),r.doSubmit(e)})),S(m(r),"hideNotifyAllModal",(function(){r.setState({showConfirmModal:!1})})),S(m(r),"showNotifyAllModal",(function(){r.setState({showConfirmModal:!0})})),S(m(r),"getStatusFromSlashCommand",(function(){var e=r.state.message.split(" ");return e.length>0?e[0].substring(1):""})),S(m(r),"isStatusSlashCommand",(function(e){return"online"===e||"away"===e||"dnd"===e||"offline"===e})),S(m(r),"handleSubmit",function(){var e=x(k().mark((function e(t){var n,i,o,a,s,l,c,u,d,p,h,m,g,v,b,y;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),Zn()&&r.focusTextbox(!0),n=r.props,i=n.currentChannel,o=n.userIsOutOfOffice,n.channelMemberCountsByGroup,a=n.currentChannelMembersCount,s=r.props.enableConfirmNotificationsToChannel&&r.props.useChannelMentions,l=0,c=0,u=[],d=!$n(r.state.message),!(s&&a>Se.NOTIFY_ALL_MEMBERS)||d){e.next=17;break}if(l=a-1,u=["@all","@group"],!r.props.isTimezoneEnabled){e.next=17;break}return e.next=14,r.props.actions.getChannelTimezones(r.props.currentChannel.id);case 14:p=e.sent,h=p.data,c=h?h.length:0;case 17:if(!(l>0)){e.next=21;break}return r.setState({channelTimezoneCount:c,memberNotifyCount:l,mentions:u}),r.showNotifyAllModal(),e.abrupt("return");case 21:if(m=r.getStatusFromSlashCommand(),!o||!r.isStatusSlashCommand(m)){e.next=27;break}return g={ModalId:de.RESET_STATUS,dialogType:f("div",{children:"ResetStatusModal"}),dialogProps:{newStatus:m}},r.props.actions.openModal(g),r.setState({message:""}),e.abrupt("return");case 27:if("/header"!==Wb(r.state.message)){e.next=32;break}return v={modalId:de.EDIT_CHANNEL_HEADER,dialogType:f("div",{children:"EditChannelHeaderModal"}),dialogProps:{channel:i}},r.props.actions.openModal(v),r.setState({message:""}),e.abrupt("return");case 32:if((b=i.type===Se.DM_CHANNEL||i.type===Se.GM_CHANNEL)||"/purpose"!==Wb(r.state.message)){e.next=38;break}return y={modalId:de.EDIT_CHANNEL_PURPOSE,dialogType:f("div",{children:"EditChannelPurposeModal"}),dialogProps:{channel:i}},r.props.actions.openModal(y),r.setState({message:""}),e.abrupt("return");case 38:if(b||"/rename"!==Wb(r.state.message)){e.next=42;break}return ba(i),r.setState({message:""}),e.abrupt("return");case 42:return e.next=44,r.doSubmit(t);case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"sendMessage",function(){var e=x(k().mark((function e(t){var n,i,o,a,s,l,c,u,d,p;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,i=n.actions,o=n.currentChannel,a=n.currentUserId,s=n.draft,l=n.useChannelMentions,(c=t).channel_id=o.id,u=rr(),d=a,c.pending_post_id="".concat(d,":").concat(u),c.user_id=d,c.create_at=u,c.parent_id=r.state.parentId,c.metadata={},c.props={disable_group_highlight:!0},!l&&$n(c.message,{checkAllMentions:!0})&&(c.props.mentionHighlightDisabled=!0),e.next=14,i.runMessageWillBePostedHooks(c);case 14:if(!(p=e.sent).error){e.next=18;break}return r.setState({serverError:p.error,submitting:!1}),e.abrupt("return",p);case 18:return c=p.data,i.onSubmitPost(c,s.fileInfos),i.scrollPostListToBottom(),r.setState({submitting:!1}),e.abrupt("return",{data:!0});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"focusTextbox",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.props.readOnlyChannel||!r.props.canPost;r.textboxRef.current&&t?r.textboxRef.current.blur():!r.textboxRef.current||!e&&le()||r.textboxRef.current.focus()})),S(m(r),"postMsgKeyPress",(function(e){var t=r.props,n=t.ctrlSend,i=t.codeBlockOnCtrlEnter,o=ut(e,r.state.message,n,i,Date.now(),r.lastChannelSwitchAt,r.state.caretPosition),a=o.allowSending,s=o.withClosedCodeBlock,l=o.ignoreKeyPress,c=o.message;if(l)return e.preventDefault(),void e.stopPropagation();a&&(e.persist&&e.persist(),r.textboxRef.current&&r.textboxRef.current.blur(),s&&c?r.setState({message:c},(function(){return r.handleSubmit(e)})):r.handleSubmit(e),r.setShowPreview(!1)),r.emitTypingEvent()})),S(m(r),"emitTypingEvent",(function(){var e=r.props.currentChannel.id;ya(e,"")})),S(m(r),"handleChange",(function(e){var t=e.target.value,n=r.props.currentChannel.id,i=r.state.serverError;Yn(i)&&(i=null),r.setState({message:t,serverError:i});var o=C(C({},r.props.draft),{},{message:t});cancelAnimationFrame(r.saveDraftFrame),r.saveDraftFrame=requestAnimationFrame((function(){r.props.actions.setDraft(Xn.DRAFT+n,o)})),r.draftsForChannel[n]=o})),S(m(r),"pasteHandler",(function(e){if(e.clipboardData&&e.clipboardData.items&&"post_textbox"===e.target.id){var t=dc(e.clipboardData);if(t){e.preventDefault();var n=r.state.message,i=n.length,o=(n=hc(t,n.trim(),r.state.caretPosition)).length-(i-r.state.caretPosition);r.setMessageAndCaretPostion(n,o)}}})),S(m(r),"handleFileUploadChange",(function(){r.focusTextbox()})),S(m(r),"handleUploadStart",(function(e,t){var n=[].concat(i(r.props.draft.uploadsInProgress),i(e)),o=C(C({},r.props.draft),{},{uploadsInProgress:n});r.props.actions.setDraft(Xn.DRAFT+t,o),r.draftsForChannel[t]=o,r.focusTextbox()})),S(m(r),"handleUploadProgress",(function(e){var t=e.clientId,n=e.name,i=e.percent,o=e.type,a=C(C({},r.state.uploadsProgressPercent),{},S({},t,{percent:i,name:n,type:o}));r.setState({uploadsProgressPercent:a})})),S(m(r),"handleFileUploadComplete",(function(e,t,n){for(var i=C({},r.draftsForChannel[n]),o=0;o<t.length;o++)i.uploadsInProgress&&function(){var e=i.uploadsInProgress.indexOf(t[o]);-1!==e&&(i.uploadsInProgress=i.uploadsInProgress.filter((function(t,n){return e!==n})))}();i.fileInfos&&(i.fileInfos=js(i.fileInfos.concat(e),r.props.locale)),r.draftsForChannel[n]=i,r.props.actions.setDraft(Xn.DRAFT+n,i)})),S(m(r),"handleUploadError",(function(e,t,n){var i=C({},r.draftsForChannel[n]),o=e;if("string"==typeof e&&(o=new Error(e)),-1!==t&&i.uploadsInProgress){var a=i.uploadsInProgress.indexOf(t);if(-1!==a){var s=i.uploadsInProgress.filter((function(e,t){return a!==t})),l=C(C({},i),{},{uploadsInProgress:s});r.props.actions.setDraft(Xn.DRAFT+n,l),r.draftsForChannel[n]=l}}r.setState({serverError:o})})),S(m(r),"removePreview",(function(e){var t={},n=C({},r.props.draft),i=r.props.currentChannel.id;r.setState({serverError:null});var o=n.fileInfos.findIndex((function(t){return t.id===e}));if(-1===o){if(-1!==(o=n.uploadsInProgress.indexOf(e))){var a=n.uploadsInProgress.filter((function(e,t){return o!==t}));t=C(C({},n),{},{uploadsInProgress:a}),r.fileUploadRef.current&&r.fileUploadRef.current&&r.fileUploadRef.current.cancelUpload(e)}}else{var s=n.fileInfos.filter((function(e,t){return o!==t}));t=C(C({},n),{},{fileInfos:s})}r.props.actions.setDraft(Xn.DRAFT+i,t),r.draftsForChannel[i]=t,r.handleFileUploadChange()})),S(m(r),"focusTextboxIfNecessary",(function(e){r.props.rhsExpanded||document.getElementsByClassName("channel-switch-modal").length||er(e,document.activeElement)&&r.focusTextbox()})),S(m(r),"documentKeyHandler",(function(e){var t=e.ctrlKey||e.metaKey,n=t&&Ce(e,Vb.FORWARD_SLASH),i=t&&e.shiftKey&&Ce(e,Vb.BACK_SLASH);if(n)return e.preventDefault(),void ka();i?r.reactToLastMessage(e):r.focusTextboxIfNecessary(e)})),S(m(r),"getFileCount",(function(){var e=r.props.draft;return e.fileInfos.length+e.uploadsInProgress.length})),S(m(r),"getFileUploadTarget",(function(){return r.textboxRef.current?r.textboxRef.current:null})),S(m(r),"getCreatePostControls",(function(){return r.createPostControlsRef.current})),S(m(r),"handleMouseUpKeyUp",(function(e){var t=dt(e.target);r.setState({caretPosition:t})})),S(m(r),"handleSelect",(function(e){pt(r.textboxRef.current.getInputBox(),e)})),S(m(r),"handleKeyDown",(function(e){var t=e.ctrlKey||e.metaKey,n=0===r.state.message.length,i=0===r.props.draft.message.length,o=(r.props.ctrlSend||r.props.codeBlockOnCtrlEnter)&&Ce(e,Vb.ENTER)&&t,a=!t&&!e.altKey&&!e.shiftKey&&Ce(e,Vb.UP),s=!t&&!e.altKey&&e.shiftKey&&Ce(e,Vb.UP),l=ht(e)&&!e.altKey&&!e.shiftKey,c=Ce(e,Vb.B)||Ce(e,Vb.I),u=ht(e,!0)&&e.altKey,d=Ce(e,Vb.K);ft(e)?r.setState({message:mt(e)}):o?r.postMsgKeyPress(e):a&&n?r.editLastPost(e):s&&n?r.replyToLastPost(e):l&&i&&Ce(e,Vb.UP)?r.loadPrevMessage(e):l&&i&&Ce(e,Vb.DOWN)?r.loadNextMessage(e):(l&&c||u&&d)&&r.applyHotkeyMarkdown(e)})),S(m(r),"editLastPost",(function(e){e.preventDefault();var t,n=r.props.currentUsersLatestPost;n&&(t=n.root_id&&n.root_id.length>0?_e("create_post.comment",Xe.MESSAGE_TYPES.COMMENT):_e("create_post.post",Xe.MESSAGE_TYPES.POST),r.textboxRef.current&&r.textboxRef.current.blur(),r.props.actions.setEditingPost(n.id,r.props.commentCountForPost,"post_textbox",t))})),S(m(r),"replyToLastPost",(function(e){e.preventDefault();var t=r.props.latestReplyablePostId,n=document.getElementById("reply_textbox");n&&n.focus(),t&&r.props.actions.selectPostFromRightHandSideSearchByPostId(t)})),S(m(r),"loadPrevMessage",(function(e){e.preventDefault(),r.props.actions.moveHistoryIndexBack(Xe.MESSAGE_TYPES.POST).then((function(){return r.fillMessageFromHistory()}))})),S(m(r),"loadNextMessage",(function(e){e.preventDefault(),r.props.actions.moveHistoryIndexForward(Xe.MESSAGE_TYPES.POST).then((function(){return r.fillMessageFromHistory()}))})),S(m(r),"applyHotkeyMarkdown",(function(e){var t=gt(e);r.setState({message:t.message},(function(){var e=r.textboxRef.current.getInputBox();vt(e,t.selectionStart,t.selectionEnd)}))})),S(m(r),"reactToLastMessage",(function(e){e.preventDefault();var t=r.props,n=t.rhsExpanded,i=t.actions.emitShortcutReactToLastPostFrom,o=0===document.getElementsByClassName(tr.MODAL).length,a=0===document.getElementsByClassName(tr.POPUP).length;!n&&o&&a&&i(nr.CENTER)})),S(m(r),"handleBlur",(function(){r.lastBlurAt=Date.now(),r.setState({textboxActive:!1})})),S(m(r),"handleFocus",(function(){r.setState({textboxActive:!0})})),S(m(r),"showPostDeletedModal",(function(){r.setState({showPostDeletedModal:!0})})),S(m(r),"hidePostDeletedModal",(function(){r.setState({showPostDeletedModal:!1})})),S(m(r),"handleEmojiClose",(function(){r.setState({showEmojiPicker:!1})})),S(m(r),"setMessageAndCaretPostion",(function(e,t){var n=r.textboxRef.current.getInputBox();r.setState({message:e,caretPosition:t},(function(){tt(n,t)}))})),S(m(r),"handleEmojiClick",(function(e){var t=e.name||e.aliases[0];if(t){if(""===r.state.message)r.setState({message:":"+t+": "});else{var n=r.state.message,i=We(r.state.caretPosition,n),o=i.firstPiece,a=i.lastPiece,s=""===o?":".concat(t,": ").concat(a):"".concat(o," :").concat(t,": ").concat(a),l=""===o?":".concat(t,": ").length:"".concat(o," :").concat(t,": ").length;r.setMessageAndCaretPostion(s,l)}r.handleEmojiClose()}})),S(m(r),"handleGifClick",(function(e){if(""===r.state.message)r.setState({message:e});else{var t=/\s+$/.test(r.state.message)?r.state.message+e:r.state.message+" "+e;r.setState({message:t})}r.handleEmojiClose()})),S(m(r),"handleHeightChange",(function(e,t){r.setState({renderScrollbar:e>t}),window.requestAnimationFrame((function(){r.textboxRef.current&&r.setState({scrollbarWidth:bt(r.textboxRef.current.getInputBox())})}))})),r.state={message:r.props.draft.message,caretPosition:r.props.draft.message.length,submitting:!1,showPostDeletedModal:!1,showEmojiPicker:!1,showConfirmModal:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,currentChannel:e.currentChannel,mentions:[],memberNotifyCount:0,textboxActive:!1,postError:null,serverError:null,errorClass:null,parentId:null,xsend:!1},r.lastBlurAt=0,r.lastChannelSwitchAt=0,r.draftsForChannel={},r.lastOrientation=null,r.saveDraftFrame=function(){},r.topDiv=b.createRef(),r.textboxRef=b.createRef(),r.fileUploadRef=b.createRef(),r.createPostControlsRef=b.createRef(),r}return u(n,[{key:"componentDidMount",value:function(){var e=this.props.actions;this.onOrientationChange(),e.setShowPreview(!1),e.clearDraftUploads(Xn.DRAFT,(function(e,t){return t?C(C({},t),{},{uploadsInProgress:[]}):t})),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.documentKeyHandler),this.setOrientationListeners()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.currentChannel,i=n.actions;e.currentChannel.id!==r.id&&(this.lastChannelSwitchAt=Date.now(),this.focusTextbox()),r.id!==e.currentChannel.id&&i.setShowPreview(!1),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox()}},{key:"componentWillUnmount",value:function(){if(document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.documentKeyHandler),this.removeOrientationListeners(),this.saveDraftFrame){var e=this.props.currentChannel.id;this.props.actions.setDraft(Xn.DRAFT+e,this.draftsForChannel[e]),cancelAnimationFrame(this.saveDraftFrame)}}},{key:"sendReaction",value:function(e){var t=this.props.currentChannel.id,n=e[1],r=e[2],i=this.props.latestReplyablePostId;i&&"+"===n?this.props.actions.addReaction(i,r):i&&"-"===n&&this.props.actions.removeReaction(i,r),this.props.actions.setDraft(Xn.DRAFT+t,null),this.draftsForChannel[t]=null}},{key:"fillMessageFromHistory",value:function(){var e=this.props.messageInHistoryItem;e&&this.setState({message:e})}},{key:"createTutorialTip",value:function(){}},{key:"shouldEnableSendButton",value:function(){return 0!==this.state.message.trim().length||0!==this.props.draft.fileInfos.length}},{key:"render",value:function(){var e,t=this.props,n=t.currentChannel,r=t.draft,i=t.fullWidthTextBox,o=t.customReadOnlyText,a=t.canPost,s=t.channelBlocked,l=t.userGuest,c=this.props.readOnlyChannel||!a,u=this.props.intl.formatMessage,d=this.state,h=d.renderScrollbar,m=(d.channelTimezoneCount,d.mentions),g=(d.memberNotifyCount,d.xsend),v=_e("accessibility.sections.centerFooter","message input complimentary region");m.includes("@all")||m.includes("@group")||m.length>0&&(1===m.length?m[0]:(m.slice(0,-1).join(", "),m[m.length-1]));var b=null;this.state.serverError&&(b=f(Bb,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));var k,x=null;if(this.state.postError){var E="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");x=f("label",{className:w(zb.errorLabel,E),children:this.state.postError})}!c&&(r.fileInfos.length>0||r.uploadsInProgress.length>0)&&(k=f(wm,{fileInfos:r.fileInfos,onRemove:this.removePreview,uploadsInProgress:r.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent}));var C="post-create-footer";x&&(C+=" has-error");var _="";i||(_="center");var q="send-button theme";this.shouldEnableSendButton()||(q+=" disabled");var A="";this.props.canUploadFiles||(A=" post-create--attachment-disabled");var P=f("div",{className:"u3-w-3 u3-h-3"});c||this.props.shouldShowPreview||(P=f(Ub,{ref:this.fileUploadRef,fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,postType:"post",channelId:n.id}));var T;u({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();!this.props.enableEmojiPicker||c||this.props.shouldShowPreview||(p.exports.Fragment,this.state.showEmojiPicker,this.getCreatePostControls,this.hideEmojiPicker,this.handleEmojiClose,this.handleEmojiClick,this.handleGifClick,this.props.enableGifPicker,this.toggleEmojiPicker,w(zb.emojiBtn,"emoji-picker__container","post-action",S({"post-action--active":this.state.showEmojiPicker},zb.emojiBtnActive,this.state.showEmojiPicker))),c?(T=_e("create_post.read_only","This channel is read-only. Only members with permission can post here."),o&&l&&(T=f("p",{className:zb.customReadOnlyText,children:f(Zs,{id:"create_post.read_only_custom",defaultMessage:o,disableLinks:!1})})),s&&(T=f("p",{className:zb.customReadOnlyText,children:f(Zs,{id:"create_post.channel_blocked",defaultMessage:"Không có quyền để chat. Liên hệ Admin để được hỗ trợ.",disableLinks:!1})}))):T=u({id:"create_post.write",defaultMessage:"Write to {channelDisplayName}"},{channelDisplayName:n.display_name});var I="";return h&&(I=" scroll"),y("form",{id:"create_post",ref:this.topDiv,className:w(zb.postCreateForm,_),onSubmit:this.handleSubmit,children:[f("div",{className:w(zb.postCreateMain,"post-create"+A+I,{"textbox-active":this.state.textboxActive}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0,children:y("div",{role:"application","aria-label":v,tabIndex:-1,className:w(zb.postCreateTextbox,"post-body__cell a11y__region"),"data-a11y-sort-order":"2",children:[P,f(Oc,{rootId:this.props.currentUsersLatestPost?this.props.currentUsersLatestPost.root_id:"",onChange:this.handleChange,onKeyPress:this.postMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:c?"":this.state.message,onBlur:this.handleBlur,onFocus:this.handleFocus,emojiEnabled:this.props.enableEmojiPicker,createMessage:T,channelId:n.id,id:"post_textbox",ref:this.textboxRef,disabled:c,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),f("span",{ref:this.createPostControlsRef,className:w(zb.postCreateActions,"post-body__actions"),children:f("a",{role:"button",tabIndex:0,"aria-label":u({id:"create_post.send_message",defaultMessage:"Send a message"}),className:w(zb.sendButtonClass,q,(e={},S(e,zb.sendButtonDisabled,c),S(e,zb.sendButtonActive,g),e)),onClick:this.handleSubmit,children:f(jb,{className:"u3-transform u3-rotate-90",title:{id:ce("create_post.icon"),defaultMessage:"Create a post"},component:f(Zf,{className:"u3-w-6 u3-h-6"})})})})]})}),y("div",{id:"postCreateFooter",role:"form",className:C,children:[f("div",{className:"d-flex justify-content-between"}),y("div",{className:zb.createPostComplex,children:[x,k,b]})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={currentChannel:e.currentChannel};return e.currentChannel.id!==t.currentChannel.id&&(n=C(C({},n),{},{message:e.draft.message,submitting:!1,serverError:null})),n}}]),n}(b.PureComponent);S(Gb,"defaultProps",{latestReplyablePostId:""});var Kb=I(Gb);function Yb(e,t){return function(n){n(Rr(e,t))}}var Xb=g((function(){var e=tn(),t=ir(),n=or(Xe.MESSAGE_TYPES.POST);return function(r,i){var o=be(r),a=e(r,{id:i.channelId})||{},s=ar(r,Xn.DRAFT,a.id),l=sr(r,a.id),c=lr(r,l),u=cr(r),d=ur(r,a.id)?ur(r,a.id).member_count:1,p="true"===o.EnableTutorial,h=dr(r,hr.TUTORIAL_STEP,ge(r),pr.FINISHED),f="true"===o.EnableEmojiPicker,m="true"===o.EnableGifPicker,g="true"===o.EnableConfirmNotificationsToChannel,v=ge(r),b=Le(r),y=fr(r,v)===mr.OUT_OF_OFFICE,k=wa(r)>1,w="true"===o.ExperimentalTimezone,x=gr(r),E=Ie(r,{channel:a.id,team:a.team_id,permission:pe.CREATE_POST}),C=Ie(r,{channel:a.id,team:a.team_id,permission:pe.USE_CHANNEL_MENTIONS}),S=vr(r,hr.CATEGORY_CHANNEL_BLOCK,a.id,!1),_=br(b),q=yr(r,a.id);return{currentTeamId:Pe(r),currentChannel:a,currentChannelMembersCount:d,currentUserId:v,codeBlockOnCtrlEnter:qe(r,Ae.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:qe(r,hr.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),fullWidthTextBox:vr(r,hr.CATEGORY_DISPLAY_SETTINGS,hr.CHANNEL_DISPLAY_MODE,hr.CHANNEL_DISPLAY_MODE_DEFAULT)===hr.CHANNEL_DISPLAY_MODE_FULL_SCREEN,showTutorialTip:p&&h===pr.POST_POPOVER,messageInHistoryItem:n(r),draft:s,commentCountForPost:t(r,{post:c}),latestReplyablePostId:u,locale:Kn(r),currentUsersLatestPost:kr(r,c.id),readOnlyChannel:i.readOnlyChannel||!wr(r)&&"true"===o.ExperimentalTownSquareIsReadOnly&&a.name===Se.DEFAULT_CHANNEL,canUploadFiles:Us(o),enableEmojiPicker:f,enableGifPicker:m,enableConfirmNotificationsToChannel:g,maxPostSize:parseInt(o.MaxPostSize||"0",10)||Se.DEFAULT_CHARACTER_LIMIT,userIsOutOfOffice:y,rhsExpanded:xr(r),emojiMap:In(r),badConnection:k,isTimezoneEnabled:w,shortcutReactToLastPostEmittedFrom:x,canPost:E,useChannelMentions:C,channelBlocked:S,shouldShowPreview:lc(r),channelMemberCountsByGroup:q,userGuest:_,customReadOnlyText:o.CustomReadOnlyText}}}),(function(e){return{actions:P({addMessageIntoHistory:kt,onSubmitPost:Yb,moveHistoryIndexBack:Er,moveHistoryIndexForward:Cr,addReaction:Sr,removeReaction:_r,setDraft:qr,clearDraftUploads:Ar,selectPostFromRightHandSideSearchByPostId:Pr,setEditingPost:Tr,emitShortcutReactToLastPostFrom:Ir,openModal:xe,getChannelTimezones:Mr,runMessageWillBePostedHooks:Xf,runSlashCommandWillBePostedHooks:Qf,scrollPostListToBottom:xa,setShowPreview:ac,getChannelMemberCountsByGroup:Nr},e)}}))(Kb),Qb={fileOverlay:"mqik-2f227fd2",overlayIndent:"mqik-2988dc4b",rightFileOverlay:"mqik-726b55ee",overlayFiles:"mqik-340def93",overlayCircle:"mqik-9ac0afaf",overlayLogo:"mqik-83477c83",fa:"mqik-ec2ba334"},Jb=function(e){var t;return f("div",{className:w(Qb.fileOverlay,"u3-hidden",(t={},S(t,Qb.rightFileOverlay,"right"===e.overlayType),S(t,Qb.centerFileOverlay,"center"===e.overlayType),t)),children:f("div",{className:Qb.overlayIndent,children:y("div",{className:Qb.overlayCircle,children:[f("img",{className:Qb.overlayFiles,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAABrCAMAAAAW2X0YAAAC9FBMVEUAAAAAAAAAAAD////Ozs4AAAABAQHPz8/GxsYAAADMzMwAAADv7+/6+vri4uIAAAAAAAD7+/v////+/v78/Pz29vbNzc0AAAAAAAAAAAD9/f3+/v7+/v77+/v29vafn58AAAAAAABCQkL+/v7+/v7r6+vz8/MAAADJycn6+vr8/Pz9/f38/Pz39/f6+vr8/Pz8/Pzo6OjKysq4uLjd3d3////+/v739/f39/f19fXMzMzLy8umpqb////29vb39/f7+/vR0dHMzMzGxsYAAADd3d3JycmmpqYAAAD39/ft7e3Gxsa9vb2tra34+Pi2trbU1NTi4uLw8PD7+/v29vb29vbm5ub19fX7+/vY2Njx8fHW1tbCwsLm5ubt7e3z8/N9fX35+fnp6enPz8/m5ubg4ODa2trU1NTW1tbk5OSysrLq6urPz8/BwcFjY2P9/f3Kysr19fW/v7/k5OSZmZnMzMwAAAC9vb3Hx8dAQECioqK7u7uvr6/w8PCxsbHc3Ny4uLikpKQLCwuoqKjHx8fOzs7u7u7w8PCsrKzT09OPj4+Tk5OXl5eZmZmenp61tbUAAADR0dG1tbX8/Pze3t6zs7OxsbGbm5ugoKC9vb0AAACBgYHq6uqnp6elpaXExMSrq6sAAAD4+PjZ2dmcnJzk5OTv7++kpKStra3n5+e4uLi/v7+JiYmhoaHIyMjAwMDJycm7u7v19fXg4OC3t7cdHR3S0tLw8PCRkZHb29vZ2dmtra2Tk5Pm5ube3t7CwsLr6+vU1NTf39/4+Pj19fXa2trw8PDr6+vz8/O3t7fS0tLKysrGxsbExMS4uLidnZ1zc3MmJiYAAAAAAAAAAAAAAAACAgK5ubmtra2GhoY/Pz8AAAAAAAAAAAC/v7+cnJxfX18FBQUAAAAAAAAAAAAAAADW1ta5ubmEhIQ1NTUAAAAAAAAAAADl5eWkpKTz8/Pg4OBtbW3f39/Z2dmVlZUICAhFRUUjIyPb29tpaWmMjIxycnKq81rdAAAA/HRSTlMAAQL/gAMF/4MI/wQVPxEHDE2zj2Q0CgkQBn2th1cnBAsSDKuoGyAUnLS0oHBBRnOms48k2rGWOWyzs3AXsCksWrOpWA2ztEUWQ7O1uIyzubOzs7T/tXYlVrO1sz+zt7YOnrizuLOzt7y5LbRJRR6zoZRgaP+vDz57Gf//M4n/XE4wFLO0ZH3///+3tbSzs7MKT////7Wzs7OzDiT//7mzsxOa////tbOzcLP/ublEs/+0jmM4FrmEuLtXuSpqXrV6UrqWsrWPgJI8vb/AwLCQbUk9NTEvLbGWdFI4KiebeFU7JCIgHp96VjUcGhilWqyIOYVrPSAoI24uOTKpTH4gAAALmklEQVR4AdTUg34sMRzF8T3pnSnWqW3bbWrbtq1r883vpEydzczq9wbfT/4nNpMBxPcA2EIjgESo9IaECAGargSIjNJIKAhA9Gg1QEyUnRA4nK7gXhPsbo8iICZK14iX0ti4+ITgIYiemKQIMATJySmUl5qWnpEJICiArGxFABfk5NKb8lK8+QgUAgApiAdgI8meQkUAr6i4hAqVlpX7fxIwclRUVtHqmlpAMwHg1YkCXn2DXycBIKGxqYHymhlradXcZgCiQKgtLb3dD5MAkNnRGdtGb+pirLsnp1cZ8LzA+knAqMCbkkvF+hhj/UUDg+qA5wWWTgKAa6iylD5smANGRscUARICCybBjz4+roE+1fgVYEIRICG4mUSn2iT40bd3prXR55o0D5AR8HJTvAXwBQGjfG9KHn2pKbMAeQGvtHKIT0Ly6J1lpfS1pq0AyAt4DXGNCS8bAJtx9LFUphkTgNkHzc1QydrmCfD80S8spqVS2ZZEgLmW5Z6At7L6lIAfV36FePQSrVkHWN+QfYJiVrRJ8PjoG5u2qK8tWwfY3iimcg0z1mO/LwAyYuupSjuWAXalb2iPse5WOwQBQPKpWvv9OweHlgCO1uckAV2MsRadiABiT96iSo2Pz60fBRYwznjH4hNA06ObqFolAQecMF6NromA5KzTsAH0scvO7AQi4DxcABc77LK3m9o9QPa7MAE0s+ve6wQCIOmDlYCPr6UOWGPXfbr7SkH0xM9fwgSwxG76KjyBPbr3W6qlgO8/nu+7CcAMu+vn3RNobk/2L0sBvyOe77cJwDS7SfxKQYwR/AkLwBQT+msnNwJjBP/CAnDxnzmzfFMbj6Lwuutdd5fMum9YrTAf2D4UWGXYKgt1z7rvOHDHh0AtTA06Rt3d+19thPs0c0NCPqQPvHXvCzm/nDmJhEM+YjodpXoI/nuzvgKzW9vmrAI3CIHENJ9Ou55juhN0eC7Q2fVbt1uBxal0Bnt648vAFcG3knH1KH1Hz7Eegr6f+j0XGJAkqfN6YnDISWBWarg5KyNiLh9tATesEudEb1HfArqG1m/wXKBLFdh4PXHbJieBzalYEwgJpYAqrYo/6E5CvZvRg5aZI1u8FthqzsLGbdJ2B4FUaocRYjGaL6JKqTm8qvZI8ZD2FlCb2Am18Y+GwX2IO7cPagOEfgF1SdKYg8D4hOkUCkwb7UF0EYmdTz+iHkTUJiahJgHEnlWgESvHWpwFiK9+26p+vUuSpG2DDgKzSMBg1RyfEYndsQjYMkkCRpv4BGrRi4hzQOUtVBl+y43AmCRtvX6jpLHVQWCRKsAIJpRWPRJlm0h88us9VwTUNrEHahBGlWZQEXtQQxGcLyH1Jd8uqXR3SRp/OQgstAhQJHK2kdjzDL0DRgj2Qg0KqFICDTG2W0bE7A4ngd8HBgc3SSY6bQUmHO7EgWm9PYhYBs7eh59+hNqEFoJ94EwMNWR6O8UyYqbkIPDVNmlgl2TmNvv7ABNgfDmnF/PA2feTegqZKvV+511OKKKOH4goZtKz7AVukzibbAUOmAQic8DKKEaB8fz+mbca9wFqEwfBCR8aKAAQL5UDABDLpA8dthMY/E2ysN1NmSvLCbCQQxEYBykC1CYePgL2UG4RWwGCiCjHAWA4nTpqJzAkWRlzI1BEq8Fb2AqcIw/3UQQqbeIYOFBGosU4TzEE8FY6dchOYECysm2wtkAEEWU/HzFRAc6x9XQFUQhGbAc6MVlGAmMAsGwUsScITcXUuNcfD4SwikEWE8BYMEIRuBKCb6AaYaWAZnZX/kqMQtNu7wVGUUNOgglBloPA+MYcAb1N9P1UdaDLIyNHL1QzNH1RXaBruz1dzgKrKGtmgzBmgbP8pz69yplDsBKsRNDCMuMMxTYS8HJWmYMVzKlV0AecleYIUJtY40ogrt1aSohJuoQ8E6DTumd0WmBqB3gLGGueueduErjSJo6DlSJyeo1DKSdAU85zgV4563uL9R6RSrCJdQ+bI+A00JWRIwsAsn6RhukY9U5AFMBCEkeB87PWI0jAcaBLooUwwLTWGABk06lhLwVsyGMIGI/9aj5EHQc6ES20UbugKnGVBYoYAcafagTMVxANdCeqtmhOiW45mfRJb8bd2Yvm2QsEsAicvytVmqCB7g+woqCFYOXAywx79HxgPJUZpoPHwjQsA+dfNQLs/2870IXRQrLy88MtngmkM4jFfFSsWqX9wHjzPx4Bh4FOkFFHziFRBg1/VPDqCc3RJctaUadVSQSBoHtzEBinpvQIc6U+DVbiiFhQEoLgo9t88So8YkoUsYKc9Zl30jlYAk7/T1SlCceBLuAXQadlFA0iHguc0U6hQEjfg5Ddi33YDJwN1CMI1wNduBU1QiTg2SXkz6rvMax6S9+DdCgSWQwD4+zITOoRhOuB7kv9OtpNAp6G2GgR+kRKFBR/lR6xk3qECfcD3blRRJ/HAhOH0hm6dkIB/SOoorl7MVaYegQ/SFd+AjWZk/A8xAvPKyUkiuWkCBChSMSB8Qn1CA4NdPV50D31ZS9QJBADwLhAVZpBA129BDQiMTqJKpEQMec4yRFsoKuLAPFWfFgmiZ4C5oHzB01yDBro6ihACOE2ikSVSa5Kj2ADXV0FiKDfiIQIjIvVegQf6BpAwIjE7rjzJEfwga5BBBh8kmPQQPdKYwssoB5hG4JTDS3AJzmCD3SNK8AnOYIPdI0q8B6f5KxtYuRsIwtcsusRfKBrVAE+yVWr1N83ssBlmyrNB7pGFXiOHu1x+EDnTkBo+eHw/4zbtQECMQAAwBVYgXm+psR1CmQorE337hq3PXDXK5Mm7rFsx33l+UEYxUmaZntpmsRRGPi5+4ZjW9v/X6+v67XPLeh2QPd3Bto9MLHsJ0ZRVlEUwTjNED5CWRrDfVBVFob9zJqAXvvfDMy+rCNeD+h+2h8MDcB2cmdFKOMQwnhf+ggLqZTSSkmJ0b4W4n0EZ5SsJve2YNBq/PsBYrEr3gog4waj8EQTIkiAy6+Q2DgxKAww0NCAwVxRc7UqFFSLAKXQATgAN5ABAzAUtllhLQAUANKkbXNpu+7u2raFvT95N+bt/E8t9oGqC9/3v+97iS8St6Y4iBZ0aqzDCLorq2sTHJ+cnh0ewrnDwQP3YlBG7QpROSiyoxRGAbOAH5yeHK/9xupKlz2A54kiAqSgU+B10Fle6kqcz1ycScOkwDyX1KO27/bD0AGEYd/121E0GBQwjjSVpjq7mDnvVlha7gTqT2hoJUdBCzoV1iEGQdC5/LF5lR4dZZK5PPXEBepOr2Xatqhg22av54AMN6mmUeQ52Cq92vx52ekEAe/8sZIjS1RV0CkkzH4fjsZZVsChl/LQ45q5EIal67qGgD8tA4SYLdARu76UATogIaOdrVdwEDy8+Hslxy7oCD583L7OkXsiuXstUwjL0jX66aP8j6ZblhBmy5uoKOUwbhZuN1SfIU2v5JgFHcXct/m7bELej/uSvC0MSp6KMIQtRfRjP8FR5Nfbi4wveb64ygjgI7WioHu6u3MP5Os1I7Pq9ZC8RslTERqK6HmYbhCRF9nD/L5i/b1RPEewCrqXB8OFG5nWQVR7HsibwkDfPGEB3YQi4smKKvIxRII8yJBXewT8gu7tItv0FOpISBEkEuTVHgGzoJvbl6YH9mj6kJheAWUk3KTK9dRIfMVKTh0CUtDNbu2MxtWWR9+g6S216fkiMBL1JPIcI6Gu5JQF3catND3eXXHRM03/6EiUZRWJe4wEebWn8pDj7/5r0z8+EsODOhLvFM8RpKB7tj//QJcl0/QNRGIPX+3xPPT502hc5H8sS5vtmwYiUdztvWc5CBep58oLSzQ93zfNRSJqx57gCtAMM3T9RPGE0CBoJHw/dky4DTMvt4QJ1zls0zcvwnE8U1jsW70mB9i86fmRELYko3GJ1NKbNz0/EjqSYV+E+N/k1XR+AWSp9BXRFCxOAAAAAElFTkSuQmCC",alt:"Files",loading:"lazy"}),y("span",{children:[f(E,{id:"generic_icons.upload",defaultMessage:"Upload Icon",children:function(e){return f("i",{className:"fa fa-upload",title:e})}}),f(E,{id:"upload_overlay.info",defaultMessage:"Drop a file to upload it."})]}),f("img",{className:Qb.overlayLogo,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANsAAAAkCAYAAAF3QH8aAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAA26ADAAQAAAABAAAAJAAAAAARfPeIAAANUUlEQVR4Ae1dC9BVVRWWV4JApGEmalJSRtNU0yCEQ0FqWkOlo6NmjUlSaSLjmE4+oowBG9FsMs0QwiTsYVTYOKJmxiQ0JdBjhEkZUEwJTCzEQOJ5+779r3VmnXX3vvf89+G9t+6aWXet9a3Hfpx7Xvuc+/8HHZSgUqm0CpxRIqxxcNZSqXQTdVY2cnisJfifj+GFMC3OYOjHiCS8jB+gmVoI+m7xz4A+FHyC+gpLJIVRSaFshIqrFP8LImfYeOqe+nhAbVuQWB+Q+poi2aChaU1phEVNI5eorriV1JUQd6fqvZJswCaoDfkEcdqgF3tE6e+CfcP4cvnESX17RPknCxGF2KBebLrRgi8Bdhj4ZfAIYAMgjwQH6tU2RvI0FrWkhapJ5lSLKeRHndyRxnZGdS0k9ki1KQWba7G20XUAkIt9p9SneMoGPp4x1k9dMZHPqV/kRdZPveFkGnytLw7fZvoVV51S6AKRK0X+E/IMH08b+DxwOBCKHVI0tikytFDlQxtmmHTsX0ZfYXSqT0rMHpGac6XGCX4W7KXUe0O9OrKjAR599ica2ImjyJCEryVw8lCZ6E1qYAwfrLNNSbI1YH7dY9bfcp2dM/QY9LPB+wymX6sHidkOa4zFUrrPTcU1FK/UQeuDvkjsfdoB539W7P6Q3A+3gNeBvwruCw7EXCoi74eanXC1bsNkaFEa80WtD/rNzqZ5PD+ko1Q5sCnGVt81dGp91VUq3nDJBkixwj2erPNXqw35eerMsVJ1xWFnBzfnuwv2bIvF2q8bYwNC2VUG7IEKUkpnLzQ61Tt0EE7ugW8IeC+DtINW13hgx6q/KZKNViPpzI2M045pZyT3CMiN1MX/YCxOc7zP4tX07KtQLbBoI726Yi7SKGI4Ec2oW7D58jD0JzvqsXM10qO+MuqM9pi3EdMPzOvTG7yva1eZAUxaQ8g2g4JPm6ILrc/qJiY7Rll/LTpqTpK6t9WS3+ic3l5Z1tv+vTwsxAiF31ig+F9MzKcxkacaO6jAwgqE4rBza2ewTwPzzDnCxHAP/Rq4v8FegH2y2pDhLhRyN/AD4M/QBzkXvIC6EuyDwfPU7iiJjueoaOeRdItNtHnAOUmeuHITCI6fiHOnCTqfTtgfFIx77etEv6Ins+dcI9gwkY9LXu6uAL7cHgd7qcT/MFLr44p1jJTBZKJox5FwYpYExebBnGV8XG4LxBgonxNTr3rU/JH4bWy2MqD14TxZEyDLzo3Avi3+bOnD5AaXtPNvibte/R0lpfNeVLzSQ/AVPsEOGr7p6pdJ+q7aKjUe9nrBtkmshlBO1jiVwP5qAtYprhK+heKPbTjeuVnKHa61RkdIOwrRs5UX2O+P+KOQHSwC/qBBiqtNqRilx2GHO0rI34G3in+LxOrh8C3AR1mf1gS2QPD1ilkJX7gHYozFO05H/3dwEPVSbOCoOdTisLknjrNYPTpq8VZmoK8BjOfJQR6nDZyLOyS9iImFdQaGQSwPQ6n94+jOGGnYcI9gmNs7pb8V+4mB8HFbLXsen5C92rcqFcfyf+HEpNe7p6FEfsPB5lVk9DBlJxUx88FrwW+weFevMgOYsEbQKm0GxSabgrsUj0kT19kXCLHBNROzE1ePbvto61jc6oh5l4kLT2itv1YdNcNhvtb8Rua14rzB2wC+AHMOmK8BrQT3mjCJ2SqHS37M2EWWzUx4RXUwvWi36uG5YpV2dppvu1WPSPUZQUtsoOo2XjGV1kcd+AD1qYzE3AnflywOm5f01yoGnasxD6lNCVvpB1D0Bn449EfBJ7nYxcBOtFhH6Oh0jop0GgkcbI5sXs7RYxzj/Hy7IEfqB3hYzoEVEeMLLtpQstUO45/icmkeBZ6juMZKjQBbrCN0HYzIW4p22uXlLiSMb5noYXVDaxv/3apHfO+BbyP9xqcrG3w+v5U+UD/w+KCZD81RqS5jX+Ix9bW91I6LzO0RlTrv8rKJZY7xTVBda8EOLxxB8pHKVOuHrnvPWqmTW0SGv4/EM5fEd0MDQX87+KMESYqrBLQrOEqlicREpzhXYzpGms5TnVS04y4vN0nGdzp0XTu8lbWN7yToY9UWH+NJp4LfHLRSKTwR0H4JFoRiVqrfYtSBnym+ZyD5AkkgH9cRtnZe5EtFOo3YwS4vtdG4J51rYk9Rne1AH+TsmWLfKnKP7w/wP4lvjfdJzeCu5EOAnlOXxuLaHpMJsKLqMycbrLodqGKQVxE3tqrZYxQFJO5CtSGfsjXFz/OXpX6RmOD3uOTzCbil7Ol4LL5tMTsC1VOdhd9OqoYHaXOM4ybisJ8wWGqvfD1ieKVHChdEkIcES14kgs5XNUk8f5E22nalreDwuPiycyyC9sdiOgILI8x/jNKOA+a6YCHSHEqT8LDYen6i6xGNhT6RgNCXXa59kMr3PMZI3F6J04sR/kglIy0GGX2wa/yfypI6TTGDqEu14zaFNhGHfajBsvMIsOyCAPoBiT3cxFI9RXCeR7mhPiD2ddBJq2kr9UDh88eKWal+i3WcroOoU+7wA0e9t1oM9nFgXmg0bEkOtY63bVAHxr3SvrmVC4EvUA7sNEMHUafk2mTbE8Y4Wcb5t7bvbKUOYhBH17nBlleq304+jJN7IWl6O/WrrfqCyeEXYjlnqUXEReKOeR2irTZetzOdMwP4kk9r0Q4WazZ62kVgX/BDJoEXqL8HT6x1ppF7AdjTJgBl1021ttHN685Abgbw5QoP//23rkV22Y0JO8sdoEJ/arpkQb1liZpn5yaoDQz0k4+I+XzkHW3QnW4Xap2BxBeuZXBqHOjQbxKd4oO43FpZqobiiP9eotbTGtMuEv3ku/ieujsdNlDDloHaZWO7fvBlnFngEbEfPFqMMRIbXuCBXi/tTBTg7wb4DC66CO1zEMfF76keF3sk/P0SvlbB97uG52Ce+Wul0eDhztc123kGsMGKUOH3ilJjRSO5H66mGq2Qrz9eTaXem8pVHImfTCUb/G0abyX8J4AfN3Gq8k9KTbCx1IHdowEic7+9BOb78hKwsldCgV0j+SmxDY4B0uZdLuh52NE/sgT8Shd7sR9D127wDLgJ9ybfu2rY0ZO1wOFdLt+Q2qnhwa8/UdRQyv3WgM6zbpTge5+Lpbk3gk22BeDvA74vEudzJ7m8UcjhjmApLL4A8ItS12kufO8GXwVeB07RH+H4OZgvasw3uXzQtg9sabb6VcI5DGx/cc/4X6m/K5s0A5zlClTzal+qu2hrYoX2ShXy9HUwm/4Fa4h+jq8BnI82/M5xO7BrJceKy2w+HHdYJ/RJ6of+sPGVvX0F33jjp7oSfKPDsvfigfPd/J+C9b0Nhr7MD0PZG1jaDysRd76JpcodMndpDPvPdBhabmt09SbNgJnwmHpUo5tFI0fGGlIs1R78N2iMkR+CzrOAp2wBAY5B4BddwH1sB9jHHE7zNu0D9DHOn+1QwC8zPu4c79Q8K4F/x8RZ9T8wjrOxMR0x37RJ0CvubKyBmMUu51taG/g85+OlZrgM1ZiubNIMuIn3ZnhVspFNo4HrfSPWTrWFmK/YONHPYzz0B5yP9z+DxbfW+bK/SAX8WOejGf4SoORe7PzjYPNgscHgu6C/ifExgo8/ieB9naUtMHJ/dCKWSwxxPANbKrKzDUTCdpsE/b3gzzqMl+EjU2138QbPgJv8mHlPo5pEcf/FKWsv1RYCv1gWLK8FAeeXa5vz81LJ32vxS/4a2wZs/6XcoH74YpeZgAPxsvQsjU1JxMTOnizwiVSOxRG3gMGGqu5szEf8aSaH6lZn0zzdttXVmzwDkQ2QgpbAkbv2L9I15BwCLrQSyYZTNeHyZxmGz9R46DzrVKJX4Cxb7AG2wiXxkjA8woH8iPNths37xOyyCzpXFX8JHqt9UQnsIrClp6wBfYrGpiRi7nY5hXY21kNe6hKWJWel2uziTZoBtyFT5gw4yp5jAeMN/YfBXOkbC54MvhTMm3x/6QSoOqWGicypkezbbTz8V0diCHEHGm1jqQPjSuMzYE/ZK1tw/NY4N0EPfw8M8mDwL4yPanamgD7b+RZIm3McXnHJHbGLXHzZ6qIfl9rI4/iedfk0H9CYrnwVZyCyIWIQV8Tmg3nftBC8BmxXzGA2hmJDR+VDwXsiLWy28fBz6TtG37dxqiNweiwY2HNgPbvxgGJ3uFgKFzsmmLp+aX+R+igR+2tXJFvAsHESG1uFPcPHpWz2y7W1G/awVHwXb+IMuA3RcrPSUNG5y8FPSif/AVn2V5GBnSl+K5LvTyKoP5hnzdVgLnbwUq/sfgoYL4fPA/8MPBfMS0Q+6C474+sY4BsJjp1RRwBfDybx8jZb/tdclfANAfPgprQdSnTlU3OsRKw/w15q/Z2sJye+XQeFjbEKfRvTJv1bjVeRev9vE9uk8+3WDWxbfh959tc/gHYA+lDM8Svt1tda+hMuPWpJbGHOOLS9ooXta9PLobAvXWrcDFyOUrqjseqa/5UdrXFT1IJKOAryN2O811gF3gFuNrENtsU2O/Eg1YKtVFuTmN/DwYWe69XWQmuy/gtNdruFDFJIxwAAAABJRU5ErkJggg==",width:"100",alt:"Logo",loading:"lazy"})]})})})},Zb=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!=typeof t?e:t},ny=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ry=void 0;ry="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;var iy=null,oy=null,ay=ry.clearTimeout,sy=ry.setTimeout,ly=ry.cancelAnimationFrame||ry.mozCancelAnimationFrame||ry.webkitCancelAnimationFrame,cy=ry.requestAnimationFrame||ry.mozRequestAnimationFrame||ry.webkitRequestAnimationFrame;function uy(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l="undefined"!=typeof document&&document.attachEvent;if(!l){a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&iy(this.__resizeRAF__),this.__resizeRAF__=oy((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var c=!1,u="";r="animationstart";var d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(c=!0),!1===c)for(var f=0;f<d.length;f++)if(void 0!==h.style[d[f]+"AnimationName"]){u="-"+d[f].toLowerCase()+"-",r=p[f],c=!0;break}t="@"+u+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",i=u+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,c){if(l)o.attachEvent("onresize",c);else{if(!o.__resizeTriggers__){var u=o.ownerDocument,d=ry.getComputedStyle(o);d&&"static"===d.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),o.appendChild(a)}}(u),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=u.createElement("div")).className="resize-triggers";var p=u.createElement("div");p.className="expand-trigger",p.appendChild(u.createElement("div"));var h=u.createElement("div");h.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(h),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(kS){}}}}}null==ly||null==cy?(iy=ay,oy=function(e){return sy(e,20)}):(iy=function(e){var t=ny(e,2),n=t[0],r=t[1];ly(n),ay(r)},oy=function(e){var t=cy((function(){ay(n),e()})),n=sy((function(){ly(t),e()}),20);return[t,n]});var dy=function(e){function t(){var e,n,r;Zb(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=ty(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,p=o-u-d,h=a-l-c;(!t&&r.state.height!==p||!n&&r.state.width!==h)&&(r.setState({height:o-u-d,width:a-l-c}),i({height:o,width:a}))}},r._setRef=function(e){r._autoSizer=e},ty(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$b(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=uy(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,i=e.disableWidth,o=e.style,a=this.state,s=a.height,l=a.width,c={overflow:"visible"},u={},d=!1;return r||(0===s&&(d=!0),c.height=0,u.height=s),i||(0===l&&(d=!0),c.width=0,u.width=l),p.exports.createElement("div",{className:n,ref:this._setRef,style:ey({},c,o)},!d&&t(u))}}]),t}(p.exports.PureComponent);dy.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var py=function(e,t){return e===t};function hy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:py,n=void 0,r=[],i=void 0,o=!1,a=function(e,n){return t(e,r[n])},s=function(){for(var t=arguments.length,s=Array(t),l=0;l<t;l++)s[l]=arguments[l];return o&&n===this&&s.length===r.length&&s.every(a)?i:(o=!0,n=this,r=s,i=e.apply(this,s))};return s}function fy(){var e=window.navigator.userAgent;return-1!==e.indexOf("Safari")&&-1===e.indexOf("Chrome")}var my=fy(),gy={display:"inline",width:"0px",height:"0px",zIndex:"-1",overflow:"hidden",margin:"0px",padding:"0px"},vy={position:"absolute",flex:"0 0 auto",overflow:"hidden",visibility:"hidden",zIndex:"-1",width:"100%",height:"100%",left:"0px",top:"0px"},by={flex:"0 0 auto",overflow:"hidden",zIndex:"-1",visibility:"hidden",left:"-9px",bottom:"-8px",right:"-8px",top:"-9px"},yy={position:"absolute",flex:"0 0 auto",visibility:"hidden",overflow:"scroll",zIndex:"-1",width:"100%",height:"100%"},ky={position:"absolute",height:"200%",width:"200%"},wy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._node=null,t._resizeSensorExpand=b.createRef(),t._resizeSensorShrink=b.createRef(),t._positionScrollbarsRef=null,t._measureItemAnimFrame=null,t.positionScrollBars=function(e,n){void 0===e&&(e=t.props.size),void 0===n&&(n=t.props.width),t._positionScrollbarsRef&&window.cancelAnimationFrame(t._positionScrollbarsRef),t._positionScrollbarsRef=window.requestAnimationFrame((function(){t._resizeSensorExpand.current.scrollTop=e+27,t._resizeSensorShrink.current.scrollTop=2*e+17}))},t.scrollingDiv=function(e){e.target.offsetHeight!==t.props.size&&t._measureItem(e.target.offsetWidth!==t.props.width)},t.renderItems=function(){var e=t.props.item,n={position:"absolute",left:"0",top:"0",height:t.props.size+27+"px",width:"100%"};return y("div",{style:{position:"relative"},children:[e,f("div",{style:gy,children:f("div",{dir:"ltr",style:vy,children:y("div",{style:by,children:[f("div",{style:yy,ref:t._resizeSensorExpand,onScroll:t.scrollingDiv,children:f("div",{style:n})}),f("div",{style:yy,ref:t._resizeSensorShrink,onScroll:t.scrollingDiv,children:f("div",{style:ky})})]})})})]})},t._measureItem=function(e){var n=t.props,r=n.handleNewMeasurements,i=n.size,o=n.itemId,a=t._node;if(a&&a.ownerDocument&&a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLElement){var s=Math.ceil(a.offsetHeight);i!==s&&r(o,s,e)}},t}z(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._node=H.exports.findDOMNode(this),my&&this.props.size?this._measureItemAnimFrame=window.requestAnimationFrame((function(){e._measureItem(!1)})):this._measureItem(!1),this.props.size&&this.positionScrollBars()},n.componentDidUpdate=function(e){(0===e.size&&0!==this.props.size||e.size!==this.props.size)&&this.positionScrollBars()},n.componentWillUnmount=function(){this._positionScrollbarsRef&&window.cancelAnimationFrame(this._positionScrollbarsRef),this._measureItemAnimFrame&&window.cancelAnimationFrame(this._measureItemAnimFrame);var e=this.props,t=e.onUnmount,n=e.itemId,r=e.index;t&&t(n,r)},n.render=function(){return this.renderItems()},t}(p.exports.Component),xy=function(e,t,n){var r=n.itemOffsetMap,i=n.itemSizeMap,o=e.itemData;return i[o[t]]?{offset:r[o[t]]||0,size:i[o[t]]||0}:{offset:0,size:0}},Ey=function(e,t,n){return xy(e,t,n).offset},Cy=function(e,t,n){var r=n.totalMeasuredSize,i=e.itemData;return t<=r?function(e,t,n,r,i){for(var o=r;r<=n;)i-xy(e,r,t).offset<=0&&(o=r),r++;return o}(e,n,i.length,0,t):0},Sy=function(e,t,n){return xy(e,t,n).size},_y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._listMetaData={itemOffsetMap:{},itemSizeMap:{},totalMeasuredSize:0,atBottom:!0},n._itemStyleCache={},n._outerRef=void 0,n._scrollCorrectionInProgress=!1,n._scrollByCorrection=null,n._keepScrollPosition=!1,n._keepScrollToBottom=!1,n._mountingCorrections=0,n._correctedInstances=0,n.state={scrollDirection:"backward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1,scrollDelta:0,scrollHeight:0,localOlderPostsToRender:[]},n.scrollBy=function(e,t){return function(){var r=n._outerRef;"function"==typeof r.scrollBy&&t?r.scrollBy(0,t):e&&(r.scrollTop=e),n._scrollCorrectionInProgress=!1}},n._callOnItemsRendered=hy((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=hy((function(e,t,r,i,o){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r,scrollHeight:i,clientHeight:o})})),n._commitHook=function(){if(!n.state.scrolledToInitIndex&&Object.keys(n._listMetaData.itemOffsetMap).length){var e=n.props.initScrollToIndex(),t=e.index,r=e.position,i=e.offset;n.scrollToItem(t,r,i),n.setState({scrolledToInitIndex:!0}),0===t?n._keepScrollToBottom=!0:n._keepScrollPosition=!0}},n._dataChange=function(){n._listMetaData.totalMeasuredSize<n.props.height&&n.props.canLoadMorePosts()},n._heightChange=function(e,t){t+e>=n._listMetaData.totalMeasuredSize-10&&n.scrollToItem(0,"end")},n._widthChange=function(e,t){t+e>=n._listMetaData.totalMeasuredSize-10&&n.scrollToItem(0,"end")},n._getItemStyle=function(e){var t,r=n.props.itemData,i=n._itemStyleCache;return i.hasOwnProperty(r[e])?t=i[r[e]]:i[r[e]]=t={left:0,top:Ey(n.props,e,n._listMetaData),height:Sy(n.props,e,n._listMetaData),width:"100%"},t},n._correctScroll=function(){var e=n.state.scrollOffset,t=n._outerRef;t&&(t.scrollTop=e,n._scrollCorrectionInProgress=!1,n._correctedInstances=0,n._mountingCorrections=0)},n._generateOffsetMeasurements=function(){var e=n._listMetaData,t=e.itemOffsetMap,r=e.itemSizeMap,i=n.props.itemData;n._listMetaData.totalMeasuredSize=0;for(var o=i.length-1;o>=0;o--){var a=t[i[o+1]]||0,s=r[i[o+1]]||0;t[i[o]]=a+s,n._listMetaData.totalMeasuredSize+=r[i[o]]||0,delete n._itemStyleCache[i[o]]}},n._handleNewMeasurements=function(e,t,r){var i=n._listMetaData.itemSizeMap,o=n.props.itemData.findIndex((function(t){return t===e})),a=i[e]||0;if(a!==t)if(i[e]=t,n.state.scrolledToInitIndex){var s=n._outerRef;if((n.props.height+s.scrollTop>=n._listMetaData.totalMeasuredSize-10||n._keepScrollToBottom)&&n.props.correctScrollToBottom)return n._generateOffsetMeasurements(),n.scrollToItem(0,"end"),void n.forceUpdate();if(r||n._keepScrollPosition){var l=t-a,c=n._getRangeToRender(n.state.scrollOffset)[2];if(n._generateOffsetMeasurements(),o<c+1)return;return n._scrollCorrectionInProgress=!0,void n.setState((function(e){var t;return t=0===n._mountingCorrections?l:e.scrollDelta+l,n._mountingCorrections++,{scrollOffset:e.scrollOffset+l,scrollDelta:t}}),(function(){n._correctedInstances++,n._mountingCorrections===n._correctedInstances&&n._correctScroll()}))}n._generateOffsetMeasurements()}else n._generateOffsetMeasurements()},n._onItemRowUnmount=function(e,t){var r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n).props;if(r.itemData[t]!==e&&!r.itemData.includes(e)){delete n._listMetaData.itemSizeMap[e],delete n._listMetaData.itemOffsetMap[e];var i=n._outerRef,o=i.offsetHeight+i.scrollTop>=n._listMetaData.totalMeasuredSize-10;n._generateOffsetMeasurements(),o&&n.scrollToItem(0,"end"),n.forceUpdate()}},n._renderItems=function(){var e=n.props,t=e.children,r=e.direction,i=e.itemData,o=e.loaderId,a=n.innerRefWidth,s=n._getRangeToRender(),l=s[0],c=s[1],u=i.length,d=[];if(u>0)for(var h=u-1;h>=0;h--){var f=xy(n.props,h,n._listMetaData).size,m=n.state.localOlderPostsToRender,g=m[0],v=m[1],b=h>=g&&h<v+1&&g===c+1,y=i[h]===o,k=i[h],w=n._getItemStyle(h);if(h>=l&&h<c+1||b||y){var x=p.exports.createElement(t,{data:i,itemId:k});d.push(p.exports.createElement(wy,{direction:r,handleNewMeasurements:n._handleNewMeasurements,index:h,item:x,key:k,size:f,itemId:k,width:a,onUnmount:n._onItemRowUnmount,itemCount:u}))}else d.push(p.exports.createElement("div",{key:k,style:w}))}return d},n._onScrollVertical=function(e){if(n.state.scrolledToInitIndex){var t=e.currentTarget,r=t.scrollTop,i=t.scrollHeight;n._scrollCorrectionInProgress?n.state.scrollUpdateWasRequested&&n.setState((function(){return{scrollUpdateWasRequested:!1}})):(i!==n.state.scrollHeight&&n.setState({scrollHeight:i}),n.setState((function(e){return e.scrollOffset===r?null:{scrollDirection:e.scrollOffset<r?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!1,scrollHeight:i,scrollTop:r,scrollDelta:0}})))}},n._outerRefSetter=function(e){var t=n.props.outerRef;n.innerRefWidth=n.props.innerRef.current.clientWidth,n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"===o(t)&&t.hasOwnProperty("current")&&(t.current=e)},n}z(t,e),t.getDerivedStateFromProps=function(e,t){return qy(e),null};var n=t.prototype;return n.scrollTo=function(e,t,n){var r=this;void 0===n&&(n=!1),this._scrollCorrectionInProgress=!0,this.setState((function(n){return{scrollDirection:n.scrollOffset>=e?"backward":"forward",scrollOffset:e,scrollUpdateWasRequested:!0,scrollByValue:t}}),(function(){n?r._scrollByCorrection=window.requestAnimationFrame(r.scrollBy(r.state.scrollOffset,r.state.scrollByValue)):r.scrollBy(r.state.scrollOffset,r.state.scrollByValue)()})),this.forceUpdate()},n.scrollToItem=function(e,t,n){void 0===t&&(t="auto"),void 0===n&&(n=0);var r=this.state.scrollOffset,i=this._outerRef;if(0!==e||"end"!==t){var o=function(e,t,n,r,i){var o=e.height,a=xy(e,t,i),s=i.totalMeasuredSize,l=Math.max(0,a.offset+a.size-o),c=Math.max(0,a.offset);switch(n){case"start":return c;case"end":return l;case"center":return Math.round(c-o/2+a.size/2);case"auto":default:return r>=c&&r<=l?s-(r+o):r-c<l-r?c:l}}(this.props,e,t,r,this._listMetaData);if(!o)!Sy(this.props,e,this._listMetaData)&&this.props.scrollToFailed&&(this.state.scrolledToInitIndex?this.props.scrollToFailed(e):console.warn("Failed to do initial scroll correction",this.props.initRangeToRender,e));this.scrollTo(o+n)}else this.scrollTo(i.scrollHeight-this.props.height)},n.componentDidMount=function(){var e=this.props.initialScrollOffset;"number"==typeof e&&null!==this._outerRef&&(this._outerRef.scrollTop=e);this._commitHook()},n.getSnapshotBeforeUpdate=function(e,t){if(t.localOlderPostsToRender[0]!==this.state.localOlderPostsToRender[0]||t.localOlderPostsToRender[1]!==this.state.localOlderPostsToRender[1]){var n=this._outerRef;return{previousScrollTop:n.scrollTop,previousScrollHeight:n.scrollHeight}}return null},n.componentDidUpdate=function(e,t,n){if(this.state.scrolledToInitIndex){var r=this.state,i=r.scrollDirection,o=r.scrollOffset,a=r.scrollUpdateWasRequested,s=r.scrollHeight,l=t.scrollDirection,c=t.scrollOffset,u=t.scrollUpdateWasRequested,d=t.scrollHeight;i===l&&o===c&&a===u&&s===d||this._callPropsCallbacks(),t.scrolledToInitIndex||(this._keepScrollPosition=!1,this._keepScrollToBottom=!1)}if(this._commitHook(),e.itemData!==this.props.itemData&&this._dataChange(),e.height!==this.props.height&&this._heightChange(e.height,t.scrollOffset),t.scrolledToInitIndex!==this.state.scrolledToInitIndex&&this._dataChange(),e.width!==this.props.width&&(this.innerRefWidth=this.props.innerRef.current.clientWidth,this._widthChange(e.height,t.scrollOffset)),t.localOlderPostsToRender[0]!==this.state.localOlderPostsToRender[0]||t.localOlderPostsToRender[1]!==this.state.localOlderPostsToRender[1]){var p=this._outerRef.scrollHeight,h=n.previousScrollTop+(p-n.previousScrollHeight);this.scrollTo(h,h-n.previousScrollTop,!0)}},n.componentWillUnmount=function(){this._scrollByCorrection&&window.cancelAnimationFrame(this._scrollByCorrection)},n.render=function(){var e=this.props,t=e.className,n=e.innerRef,r=e.innerTagName,i=e.outerTagName,o=e.style,a=e.innerListStyle,s=this._onScrollVertical,l=this._renderItems();return p.exports.createElement(i,{className:t,onScroll:s,ref:this._outerRefSetter,style:V({WebkitOverflowScrolling:"touch",overflowY:"auto",overflowAnchor:"none",willChange:"transform",width:"100%"},o)},p.exports.createElement(r,{children:l,ref:n,style:a}))},n._callPropsCallbacks=function(){var e=this.props,t=e.itemData,n=e.height,r=this.state,i=r.scrollDirection,o=r.scrollOffset,a=r.scrollUpdateWasRequested,s=r.scrollHeight,l=t.length;if("function"==typeof this.props.onItemsRendered&&l>0){var c=this._getRangeToRender(),u=c[0],d=c[1],p=c[2],h=c[3];if(this._callOnItemsRendered(u,d,p,h),"backward"===i&&o<1e3&&d!==l-1)!Sy(this.props,d+1,this._listMetaData).size&&this.state.scrolledToInitIndex&&this.setState((function(e){return e.localOlderPostsToRender[0]!==d+1?{localOlderPostsToRender:[d+1,d+50]}:null}))}"function"==typeof this.props.onScroll&&this._callOnScroll(i,o,a,s,n)},n._getRangeToRender=function(e,t){var n=this.props,r=n.itemData,i=n.overscanCountForward,o=n.overscanCountBackward,a=this.state,s=a.scrollDirection,l=a.scrollOffset,c=r.length;if(0===c)return[0,0,0,0];for(var u=e>=0?e:l,d=Cy(this.props,u,this._listMetaData),p=function(e,t,n,r){for(var i=e.itemData,o=t,a=n+e.height,s=xy(e,o,r),l=s.offset+(s.size||0);o>0&&l<=a;){var c=xy(e,o,r);l=c.offset+c.size,o--}return o>=i.length?0:o}(this.props,d,u,this._listMetaData),h="backward"===s?o:Math.max(1,i),f="forward"===s?o:Math.max(1,i),m=Math.max(0,p-h),g=Math.max(0,Math.min(c-1,d+f));!Sy(this.props,g,this._listMetaData)&&g>0&&this._listMetaData.totalMeasuredSize>this.props.height;)g--;return!this.state.scrolledToInitIndex&&this.props.initRangeToRender.length?this.props.initRangeToRender:[m,g,d,p]},t}(p.exports.PureComponent);_y.defaultProps={innerTagName:"div",itemData:void 0,outerTagName:"div",overscanCountForward:30,overscanCountBackward:10};var qy=function(e){e.children,e.itemSize},Ay="mqik-0320c9fa",Py="mqik-f63140b7",Ty="mqik-11cd2054",Iy=[ts,ns],My=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e,t=this.props,n=t.isMobile,r=t.createAt,i=t.isScrolling,o=t.isRhsPost,a=t.toastPresent;if(!n||0===r)return null;var s=w("post-list__timestamp",Ay,(S(e={},Py,i),S(e,"rhs",o),S(e,"toastAdjustment",a),e));return f("div",{className:s,"data-testid":"floatingTimestamp",children:f("span",{className:Ty,children:f(es,{value:r,useTime:!1,ranges:Iy})})})}}]),n}(b.PureComponent);var Ny=g((function(e,t){var n=t.postId;if(Or(n)){var r=Lr(n);n=r[r.length-1]}var i=lr(e,n),o=Ea(e);return{createAt:i?i.create_at:0,toastPresent:o}}))(My),Ry="mqik-c5fc2b9f",Oy="mqik-2d0ee789",Ly=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"getProfilePictureURL",(function(){var t=e.props,n=t.post,r=t.user;return r&&r.id===n.user_id?Mt(r.id,r.last_picture_update):n.user_id?Mt(n.user_id):""})),S(m(e),"getStatus",(function(t,n,r){return t||n||r&&r.is_bot?"":e.props.status})),S(m(e),"getPostIconURL",(function(t,n,r){var i=e.props,o=i.enablePostIconOverride,a=i.hasImageProxy,s=i.post.props,l="",c="";return s&&(l=s.override_icon_url,c=s.use_user_icon),e.props.compactDisplay?"":!n&&r&&!c&&o?l&&""!==l?Dr(l,a):Se.DEFAULT_WEBHOOK_LOGO:t})),e}return u(n,[{key:"render",value:function(){var e=this.props,t=e.compactDisplay,n=e.isBusy,r=e.isRHS,i=e.post,o=e.user,a=e.isBot,s=Fr(i),l=Hr(i);if(s&&!t&&!l&&!a)return f(Ca,{className:"u3-w-6 u3-h-6"});var c=Ur(i),u=!c&&!l,d=this.getProfilePictureURL(),p=this.getPostIconURL(d,c,l),h=i.props?i.props.override_icon_emoji:"",m=i.props?i.props.override_username:"",g="string"==typeof h&&""!==h,v=this.getStatus(c,l,o);return f(as,{hasMention:u,isBusy:n,isRHS:r,size:"md",src:p,profileSrc:d,isEmoji:g,status:v,userId:null==o?void 0:o.id,channelId:i.channel_id,username:null==o?void 0:o.username,overwriteIcon:this.props.overwriteIcon,overwriteName:m,wrapperClass:Ry,statusClass:Oy})}}]),n}(b.PureComponent);S(Ly,"defaultProps",{status:mr.OFFLINE});var Dy=g((function(e,t){var n,r=be(e),i=He(e,t.userId),o="true"===r.EnablePostIconOverride&&t.post&&t.post.props&&t.post.props.override_icon_url;return o&&(n=Oe.getAbsoluteUrl(o)),{enablePostIconOverride:"true"===r.EnablePostIconOverride,overwriteIcon:n,hasImageProxy:"true"===r.HasImageProxy,status:fr(e,t.userId),isBot:Boolean(i&&i.is_bot),user:i}}))(Ly),Fy=b.createContext({handlePopupOpened:null}),Hy=Ka.jsx;var Uy=p.exports.forwardRef((function(e,t){return Hy("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Hy("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}))})),jy=[ts,ns],By=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleClick",(function(){Zn()&&Sa()})),e}return u(n,[{key:"render",value:function(){var e=this.props,t=e.eventTime,n=e.isPermalink,r=e.location,i=e.postId,o=e.teamUrl,a=e.styles,s=e.timestampProps,l=f(es,C({value:t,className:"post__time",useDate:!1},void 0===s?{}:s)),c=le()||!n?y("div",{role:"presentation",className:w("post_permalink_mobile_view",a.permarlink),children:[f(Uy,{className:a.timeIcon}),l]}):y(W,{id:"".concat(r,"_time_").concat(i),to:"".concat(o,"/pl/").concat(i),className:w("post__permalink",a.permarlink),onClick:this.handleClick,children:[f(Uy,{className:a.timeIcon}),l]});return f(sf,{placement:"top",content:f(es,{value:t,ranges:jy}),children:c})}}]),n}(b.PureComponent);S(By,"defaultProps",{eventTime:0,location:nr.CENTER});var zy=g((function(e){return{teamUrl:Pt(e)}}))(By),Vy=Ka.jsx;var Wy=p.exports.forwardRef((function(e,t){return Vy("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Vy("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}))})),Gy=Ka.jsx;var Ky,Yy,Xy,Qy,Jy=p.exports.forwardRef((function(e,t){return Gy("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Gy("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}))}));(Yy=Ky||(Ky={}))[Yy.Flagged=0]="Flagged",Yy[Yy.Pinned=1]="Pinned",Yy[Yy.PinnedAndFlagged=2]="PinnedAndFlagged",Yy[Yy.Neither=3]="Neither",(Qy=Xy||(Xy={})).Flagged="flagged",Qy.Pinned="pinned",Qy.PinnedAndFlagged="pinnedAndFlagged";var Zy=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"messageInfos",{flagged:{id:ce("post_pre_header.flagged"),defaultMessage:"Saved"},pinned:{id:ce("post_pre_header.pinned"),defaultMessage:"Pinned"}}),S(m(e),"handleLinkClick",(function(e,t){})),e}return u(n,[{key:"getPostStatus",value:function(e,t){return e?t?2:0:t?1:3}},{key:"getMessageInfo",value:function(e,t,n){if(t&&n)return!1;if(2===e){if(!n&&!t)return Xy.PinnedAndFlagged;if(n)return Xy.Flagged;if(t)return Xy.Pinned}return 0!==e||t?1===e&&!n&&Xy.Pinned:Xy.Flagged}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFlagged,r=t.isPinned,i=t.skipPinned,o=t.skipFlagged,a=t.channelId,s=t.styles,l=this.getMessageInfo(this.getPostStatus(n,r),o,i);if(!n&&!r||!l)return null;var c=[];return r&&!i&&c.push(y("div",{className:s.postMoreX,children:[f(Jy,{className:s.xIcon}),f("a",{className:w(s.postMoreLink),onClick:function(){return e.handleLinkClick(Xy.Pinned,a)},children:f(E,{id:this.messageInfos[Xy.Pinned].id,defaultMessage:this.messageInfos[Xy.Pinned].defaultMessage})})]},"post-more-pin")),n&&!o&&c.push(y("div",{className:s.postMoreX,children:[f(Wy,{className:s.xIcon}),f("a",{className:w(s.postMoreLink),onClick:function(){return e.handleLinkClick(Xy.Flagged)},children:f(E,{id:this.messageInfos[Xy.Flagged].id,defaultMessage:this.messageInfos[Xy.Flagged].defaultMessage})})]},"post-more-flag")),c.length?c:null}}]),n}(b.PureComponent),$y=I(Zy),ek=g(null,(function(e){return{actions:P({showFlaggedPosts:wn,showPinnedPosts:xn},e)}}))($y),tk=Ka.jsx;var nk=p.exports.forwardRef((function(e,t){return tk("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:tk("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}))})),rk=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props.styles,t=null,n="post-menu__item post-menu__item--wide";return this.props.commentCount>0?(n+=" post-menu__item--show",t=f("span",{className:"post-menu__comment-count",children:this.props.commentCount})):""!==this.props.searchStyle&&(n=n+" "+this.props.searchStyle),y("button",{id:"".concat(this.props.location,"_commentIcon_").concat(this.props.postId),"aria-label":_e("post_info.comment_icon.tooltip.reply","Reply").toLowerCase(),className:w(e.postComment,n,this.props.extraClass),onClick:this.props.handleCommentClick,children:[f(nk,{className:e.commentIcon}),t]})}}]),n}(b.PureComponent);function ik(e){return e.entities.files.files}function ok(e,t){return t&&e.entities.files.fileIdsByPostId[t]||[]}function ak(){return A(ik,ok,jr,(function(e,t,n){var r=t.map((function(t){return e[t]})).filter((function(e){return Boolean(e)}));return js(r,n)}))}S(rk,"defaultProps",{location:"CENTER",searchStyle:"",commentCount:0,extraClass:""}),A((function(e){return e.entities.files.filesFromSearch}),(function(e){return e.entities.search.fileResults}),(function(e,t){return t?t.map((function(t){return e[t]})):[]}));var sk=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){if(!this.props.fileInfos||0===this.props.fileInfos.length)return null;var e=null;return this.props.fileInfos.length>1&&(e=f(E,{id:"post_body.plusMore",defaultMessage:" plus {count, number} other {count, plural, one {file} other {files}}",values:{count:this.props.fileInfos.length-1}})),y("span",{children:[this.props.fileInfos[0].name,e]})}}]),n}(b.PureComponent);S(sk,"propTypes",{parentPostId:q.string.isRequired,fileInfos:q.arrayOf(q.object)});var lk=g((function(){var e=ak();return function(t,n){var r;return n.parentPostId&&(r=e(t,n.parentPostId)),{fileInfos:r}}}))(sk),ck={reply:"mqik-f3ee3da6"},uk=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"makeUsername",(function(){var t=e.props.post.props,n=e.props.displayName;return e.props.enablePostUsernameOverride&&t&&"true"===t.from_webhook&&t.override_username&&(n=t.override_username),n})),S(m(e),"makeCommentedOnMessage",(function(){var t=e.props.post,n="";if(t.message)n=Br(t.message);else if(t.file_ids&&t.file_ids.length>0)n=f(lk,{parentPostId:t.id});else if(t.props&&t.props.attachments&&t.props.attachments.length>0){var r=t.props.attachments[0],i=r.pretext||r.title||r.text||r.fallback||"";n=Br(i)}return n})),e}return u(n,[{key:"render",value:function(){var e=this.makeUsername(),t=this.makeCommentedOnMessage(),n=this.props.parentPostUser,r=n&&n.id||"",i=f(rs,{user:n,userId:r,displayName:e,hasMention:!0,disablePopover:!1});return y("div",{className:w(ck.reply,"post__link"),children:[f("div",{className:w(ck.replyBorder)}),y("div",{className:w(ck.replyContent),children:[f("div",{className:w(ck.replyTitle),dir:"auto",children:i}),f("div",{className:w(ck.replySubtitle),children:"string"==typeof t?zr(t):t})]})]})}}]),n}(p.exports.PureComponent);var dk=g((function(e,t){var n="";if(t.post){var r=He(e,t.post.user_id);n=Vr(e,r)}return{displayName:n,enablePostUsernameOverride:"true"===be(e).EnablePostUsernameOverride}}))(uk),pk=Ka.jsx;var hk=p.exports.forwardRef((function(e,t){return pk("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:pk("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}))})),fk=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props.fileInfo,t=Rn(e.extension);if(t===On.IMAGE){var n,r="post-image";e.width<Se.THUMBNAIL_WIDTH&&e.height<Se.THUMBNAIL_HEIGHT?r+=" small":r+=" normal";var i=Hs(e.id,null===(n=e.preview_path)||void 0===n?void 0:n.replace("_preview.jpg","_thumb.jpg"));return Ln(e.extension)&&!e.has_preview_image&&(i=Fs(e.id)),f("div",{className:r,style:{backgroundImage:"url(".concat(i,")"),backgroundSize:"cover"}})}return e.extension===On.SVG&&this.props.enableSVGs?f("img",{alt:"file thumbnail image",className:"post-image normal",src:Fs(e.id),loading:"lazy"}):f("div",{className:"file-icon "+Nn(t)})}}]),n}(b.PureComponent);var mk=g((function(e){return{enableSVGs:"true"===be(e).EnableSVGs}}))(fk),gk=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"mounted",!1),S(m(r),"loadFiles",(function(){var e=r.props.fileInfo;Rn(e.extension)===On.IMAGE?r.setState({loaded:!0}):e.extension===On.SVG&&r.props.enableSVGs&&Wr(Fs(e.id),r.handleImageLoaded)})),S(m(r),"handleImageLoaded",(function(){r.mounted&&r.setState({loaded:!0})})),S(m(r),"onAttachmentClick",(function(e){e.preventDefault(),"blur"in e.target&&e.target.blur(),r.props.handleImageClick&&r.props.handleImageClick(r.props.index)})),r.state={loaded:Rn(e.fileInfo.extension)!==On.IMAGE,fileInfo:e.fileInfo},r}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadFiles()}},{key:"componentDidUpdate",value:function(e){this.state.loaded||this.props.fileInfo.id===e.fileInfo.id||this.loadFiles()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e,t,n,r=this.props,i=r.compactDisplay,o=r.fileInfo,a=Os(o.name),s="".concat(_e("file_attachment.thumbnail","file thumbnail")," ").concat(o.name).toLowerCase();return i||(e=f("a",{"aria-label":s,className:"post-image__thumbnail",href:"#",onClick:this.onAttachmentClick,children:this.state.loaded?f(mk,{fileInfo:o}):f("div",{className:"post-image__load"})}),t=f("div",{className:"post-image__detail_wrapper",onClick:this.onAttachmentClick,children:y("div",{className:"post-image__detail",children:[f("span",{className:"post-image__name",children:a}),f("span",{className:"post-image__type",children:o.extension.toUpperCase()}),f("span",{className:"post-image__size",children:Dn(o.size)})]})})),this.props.canDownloadFiles&&(n=f(cm,{fileInfo:o,compactDisplay:i,canDownload:this.props.canDownloadFiles,handleImageClick:this.onAttachmentClick,iconClass:"post-image__download",children:f(hk,{className:"u3-w-5 u3-h-5"})})),y("div",{className:"post-image__column",children:[e,f("div",{className:"post-image__details",children:t}),n]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.fileInfo.id!==t.fileInfo.id){var n=e.fileInfo.extension;return{loaded:Rn(n)!==On.IMAGE&&!(e.enableSVGs&&n===On.SVG),fileInfo:e.fileInfo}}return null}}]),n}(b.PureComponent);var vk=g((function(e){var t=be(e);return{canDownloadFiles:Bs(t),enableSVGs:"true"===t.EnableSVGs}}))(gk),bk={fileViewSingle:"mqik-b97d3817",imageLoaded:"mqik-85cb961c",filePreviewButton:"mqik-e068c589",compactDisplay:"mqik-66f0f9fa",minPreview:"mqik-8e67e726",minPreviewPortrait:"mqik-f3595944",smallImageInsideContainer:"mqik-ad6eb812"},yk=function(e){d(n,e);var t=h(n);function n(e){var r,i,o;return l(this,n),S(m(o=t.call(this,e)),"mounted",void 0),S(m(o),"imageLoaded",(function(){o.mounted&&o.setState({loaded:!0})})),S(m(o),"handleImageClick",(function(e){e.preventDefault(),o.setState({showPreviewModal:!0})})),S(m(o),"showPreviewModal",(function(){o.setState({showPreviewModal:!1})})),S(m(o),"toggleEmbedVisibility",(function(){o.props.actions.toggleEmbedVisibility(o.props.postId)})),o.mounted=!0,o.state={loaded:!1,showPreviewModal:!1,dimensions:{width:(null===(r=e.fileInfo)||void 0===r?void 0:r.width)||0,height:(null===(i=e.fileInfo)||void 0===i?void 0:i.height)||0}},o}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.fileInfo,n=e.compactDisplay,r=this.state.loaded;if(void 0===t)return f(p.exports.Fragment,{});var i,o=t.has_preview_image,a=t.id,s=Fs(a),l=o?zs(a):s,c=t.height,u=t.width,d={};(u<50||c<50)&&(d[bk.minPreview]=!0,c>u&&(d[bk.minPreviewPortrait]=!0)),n&&(d[bk.minPreviewCompact]=!0);var h="",m={},g={},v="";return Rn(t.extension)===On.SVG&&(v="svg",this.state.dimensions.height?m={width:"100%"}:g={height:350,maxWidth:"100%"}),r&&(i=f(Vs,{show:this.state.showPreviewModal,onModalDismissed:this.showPreviewModal,fileInfos:[t],postId:this.props.postId}),h="image-fade-in"),f("div",{className:w(bk.fileViewSingle),children:y("div",{className:"file__image",children:[this.props.isEmbedVisible&&f("div",{className:"image-container",style:g,children:f("div",{className:w(bk.imageLoaded,"image-loaded ".concat(h," ").concat(v)),style:m,children:f(Ws,{onClick:this.handleImageClick,className:w(d),src:l,dimensions:this.state.dimensions,fileInfo:this.props.fileInfo,onImageLoaded:this.imageLoaded,showLoader:this.props.isEmbedVisible,handleSmallImageContainer:!0})})}),i]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,i;return(null===(n=e.fileInfo)||void 0===n?void 0:n.width)!==t.dimensions.width||e.fileInfo.height!==t.dimensions.height?{dimensions:{width:null===(r=e.fileInfo)||void 0===r?void 0:r.width,height:null===(i=e.fileInfo)||void 0===i?void 0:i.height}}:null}}]),n}(b.PureComponent);S(yk,"defaultProps",{compactDisplay:!1});var kk=g((function(e){return{isRhsOpen:mn(e)}}),(function(e){return{actions:P({toggleEmbedVisibility:Gr},e)}}))(yk),wk=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"handleImageClick",(function(e){r.setState({showPreviewModal:!0,startImgIndex:e})})),S(m(r),"hidePreviewModal",(function(){r.setState({showPreviewModal:!1})})),r.state={showPreviewModal:!1,startImgIndex:0},r}return u(n,[{key:"render",value:function(){var e=this.props,t=e.compactDisplay,n=e.enableSVGs,r=e.fileInfos,i=e.fileCount,o=e.locale;if(r&&1===r.length){var a=Rn(r[0].extension);if(a===On.IMAGE||a===On.SVG&&n)return f(kk,{fileInfo:r[0],isEmbedVisible:this.props.isEmbedVisible,postId:this.props.post.id,compactDisplay:t})}else if(1===i&&this.props.isEmbedVisible)return f("div",{style:xk.minHeightPlaceholder});var s=js(r,o),l=[];if(s&&s.length>0)for(var c=0;c<s.length;c++){var u=s[c];l.push(f(vk,{fileInfo:s[c],index:c,handleImageClick:this.handleImageClick,compactDisplay:t},u.id))}else if(i>0)for(var d=0;d<i;d++)l.push(f("div",{className:"post-image__column post-image__column--placeholder"},"fileCount-".concat(d)));return y(R,{children:[f("div",{"data-testid":"fileAttachmentList",className:w("post-image__columns clearfix u3-grid-cols-1"),children:l}),f(Vs,{show:this.state.showPreviewModal,onModalDismissed:this.hidePreviewModal,startIndex:this.state.startImgIndex,fileInfos:s,postId:this.props.post.id})]})}}]),n}(b.PureComponent),xk={minHeightPlaceholder:{minHeight:"385px"}};var Ek=g((function(){var e=ak();return function(t,n){var r=n.post?n.post.id:"",i=e(t,r),o=0;return n.post.metadata&&n.post.metadata.files?o=(n.post.metadata.files||[]).length:n.post.file_ids?o=n.post.file_ids.length:n.post.filenames&&(o=n.post.filenames.length),{enableSVGs:"true"===be(t).EnableSVGs,fileInfos:i,fileCount:o,isEmbedVisible:Kr(t,n.post.id),locale:Kn(t)}}}))(wk),Ck=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"retryPost",(function(t){t.preventDefault();var n=C({},e.props.post);Reflect.deleteProperty(n,"id"),e.props.actions.createPost(n)})),S(m(e),"cancelPost",(function(t){t.preventDefault(),e.props.actions.removePost(e.props.post)})),e}return u(n,[{key:"render",value:function(){return y("span",{className:"pending-post-actions",children:[f("a",{className:"post-retry",href:"#",onClick:this.retryPost,children:f(E,{id:"pending_post_actions.retry",defaultMessage:"Retry"})})," - ",f("a",{className:"post-cancel",href:"#",onClick:this.cancelPost,children:f(E,{id:"pending_post_actions.cancel",defaultMessage:"Cancel"})})]})}}]),n}(b.PureComponent);var Sk=g(null,(function(e){return{actions:P({createPost:Rr,removePost:Yr},e)}}))(Ck);function _k(e){return void 0!==e.height&&void 0!==e.width}function qk(e,t){return Math.sqrt(Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2))}var Ak={attachmentOpengraph:"mqik-6cc8f915",attachmentContainer:"mqik-e7a58115",bodyWrap:"mqik-1169cf76",bodySitename:"mqik-e1371c16",attachmentTitle:"mqik-83fe2fc2",titleUrl:"mqik-18bfc7fe",attachmentBody:"mqik-7017ff1b"},Pk={height:80,width:80},Tk=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"getImageMetadata",(function(t){if(t){var n=e.props.post.metadata.images;if(n)return n[t]}})),S(m(e),"isLargeImage",(function(e){if(!e)return!1;var t=e.height,n=e.width;return n>=150&&n/t>=16/9})),S(m(e),"handleRemovePreview",x(k().mark((function t(){var n,r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object.assign({},e.props.post.props))[Xr.REMOVE_LINK_PREVIEW]="true",r={id:e.props.post.id,props:n},t.abrupt("return",e.props.actions.editPost(r));case 4:case"end":return t.stop()}}),t)})))),e}return u(n,[{key:"renderImageToggle",value:function(){return f("button",{className:"style--none post__embed-visibility color--link","data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.props.toggleEmbedVisibility})}},{key:"renderLargeImage",value:function(e,t){if(this.props.isEmbedVisible)return f(Gs,{src:e,imageMetadata:t,children:function(e){return f(Ws,{className:"attachment__image attachment__image--opengraph large_image",src:e,dimensions:t})}})}},{key:"renderSmallImage",value:function(e,t){if(this.props.isEmbedVisible)return f("div",{className:"attachment__image__container--opengraph",children:f(Gs,{src:e,imageMetadata:t,children:function(e){return f(Ws,{className:"attachment__image attachment__image--opengraph",src:e,dimensions:t})}})})}},{key:"truncateText",value:function(e){return e&&e.length>128?e.substring(0,128-"...".length)+"...":e}},{key:"hasPreviewBeenRemoved",value:function(){var e=this.props.post;return!(!e||!e.props)&&"true"===e.props[Xr.REMOVE_LINK_PREVIEW]}},{key:"render",value:function(){if(!this.props.previewEnabled||!this.props.enableLinkPreviews)return null;if(!this.props.post||Fr(this.props.post))return null;if(this.hasPreviewBeenRemoved())return null;var e=this.props.openGraphData;if(!e)return null;var t,n,r=function(e,t){var n;if(null==e||null===(n=e.images)||void 0===n||!n.length)return;var r=e.images.map((function(e){var n=e.secure_url||e.url;return e.width&&e.height||!t||!t[n]?e:C(C({},e),{},{height:e.height||t[n].height,width:e.width||t[n].width})})),i=(o=Pk,a=r,a.reduce((function(e,t){return _k(e)&&_k(t)&&qk(t,o)>=qk(e,o)?e:t}),{}));var o,a;return i.secure_url||i.url}(e,this.props.post.metadata.images),i=this.getImageMetadata(r),o=this.isLargeImage(i);return this.props.currentUserId===this.props.post.user_id&&(t=f("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:this.handleRemovePreview,"data-testid":"removeLinkPreviewButton",children:f("span",{"aria-hidden":"true",children:"×"})})),(e.description||r)&&(n=y("div",{className:Ak.attachmentBody,children:[y("div",{children:[this.truncateText(e.description)," ",r&&o&&this.renderImageToggle()]}),r&&o&&this.renderLargeImage(r,i)]})),f("div",{className:Ak.attachmentOpengraph,children:y("div",{className:w(Ak.attachmentContainer,Ak.clearfix),children:[y("div",{className:w(Ak.bodyWrap,"attachment__body__wrap attachment__body__wrap--opengraph"),children:[f("span",{className:Ak.bodySitename,children:this.truncateText(e.site_name)}),t,f("h1",{className:w(Ak.attachmentTitle,S({},Ak.titleUrl,!!e.title)),children:f("a",{className:Ak.attachmentTitleLink,href:Qr(e.url||this.props.link),target:"_blank",rel:"noopener noreferrer",title:e.title||e.url||this.props.link,children:this.truncateText(e.title||e.url||this.props.link)})}),n]}),r&&!o&&this.renderSmallImage(r,i)]})})}}]),n}(b.PureComponent);var Ik=g((function(e,t){var n=be(e);return{currentUserId:ge(e),enableLinkPreviews:"true"===n.EnableLinkPreviews,openGraphData:Jr(e,t.postId,t.link),previewEnabled:qe(e,hr.CATEGORY_DISPLAY_SETTINGS,hr.LINK_PREVIEW_DISPLAY,!0)}}),(function(e){return{actions:P({editPost:uc},e)}}))(Tk),Mk=/(?:http|https):\/\/(?:www\.|m\.)?(?:(?:youtube\.com\/(?:(?:v\/)|(?:(?:watch|embed\/watch)(?:\/|.*v=))|(?:embed\/)|(?:user\/[^/]+\/u\/[0-9]\/)))|(?:youtu\.be\/))([^#&?]*)/;var Nk="mqik-94991666",Rk="mqik-178c5de4",Ok="mqik-0a594c35",Lk="mqik-f8cd4376",Dk="mqik-a456e5e8",Fk="mqik-a9524bbe",Hk=function(e){d(n,e);var t=h(n);function n(e,r){var i;return l(this,n),S(m(i=t.call(this,e,r)),"play",(function(){i.setState({playing:!0})})),S(m(i),"stop",(function(){i.setState({playing:!1})})),i.state={playing:!1},i}return u(n,[{key:"render",value:function(){var e,t=this.props,n=t.metadata,r=t.link,i=function(e){var t=e.trim().match(Mk);return t&&11===t[1].length?t[1]:null}(r),o=function(e){var t,n,r,i,o,a,s=e.match(/[\\?&](t|time|start|time_continue)=([0-9]+h)?([0-9]+m)?([0-9]+s?)/);if(null==s||!s[0])return"";var l=null!==(t=null===(n=s[2])||void 0===n?void 0:n.match(/([0-9]+)h/))&&void 0!==t?t:null,c=null!==(r=null===(i=s[3])||void 0===i?void 0:i.match(/([0-9]+)m/))&&void 0!==r?r:null,u=null!==(o=null===(a=s[4])||void 0===a?void 0:a.match(/([0-9]+)s?/))&&void 0!==o?o:null,d=0;return null!=l&&l[1]&&(d+=3600*parseInt(l[1],10)),null!=c&&c[1]&&(d+=60*parseInt(c[1],10)),null!=u&&u[1]&&(d+=parseInt(u[1],10)),"&start=".concat(d)}(r),a=y("h4",{children:[f("span",{className:Rk,children:"YouTube - "}),f("span",{className:Ok,children:f("a",{href:this.props.link,target:"_blank",rel:"noopener noreferrer",children:(null==n?void 0:n.title)||"unknown"})})]});if(this.state.playing)e=f("iframe",{src:"https://www.youtube.com/embed/"+i+"?autoplay=1&autohide=1&border=0&wmode=opaque&fs=1&enablejsapi=1"+o,width:"480px",height:"360px",frameBorder:"0",allowFullScreen:!0});else{var s=null==n?void 0:n.images[0];e=f("div",{className:"embed-responsive video-div__placeholder",children:y("div",{className:w("u3-aspect-w-16 u3-aspect-h-9"),children:[f(Gs,{src:(null==s?void 0:s.secure_url)||(null==s?void 0:s.url)||"",children:function(e){return f("img",{src:e,alt:"youtube video thumbnail",className:"video-thumbnail",loading:"lazy"})}}),f("div",{className:Dk,children:f("span",{className:Fk,children:f("span",{})})})]})})}return y("div",{className:Nk,children:[a,f("div",{className:w(Lk,"u3-aspect-w-16 u3-aspect-h-9"),onClick:this.play,children:e})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!e.show&&t.playing?{playing:!1}:null}},{key:"isYoutubeLink",value:function(e){return Boolean(e.trim().match(Mk))}}]),n}(b.PureComponent);var Uk=g((function(e,t){var n=be(e);return{currentChannelId:Q(e),googleDeveloperKey:n.GoogleDeveloperKey,hasImageProxy:"true"===n.HasImageProxy,metadata:Jr(e,t.postId,t.link)}}))(Hk),jk=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"toggleEmbedVisibility",(function(){e.props.actions.toggleEmbedVisibility(e.props.post.id)})),S(m(e),"getEmbed",(function(){var t=e.props.post.metadata;return Zr(t)})),S(m(e),"isEmbedToggleable",(function(t){var n,r=v(e.props.pluginPostWillRenderEmbedComponents||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.match(t))return Boolean(i.toggleable)}}catch(o){r.e(o)}finally{r.f()}return"image"===t.type||"opengraph"===t.type&&Uk.isYoutubeLink(t.url)})),S(m(e),"renderEmbed",(function(t){var n,r=v(e.props.pluginPostWillRenderEmbedComponents||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.match(t)){var o=i.component;return e.props.isEmbedVisible&&f(o,{embed:t})}}}catch(a){r.e(a)}finally{r.f()}switch(t.type){case"opengraph":return Uk.isYoutubeLink(t.url)?e.props.isEmbedVisible?f(Uk,{postId:e.props.post.id,link:t.url,show:e.props.isEmbedVisible}):null:f(Ik,{postId:e.props.post.id,link:t.url,isEmbedVisible:e.props.isEmbedVisible,post:e.props.post,toggleEmbedVisibility:e.toggleEmbedVisibility});default:return null}})),S(m(e),"renderToggle",(function(t){return f("button",{className:"u3-hidden style--none post__embed-visibility color--link ".concat(t?"pull-left":""),"data-expanded":e.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:e.toggleEmbedVisibility},"toggle")})),e}return u(n,[{key:"render",value:function(){var e=this.getEmbed();if(e){var t=this.isEmbedToggleable(e),n=/^\s*https?:\/\/.*$/.test(this.props.post.message);return y(p.exports.Fragment,{children:[t&&n&&this.renderToggle(!0),this.props.children,t&&!n&&this.renderToggle(!1),this.renderEmbed(e)]})}return this.props.children}}]),n}(b.PureComponent);var Bk=g((function(e,t){return{isEmbedVisible:Kr(e,t.post.id),pluginPostWillRenderEmbedComponents:e.plugins.components.PostWillRenderEmbedComponent,appsEnabled:_a(e)}}),(function(e){return{actions:P({toggleEmbedVisibility:Gr},e)}}))(jk),zk={postMessageCollapsed:"mqik-f9c1bc6c",postMessageTextContainer:"mqik-73aa12ca",allEmoji:"mqik-891139f6",emoticon:"mqik-c6409bd1",emoticonUnicode:"mqik-14df24fa",osWindows:"mqik-963640c5",emoticonBig:"mqik-55563ce3",postCollapseGradient:"mqik-4ee04c9f",postAttachmentCollapseGradient:"mqik-ba3d91ab",postCollapseShowMore:"mqik-7a691046",postCollapse:"mqik-342fb210",postCollapseShowmore:"mqik-14c45232",showMoreButton:"mqik-a3d41e1d",postMoreIcon:"mqik-3f591d27",postMessageExpanded:"mqik-a41ece2d",postMessageOverflow:"mqik-d1da61d1"},Vk=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"maxHeight",void 0),S(m(r),"textContainer",void 0),S(m(r),"overflowRef",void 0),S(m(r),"checkTextOverflowDebounce",void 0),S(m(r),"toggleCollapse",(function(e){e.preventDefault(),r.setState((function(e){return{isCollapsed:!e.isCollapsed}}))})),S(m(r),"checkTextOverflow",(function(){r.overflowRef&&window.cancelAnimationFrame(r.overflowRef),r.overflowRef=window.requestAnimationFrame((function(){var e=!1;r.textContainer.current&&r.textContainer.current.scrollHeight>r.maxHeight&&(e=!0),e!==r.state.isOverflow&&r.setState({isOverflow:e})}))})),S(m(r),"handleResize",(function(){r.checkTextOverflowDebounce()})),r.maxHeight=r.props.isAttachmentText?200:100,r.textContainer=b.createRef(),r.state={isCollapsed:!0,isOverflow:!1},r.checkTextOverflowDebounce=qa((function(){r.checkTextOverflow()}),e.isRHSOpen?1e3:200),r}return u(n,[{key:"componentDidMount",value:function(){if(this.checkTextOverflowDebounce(),window.addEventListener("resize",this.handleResize),this.textContainer.current){var e=getComputedStyle(this.textContainer.current);this.maxHeight=this.props.isAttachmentText?200:5*parseFloat(e.lineHeight.replace("px",""))}}},{key:"componentDidUpdate",value:function(e){this.props.text===e.text&&this.props.isRHSExpanded===e.isRHSExpanded&&this.props.isRHSOpen===e.isRHSOpen&&this.props.checkOverflow===e.checkOverflow||this.checkTextOverflowDebounce()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),this.overflowRef&&window.cancelAnimationFrame(this.overflowRef)}},{key:"render",value:function(){var e,t=this.state,n=t.isCollapsed,r=t.isOverflow,i=this.props,o=i.text,a=i.children,s=i.isAttachmentText,l=i.compactDisplay,c=i.isMe,u={"post-message":!0};n?(e=this.maxHeight,u[zk.postMessageCollapsed]=!0):u[zk.postMessageExpanded]=!0,""===o&&(u["u3-hidden"]=!0);var d=null;if(r){var p,h;!s&&n&&l&&e&&(e-=22);var m=f($c,{className:zk.postMoreIcon}),g=_e("post_info.message.show_less","Show less");n&&(m=f(Ks,{className:zk.postMoreIcon}),g=_e("post_info.message.show_more","Show more")),d=y("div",{className:w(zk.postCollapse,S({},zk.postCollapseMe,c)),children:[f("div",{className:w((p={},S(p,zk.postCollapseGradient,!s),S(p,zk.postAttachmentCollapseGradient,s),p))}),y("div",{className:w((h={},S(h,zk.postCollapseShowmore,!s),S(h,zk.postAttachmentCollapseShowmore,s),h)),children:[f("div",{className:"post-collapse__show-more-line"}),y("button",{id:"showMoreButton",className:zk.showMoreButton,onClick:this.toggleCollapse,children:[m," ",g]}),f("div",{className:"post-collapse__show-more-line"})]})]}),u[zk.postMessageOverflow]=!0}return y("div",{className:w(u),children:[f("div",{style:{maxHeight:e},className:w(zk.postMessageTextContainer),ref:this.textContainer,children:a}),d]})}}]),n}(b.PureComponent);var Wk=g((function(e){return{isRHSExpanded:xr(e),isRHSOpen:mn(e),compactDisplay:vr(e,hr.CATEGORY_DISPLAY_SETTINGS,hr.MESSAGE_DISPLAY,hr.MESSAGE_DISPLAY_DEFAULT)===hr.MESSAGE_DISPLAY_COMPACT}}))(Vk),Gk="mqik-db20077f",Kk="mqik-459e6526",Yk=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"imageProps",void 0),S(m(r),"checkPostOverflow",(function(){r.setState((function(e){return{checkOverflow:e.checkOverflow+1}}))})),S(m(r),"handleHeightReceived",(function(e){e>0&&r.checkPostOverflow()})),S(m(r),"handleFormattedTextClick",(function(e){return ei(e,r.props.currentRelativeTeamUrl)})),r.state={collapse:!0,hasOverflow:!1,checkOverflow:0},r.imageProps={onImageLoaded:r.handleHeightReceived,onImageHeightChanged:r.checkPostOverflow},r}return u(n,[{key:"renderDeletedPost",value:function(){return f("p",{children:f(E,{id:"post_body.deleted",defaultMessage:"(message deleted)"})})}},{key:"renderEditedIndicator",value:function(){return $r(this.props.post)?f("span",{id:"postEdited_".concat(this.props.post.id),className:Kk,children:f(E,{id:"post_message_view.edited",defaultMessage:"(edited)"})}):null}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.enableFormatting,r=e.options,i=e.pluginPostTypes,o=e.compactDisplay,a=e.isRHS,s=e.theme,l=e.wordBlocked;if(t.state===Xe.POST_DELETED)return this.renderDeletedPost();var c=l.reduce((function(e,t){var n=new RegExp("\\b".concat(t,"\\b"),"ig");return t.length<3?e.replace(n,"••"):e.replace(n,"•••")}),t.message);if(!n)return f("span",{children:c});var u=t.props&&t.props.type?t.props.type:t.type;if(i&&i.hasOwnProperty(u)){var d=i[u].component;return f(d,{post:t,compactDisplay:o,isRHS:a,theme:s})}var p=Ye(t);if(o&&p){var h=_e("post_info.message.visible.compact"," (Only visible to you)");c=c.concat(h)}var m=a?"rhsPostMessageText_".concat(t.id):"postMessageText_".concat(t.id);return y(Wk,{checkOverflow:this.state.checkOverflow,isMe:ti(t),text:c||"",children:[f("div",{"aria-readonly":"true",tabIndex:0,id:m,className:w(Gk,"post-message__text"),dir:"auto",onClick:this.handleFormattedTextClick,children:f(qc,{message:c,imageProps:this.imageProps,isRHS:a,options:r,post:t,channelId:t.channel_id,mentionKeys:[]})}),this.renderEditedIndicator()]})}}]),n}(b.PureComponent);S(Yk,"defaultProps",{options:{},isRHS:!1,pluginPostTypes:{}});var Xk=g((function(e){return{enableFormatting:qe(e,Ae.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),isRHSExpanded:xr(e),isRHSOpen:mn(e),pluginPostTypes:e.plugins.postTypes,theme:ni(e),currentRelativeTeamUrl:Pt(e),wordBlocked:ri(e)}}))(Yk),Qk=function(){return y("div",{className:Ys.messageSend,children:[f("span",{}),f("span",{}),f("span",{})]})},Jk={time:"mqik-ce640c6c",timeX:"mqik-64ed99d2",inner:"mqik-ff775782"},Zk=[ts,ns],$k=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleClick",(function(){Zn()&&Sa()})),e}return u(n,[{key:"render",value:function(){var e=this.props,t=e.eventTime,n=e.timestampProps,r=f(es,C({value:t,className:"post__time",useDate:!1},void 0===n?{}:n));return f(sf,{placement:"top",content:f(es,{value:t,ranges:Zk}),children:y("span",{className:w(Jk.time,Jk.timeGico),children:[f("span",{className:w(Jk.timeX),children:r}),f("div",{className:w(Jk.inner,Jk.timeGico),children:f("span",{className:w(Jk.timeX),children:r})})]})})}}]),n}(b.PureComponent);S($k,"defaultProps",{eventTime:0,location:nr.CENTER});var ew=g((function(e){return{teamUrl:Pt(e)}}))($k),tw=Ka.jsx;var nw=p.exports.forwardRef((function(e,t){return tw("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:tw("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}))})),rw="mqik-f7e4dfc9",iw="mqik-fc7259fb",ow="mqik-c49edd77",aw="mqik-9fa139e9",sw="mqik-4b4108bd",lw="mqik-bac0c281",cw="mqik-a411a499",uw="mqik-92463326",dw="mqik-2d7fff5f",pw=function(e){d(n,e);var t=h(n);function n(e){var r;l(this,n),S(m(r=t.call(this,e)),"reactionButtonRef",b.createRef()),S(m(r),"reactionCountRef",b.createRef()),S(m(r),"animating",!1),S(m(r),"handleClick",(function(){if(r.props.canAddReaction&&r.props.canRemoveReaction&&!r.animating){var e=r.props.sortedUsers.currentUserReacted;r.animating=!0,r.setState((function(t){return e?{displayNumber:t.displayNumber-1,reactedClass:"Reaction--unreacting"}:{displayNumber:t.displayNumber+1,reactedClass:"Reaction--reacting"}})),r.handleAnimationEnded()}})),S(m(r),"handleAnimationEnded",(function(){var e=r.props,t=e.actions,n=e.post,i=e.emojiName,o=e.postAdmin,a=r.props.sortedUsers.currentUserReacted;r.animating=!1,r.setState((function(e){return"Reaction--reacting"===e.reactedClass?{reactedClass:"Reaction--reacted"}:"Reaction--unreacting"===e.reactedClass?{reactedClass:"Reaction--unreacted"}:e})),a?t.removeReaction(n.id,i):t.addReaction(n.id,i,o)})),S(m(r),"loadMissingProfiles",x(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.reactions.map((function(e){return e.user_id})),r.props.actions.getMissingProfilesByIds(t);case 2:case"end":return e.stop()}}),e)}))));var i=r.props.reactionCount,o=r.props.sortedUsers.currentUserReacted;return r.state=o?{reactedClass:"Reaction--reacted",displayNumber:i}:{reactedClass:"Reaction--unreacted",displayNumber:i},r}return u(n,[{key:"componentDidUpdate",value:function(e){if(e.reactionCount!==this.props.reactionCount){var t=this.props.sortedUsers.currentUserReacted?"Reaction--reacted":"Reaction--unreacted";this.animating=!1,this.setState({displayNumber:this.props.reactionCount,reactedClass:t})}}},{key:"render",value:function(){if(!this.props.emojiImageUrl)return null;var e,t=this.props.sortedUsers,n=t.currentUserReacted,r=t.users,i=this.props,o=i.reactionCount,a=i.otherUsersCount,s=i.canAddReaction,l=i.canRemoveReaction,c=this.state.displayNumber,u=n?o:o+1,d=n?o-1:o,p=d>0?d:"",h=u>0?u:"",m=c>0?c:"",g=s&&l?"":"Reaction--read-only";if(!c)return null;a>0?r.length>0&&r.join(", "):r.length>1?(r.slice(0,-1).join(", "),r[r.length-1]):r[0],r.length,this.props.emojiName;var v={},b=this.props.emojiName.replace(/_/g," "),k="".concat(_e("reaction.reactWidth.ariaLabel","react with")," ").concat(b);return n&&l?(k="".concat(_e("reaction.removeReact.ariaLabel","remove reaction")," ").concat(b),v=S({},iw,!0),e=f(E,{id:"reaction.clickToRemove",defaultMessage:"(click to remove)"})):!n&&s&&(v=S({},ow,!0),e=f(E,{id:"reaction.clickToAdd",defaultMessage:"(click to add)"})),f(sf,{placement:"right",content:e,children:y("button",{id:"postReaction-".concat(this.props.post.id,"-").concat(this.props.emojiName),"aria-label":k,className:w(rw,v,"Reaction",this.state.reactedClass,g),onClick:this.handleClick,ref:this.reactionButtonRef,children:[f("span",{className:w(dw,"Reaction__emoji emoticon"),style:{backgroundImage:"url("+this.props.emojiImageUrl+")"}}),f("span",{ref:this.reactionCountRef,className:aw,children:y("span",{className:sw,children:[f("span",{className:w(lw,"zzz-display"),children:m}),f("span",{className:w(uw,"zzz-unreacted"),children:p}),f("span",{className:w(cw,"zzz-reacted"),children:h})]})})]})})}}]),n}(b.PureComponent);function hw(e,t,n,r,i,o,a,s){return!!Ie(e,{team:t,channel:n,permission:s})&&!(r===ee.DEFAULT_CHANNEL&&"true"===i.ExperimentalTownSquareIsReadOnly&&"true"===o.IsLicensed&&!a.roles.includes("system_admin"))}var fw=g((function(){var e=ii();return function(t,n){var r,i=be(t),o=ct(t),a=Le(t),s=e(t,n.reactions);oi.has(n.emojiName)?r=Tn[oi.get(n.emojiName)]:r=ai(t).get(n.emojiName);var l="";r&&(l=An(r));var c=Je(t,n.post.channel_id)||{},u=0!==c.delete_at,d=c.team_id,p=ge(t),h=_t(t);He(t,n.post.user_id);var f=!1,m=!1;return u||(f=hw(t,d,n.post.channel_id,c.name,i,o,a,pe.REMOVE_REACTION),m=hw(t,d,n.post.channel_id,c.name,i,o,a,pe.ADD_REACTION)),{profiles:s,postAdmin:!1,otherUsersCount:n.reactions.length-s.length,currentUserId:p,reactionCount:n.reactions.length,canAddReaction:f,canRemoveReaction:m,emojiImageUrl:l,sortedUsers:si(n.reactions,p,s,h)}}}),(function(e){return{actions:P({addReaction:Sr,removeReaction:_r,getMissingProfilesByIds:li},e)}}))(pw),mw="mqik-fdfc9c9d",gw="mqik-7eba8b75",vw="mqik-0f4da2dd",bw="mqik-741923ca",yw="mqik-1093d31b",kw=function(e){var t=e.emoji,n=e.spriteClassName;return f("div",{className:w(bw),children:f("div",{className:w(yw),children:f("img",{alt:t.aliases.join(" - "),src:An(t),className:n,onClick:function(t){t.preventDefault(),e.onItemClick(e.emoji)},role:"button"})})})};function ww(e,t){return t.findIndex((function(t){return e.includes(t)}))}function xw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!(n>10)&&(!!e.isEqualNode(t)||xw(e,t.parentNode,n+1))}var Ew=["heart","thumbsup","rofl","astonished","cry","rage"];var Cw=g((function(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:In(e),recentEmojis:Mn(e),activeEmojis:Ew}}))((function(e){var t,n=s(p.exports.useState(e.show),2),r=n[0],i=n[1],o=s(p.exports.useState(!0),2),a=o[0],l=o[1],c=s(p.exports.useState([]),2),u=c[0],d=c[1],h=p.exports.useRef(null);function m(){e.target()&&h.current&&(t=Qa(e.target(),h.current,{placement:"top-start",strategy:"absolute",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"preventOverflow",options:{mainAxis:!1,altAxis:!0}},{name:"offset",options:{offset:function(e){e.placement,e.reference,e.popper;return[0,6]}}}],onFirstUpdate:function(t){l(!0),e.toggleFocus&&e.toggleFocus(!0)}}))}function g(t){h.current&&(xw(h.current.parentNode,t.target)||(e.onHide(),e.toggleFocus&&e.toggleFocus(!1)))}return p.exports.useEffect((function(){var n;return m(),null===(n=ci())||void 0===n||n.addEventListener("mouseup",g,!1),function(){var n;null===(n=ci())||void 0===n||n.removeEventListener("mouseup",g,!1),t&&(t.destroy(),e.toggleFocus&&e.toggleFocus(!1))}}),[]),p.exports.useEffect((function(){r||l(!1),t?t.update():m()}),[r]),p.exports.useEffect((function(){i(e.show)}),[e.show]),p.exports.useEffect((function(){var t=e.activeEmojis,n=[];Pn.forEach((function(e){var r=e.map((function(e){return Tn[e]})).filter((function(e){return ww(t,e.aliases)>-1}));n=n.concat(r)})),n.sort((function(e,n){return ww(e.aliases,t)>ww(n.aliases,t)})),n=n.map((function(e){var t=C({},e);return t.filename=function(e){return e.filename||e.id}(e),t})),d(n)}),[e.recentEmojis]),f(p.exports.Fragment,r?{children:f("div",{role:"reactions-popper",ref:h,className:w(mw,{"u3-invisible u3-opacity-0":!a}),children:f("div",{className:gw,children:f("div",{className:vw,children:u.map((function(t,n){return f(kw,{emoji:t,onItemClick:e.onEmojiClick},"".concat(t.filename,"-").concat(n))}))})})})}:{})})),Sw="mqik-2f5c50fc",_w="mqik-ec597914",qw="mqik-7c91bb5a",Aw=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"addReactionButtonRef",b.createRef()),S(m(r),"getTarget",(function(){return r.addReactionButtonRef.current})),S(m(r),"handleEmojiClick",(function(e){r.setState({showEmojiPicker:!1});var t=ui(e)?e.name:e.aliases[0];r.props.actions.addReaction(r.props.post.id,t,r.props.postAdmin)})),S(m(r),"hideEmojiPicker",(function(){r.setState({showEmojiPicker:!1})})),S(m(r),"toggleEmojiPicker",(function(){r.setState({showEmojiPicker:!r.state.showEmojiPicker})})),r.state={showEmojiPicker:!1},r}return u(n,[{key:"render",value:function(){var e=this,t=new Map,n=[];if(this.props.reactions)for(var r=0,i=Object.values(this.props.reactions);r<i.length;r++){var o=i[r],a=o.emoji_name;t.has(a)?t.get(a).push(o):(n.push(a),t.set(a,[o]))}if(0===t.size)return f("div",{className:"no-reactions"});var s=n.map((function(n){return f(fw,{post:e.props.post,emojiName:n,reactions:t.get(n)||[]},n)})),l=this.getTarget();return l&&(window.innerWidth,l.getBoundingClientRect().right),this.props.enableEmojiPicker&&(this.props.post.channel_id,this.props.teamId,pe.ADD_REACTION,this.state.showEmojiPicker,this.getTarget,this.hideEmojiPicker,this.hideEmojiPicker,this.handleEmojiClick,_e("reaction.add.ariaLabel","Add a reaction"),w("Reaction"),this.toggleEmojiPicker,"addReaction-".concat(this.props.post.id),w(_w,S({},qw,this.state.showEmojiPicker)),this.addReactionButtonRef),f("div",{"aria-label":_e("reaction.container.ariaLabel","reactions"),className:w(Sw,"post__reaction-list"),children:s})}}]),n}(b.PureComponent);var Pw=g((function(){var e=di();return function(t,n){var r="true"===be(t).EnableEmojiPicker&&!n.isReadOnly,i=(Je(t,n.post.channel_id)||{}).team_id;return He(t,n.post.user_id),{teamId:i,reactions:e(t,n.post.id),enableEmojiPicker:r,postAdmin:!1}}}),(function(e){return{actions:P({addReaction:Sr},e)}}))(Aw),Tw={postBodyX:"mqik-da250324",hasComment:"mqik-22b21436",postFail:"mqik-f0fab7a5",postEdited:"mqik-8e707ddc",postWaiting:"mqik-d4b42dec",mentionComment:"mqik-7203e589",postEphemeral:"mqik-73977263",postMessage:"mqik-f5882c27",sameRoot:"mqik-6653766f",isEmptyMessage:"mqik-3a503688",reactionList:"mqik-719476f7"},Iw=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).sendingAction=new Rb((function(){var e=r.props.post;e&&e.id===e.pending_post_id&&r.setState({sending:!0})})),r.state={sending:!1},r}return u(n,[{key:"componentDidUpdate",value:function(){!1===this.state.sending&&this.sendingAction.cancel()}},{key:"componentDidMount",value:function(){var e=this.props.post;e&&e.id===e.pending_post_id&&this.sendingAction.fireAfter(3e3)}},{key:"componentWillUnmount",value:function(){this.sendingAction.cancel()}},{key:"render",value:function(){var e,t,n,r,i=this.props.post,o=this.props.user,a=this.props.parentPost,s=this.props.parentPostUser,l=this.props.hasReaction,c=(S(e={},Tw.sameRoot,this.props.sameRoot),S(e,Tw.isEmptyMessage,!i.message),e),u=Ye(i);if(pi(o))return f("div",{className:"post__link banned",children:"Nội dung bị ẩn do tài khoản bị BAN"});this.props.isFirstReply&&a&&i.type!==Se.PostTypes.EPHEMERAL&&(n=f(dk,{post:a,parentPostUser:s,onCommentClick:this.props.handleCommentClick})),this.props.post.failed&&(c[Tw.postFail]=!0,r=f(Sk,{post:this.props.post})),$r(this.props.post)&&(c[Tw.postEdited]=!0);var d=null;(i.file_ids&&i.file_ids.length>0||i.filenames&&i.filenames.length>0)&&this.props.post.state!==Xe.POST_DELETED&&(d=f(Ek,{post:i,compactDisplay:this.props.compactDisplay})),this.state.sending&&(c[Tw.postWaiting]=!0);var h,m=y(b.Fragment,{children:[r,this.state.sending&&f(Qk,{}),!this.state.sending&&f(Xk,{post:this.props.post,compactDisplay:this.props.compactDisplay,hasMention:!0})]}),g=i.type&&this.props.pluginPostTypes.hasOwnProperty(i.type)||i.props&&i.props.type&&this.props.pluginPostTypes.hasOwnProperty(i.props.type);h=this.props.post.state===Xe.POST_DELETED||g?m:f(Bk,{post:this.props.post,isEmbedVisible:this.props.isEmbedVisible,children:m});var v=this.props,k=v.isCommentMention,x=v.hasComment;return y(p.exports.Fragment,{children:[y("div",{id:"".concat(i.id,"_message"),className:w("post-message",Tw.postBodyX,Tw.postMessage,(t={},S(t,Tw.mentionComment,k),S(t,Tw.postEphemeral,u),S(t,Tw.hasComment,x),t),c),children:[h,l?y("div",{className:w(Tw.reactionList),children:[f(Pw,{post:i,isReadOnly:i.isReadOnly}),f(ew,{isPermalink:!1,eventTime:i.create_at,postId:i.id,styles:Tw})]}):f(ew,{isPermalink:!1,eventTime:i.create_at,postId:i.id,styles:Tw})]}),n,d]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.sending&&e.post&&e.post.id!==e.post.pending_post_id?{sending:!1}:null}}]),n}(b.PureComponent);S(Iw,"propTypes",{post:q.object.isRequired,parentPost:q.object,parentPostUser:q.object,handleCommentClick:q.func.isRequired,compactDisplay:q.bool,isCommentMention:q.bool,isFirstReply:q.bool,pluginPostTypes:q.object,isEmbedVisible:q.bool,enablePostUsernameOverride:q.bool.isRequired,isReadOnly:q.bool,user:q.object,hasComment:q.bool}),S(Iw,"defaultProps",{isReadOnly:!1});var Mw=g((function(){var e=di();return function(t,n){var r,i;n.post.root_id&&(i=(r=lr(t,n.post.root_id))?He(t,r.user_id):null);var o="true"===be(t).EnablePostUsernameOverride,a=0!==(n.activeChannel||{}).delete_at,s=e(t,n.post.id);return{parentPost:r,parentPostUser:i,pluginPostTypes:t.plugins.postTypes,enablePostUsernameOverride:o,isReadOnly:vn(t)||a,user:He(t,n.post.user_id),hasReaction:!!s&&Object.keys(s).length>0}}}))(Iw),Nw=function(){return f("div",{children:"Bot"})},Rw=function(e){var t=e.chidlren;return f("div",{children:t})},Ow="mqik-c266591c",Lw="mqik-04ecbe6e",Dw="mqik-20cd8c34",Fw=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e,t,n,r,i=this.props,o=i.post,a=i.sameRoot,s=Fr(o),l=Ur(o),c="true"===(null==o||null===(e=o.props)||void 0===e?void 0:e.from_webhook),u=f(Ya,{userId:o.user_id,hasMention:!0});return c?(u=o.props.override_username&&this.props.enablePostUsernameOverride?f(Ya,{userId:o.user_id,hideStatus:!0,overwriteName:o.props.override_username,overwriteIcon:this.props.overwriteIcon}):f(Ya,{userId:o.user_id,hideStatus:!0}),this.props.isBot||(n=f(Nw,{}))):l?(u=f(Ya,{userId:o.user_id,hideStatus:!0,hasMention:!0}),n=f(Rw,{children:f(E,{id:"post_info.auto_responder",defaultMessage:"AUTOMATIC REPLY"})})):s&&this.props.isBot?u=f(Ya,{userId:o.user_id,hideStatus:!0}):s&&(u=f(Ya,{userId:"",overwriteName:f(E,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:Se.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0})),this.props.compactDisplay&&(r=f("strong",{className:"colon",children:":"})),y("div",{className:w(Ow,(t={},S(t,Dw,a),S(t,Lw,!o.message),t)),children:[u,r,n]})}}]),n}(b.PureComponent);var Hw=g((function(e,t){var n,r,i,o=be(e),a="true"===o.EnablePostUsernameOverride,s="true"===o.EnablePostIconOverride&&(null===(n=t.post)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.override_icon_url);s&&(i=Oe.getAbsoluteUrl(s));var l=He(e,t.post.user_id);return{enablePostUsernameOverride:a,isBot:Boolean(l&&l.is_bot),overwriteIcon:i,isGuest:Boolean(l&&br(l))}}))(Fw),Uw=Ka.jsx;var jw=p.exports.forwardRef((function(e,t){return Uw("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Uw("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}))})),Bw=Ka.jsx,zw=Ka.jsxs;var Vw=p.exports.forwardRef((function(e,t){return zw("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:[Bw("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),Bw("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})]}))})),Ww=Ka.jsx;var Gw=p.exports.forwardRef((function(e,t){return Ww("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:Ww("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}))})),Kw={postActions:"mqik-b32bdc1d",action:"mqik-61056eb6",actionIcon:"mqik-172d6b6f",actionComment:"mqik-cbbbd759",actionDelete:"mqik-f6bf4105",actionEdit:"mqik-2160a2b5"};var Yw=g((function(e,t){var n=be(e),r=ct(e),i=e.entities.channels.channels[t.post.channel_id],o=!!i&&0!==i.delete_at,a=Pe(e),s=He(e,t.post.user_id),l=Boolean(s&&s.is_bot),c=ge(e);return{teamId:a,userId:c,isBot:l,isGuest:Boolean(s&&br(s)),postEditTimeLimit:n.PostEditTimeLimit,isReadOnly:fi(e,i.id)||o,canEdit:mi(e,t.post,r,n,i,c),canDelete:gi(e,t.post,i),isLicensed:"true"===r.IsLicensed}}),(function(e){return{actions:P({removePost:Yr,setEditingPost:Tr,openModal:xe},e)}}))((function(e){var t,n,r,i=e.post,o=(e.isReadOnly,e.hover),a=Ye(i),s=Fr(i),l=Ur(i),c=[],u=function(){hi(i.message)},d=function(){var t={ModalId:de.DELETE_POST,dialogType:gc,dialogProps:{post:e.post,commentCount:e.replyCount,isRHS:!1}};e.actions.openModal(t)},p=function(){e.actions.setEditingPost(i.id,e.replyCount,"post_textbox","",!0)};return a?c=[f("button",{className:w(Kw.action,Kw.actionDelete),onClick:d,children:f(jw,{className:w(Kw.actionIcon)})},"action-detele")]:i.failed||(c=[],t=i,n=s,r=o,l||!n&&(r||!t.root_id&&Boolean(e.replyCount)||e.isFirstReply),r&&c.push(f("button",{className:w(Kw.action,Kw.actionCopy),onClick:u,children:f(Vw,{className:w(Kw.actionIcon)})},"action-copy")),e.canEdit&&r&&c.push(f("button",{className:w(Kw.action,Kw.actionEdit),onClick:p,children:f(Gw,{className:w(Kw.actionIcon)})},"action-edit")),e.canDelete&&r&&c.push(f("button",{className:w(Kw.action,Kw.actionDelete),onClick:d,children:f(jw,{className:w(Kw.actionIcon)})},"action-delete"))),0===c.length?null:f("div",{className:Kw.postActions,children:c})})),Xw={postX:"mqik-f1d36a0f",postHighlight:"mqik-0ec905cc",postSection:"mqik-6913062f",postBubbleContentWrapper:"mqik-19021ca1",bubbleContent:"mqik-0f164d79",isMessageEmpty:"mqik-684ca595",message:"mqik-b510827b",reactionBox:"mqik-a5ab8f0d",reactionActive:"mqik-ab8a03e6",postContentAvatar:"mqik-ef406e09",postActions:"mqik-0ac0d261",postContentMain:"mqik-ef74cd5b",postContentBody:"mqik-6812375f",postContentTools:"mqik-d81b5da3",postHoverd:"mqik-bcece314",postContentMore:"mqik-04fa9bc7",withReactions:"mqik-31583fbc",postMoreReaction:"mqik-877f3d06",postMoreTime:"mqik-9ce54ca8",postMoreComment:"mqik-4c78127f",postMoreX:"mqik-fd7cf88f",postMoreLink:"mqik-5445ec32",permarlink:"mqik-fdfa6933",postComment:"mqik-e14249f1",commentIcon:"mqik-2da5b521",timeIcon:"mqik-0fb4ac70",xIcon:"mqik-9e4d8b07",sameRoot:"mqik-e623aab8",otherRoot:"mqik-1d6d463c",currentUser:"mqik-fcfd90bb",itsMe:"mqik-5818578f",postHideControls:"mqik-f736b797"},Qw="mqik-bfd26e4e",Jw="mqik-aa1fd571",Zw="mqik-7471d6eb",$w="mqik-f9fe7a95",ex="mqik-478c605f",tx=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"addReactionButtonRef",b.createRef()),S(m(r),"getTarget",(function(){return document.querySelector("#bubble_".concat(r.props.post.id))})),S(m(r),"handleEmojiClick",(function(e){r.setState({showEmojiPicker:!1}),r.props.onUp(!1);var t=ui(e)?e.name:e.aliases[0];r.props.actions.addReaction(r.props.post.id,t,r.props.postAdmin)})),S(m(r),"hideEmojiPicker",(function(){r.setState({showEmojiPicker:!1}),r.props.onUp(!1)})),S(m(r),"toggleEmojiPicker",(function(){var e=!r.state.showEmojiPicker;r.setState({showEmojiPicker:!r.state.showEmojiPicker}),r.props.onUp(e)})),r.state={showEmojiPicker:!1},r}return u(n,[{key:"render",value:function(){var e=this,t=null;return this.props.enableEmojiPicker&&(t=f(Fy.Consumer,{children:function(t){var n=t.handlePopupOpened;return f(Ms,{channelId:e.props.post.channel_id,teamId:e.props.teamId,permissions:[pe.ADD_REACTION],children:y("span",{className:"emoji-picker__container",children:[f(Cw,{show:e.state.showEmojiPicker,target:e.getTarget,onHide:e.hideEmojiPicker,onEmojiClose:e.hideEmojiPicker,onEmojiClick:e.handleEmojiClick,toggleFocus:n}),f("button",{"aria-label":_e("reaction.add.ariaLabel","Add a reaction"),className:w($w,"Reaction",S({},ex,e.state.showEmojiPicker)),onClick:e.toggleEmojiPicker,children:f("span",{id:"addReaction-".concat(e.props.post.id),className:Jw,ref:e.addReactionButtonRef,children:e.state.showEmojiPicker?f(Xa,{className:Zw}):f(nw,{className:Zw})})})]})})}})),f("div",{className:Qw,children:t})}}]),n}(b.PureComponent);var nx=g((function(){var e=di();return function(t,n){var r="true"===be(t).EnableEmojiPicker&&!n.isReadOnly,i=(Je(t,n.post.channel_id)||{}).team_id;return He(t,n.post.user_id),{teamId:i,reactions:e(t,n.post.id),enableEmojiPicker:r,postAdmin:!1}}}),(function(e){return{actions:P({addReaction:Sr},e)}}))(tx),rx=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"handleCommentClick",(function(e){e.preventDefault();var t=r.props.post;t&&r.props.actions.selectPost(t)})),S(m(r),"handleCardClick",(function(e){e&&r.props.actions.selectPostCard(e)})),S(m(r),"handlePostClick",(function(e){var t=r.props.post;t&&(r.props.channelIsArchived||t.system_post_ids||e.altKey&&r.props.actions.markPostAsUnread(t,"CENTER"))})),S(m(r),"handleDropdownOpened",(function(e){r.props.togglePostMenu&&r.props.togglePostMenu(e),r.setState({dropdownOpened:e})})),S(m(r),"hasSameRoot",(function(e){var t=e.post;return!e.isFirstReply&&(!(t.root_id||e.previousPostIsComment||!e.consecutivePostByUser)||!!t.root_id)})),S(m(r),"getClassName",(function(e,t,n,i,o,a){var s=S({},Xw.postX,!0);return s[Xw.postHideControls]=e.failed||e.state===Xe.POST_DELETED,s[Xw.postHighlight]=!r.state.fadeOutHighlight&&r.props.shouldHighlight,s[Xw.sameRoot]=r.hasSameRoot(r.props),s[Xw.otherRoot]=!r.hasSameRoot(r.props),s[Xw.postBot]=a,s[Xw.currentUser]=!i&&!t,s[Xw.sameUser]=r.props.consecutivePostByUser,s[Xw.postCompact]=r.props.compactDisplay,s[Xw.postHoverd]=r.state.dropdownOpened||r.state.a11yActive,s[Xw.postPinOrFlagged]=e.is_pinned||r.props.isFlagged,s["u3-cursor-pointer"]=r.state.alt&&!(r.props.channelIsArchived||e.system_post_ids),s[Xw.isMessageEmpty]=!e.message,s[Xw.itsMe]=r.props.currentUserId===e.user_id,!r.state.fadeOutHighlight&&r.props.shouldHighlight&&(e.is_pinned||r.props.isFlagged)&&(s[Xw.postPinOrFlaggedHighlight]=!0),e.root_id&&e.root_id.length>0?s[Xw.postComment]=!0:r.props.replyCount>0&&(s[Xw.postRoot]=!0,s[Xw.sameUser]=!1,s[Xw.sameRoot]=!1,s[Xw.otherRoot]=!1),(t||n)&&(s[Xw.postSystem]=!0,t&&(s[Xw.currentUser]=!1,s[Xw.postComment]=!1,s[Xw.postRoot]=!1,s[Xw.otherRoot]=!1)),o&&(s[Xw.postComment]=!0,s[Xw.sameRoot]=!0,s[Xw.postRoot]=!1),s})),S(m(r),"setHover",(function(){r.setState({hover:!0})})),S(m(r),"unsetHover",(function(){r.setState({hover:!1})})),S(m(r),"handleAlt",(function(e){r.state.alt!==e.altKey&&r.setState({alt:e.altKey})})),S(m(r),"handleA11yActivateEvent",(function(){r.setState({a11yActive:!0,ariaHidden:!1})})),S(m(r),"handleA11yDeactivateEvent",(function(){r.setState({a11yActive:!1,ariaHidden:!0})})),S(m(r),"handlePostFocus",(function(){r.updateAriaLabel()})),S(m(r),"updateAriaLabel",(function(){r.setState({currentAriaLabel:r.props.createAriaLabel(r.props.intl)})})),S(m(r),"handleEmojiOpen",(function(e){r.setState({emojiPickerEnable:e})})),r.postRef=b.createRef(),r.state={dropdownOpened:!1,hover:!1,alt:!1,a11yActive:!1,currentAriaLabel:"",ariaHidden:!0,fadeOutHighlight:!1,emojiPickerEnable:!1},r}return u(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(It.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(It.DEACTIVATE,this.handleA11yDeactivateEvent)),this.props.shouldHighlight&&(this.highlightTimeout=setTimeout((function(){e.setState({fadeOutHighlight:!0})}),Se.PERMALINK_FADEOUT))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(It.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(It.DEACTIVATE,this.handleA11yDeactivateEvent)),this.highlightTimeout&&clearTimeout(this.highlightTimeout)}},{key:"componentDidUpdate",value:function(e){this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(It.UPDATE)),this.props.post.state===Xe.POST_DELETED&&e.post.state!==Xe.POST_DELETED&&this.updateAriaLabel()}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.replyCount,r=e.isFirstReply,i=(e.isCollapsedThreadsEnabled,e.consecutivePostByUser),o=e.compactDisplay;if(!t.id)return null;var a=Fr(t),s=ti(t),l=Ur(t),c=t&&t.props&&"true"===t.props.from_webhook,u=t&&t.props&&"true"===t.props.from_bot;if(a&&!l)return null;var d=f("span",{hidden:!0}),p=t.root_id,h=this.hasSameRoot(this.props)&&i&&!p&&0===n&&!u;h||(d=f(Dy,{compactDisplay:o,post:t,userId:t.user_id}),l&&(d=f("span",{className:"auto-responder",children:d})));var m=[];m.push(f(ek,{styles:Xw,isFlagged:this.props.isFlagged,isPinned:t.is_pinned,channelId:t.channel_id},"post-highlight")),(l||!a&&(Boolean(n)||r))&&m.push(f("div",{className:Xw.postMoreComment,children:f(rk,{handleCommentClick:this.handleCommentClick,commentCount:this.props.replyCount,postId:t.id,extraClass:"post__x-comment-count",styles:Xw})},"post-more-comment"));var g=!(Ye(t)||Xe.POST_DELETED===t.state||vi(t)||t.type===Xe.POST_TYPES.COMBINED_USER_ACTIVITY);return m.push(f("div",{className:Xw.postMoreTime,children:f(zy,{isPermalink:g,eventTime:t.create_at,postId:t.id,styles:Xw})},"post-more-time")),f(Fy.Provider,{value:{handlePopupOpened:this.handleDropdownOpened,styles:Xw},children:y("div",{ref:this.postRef,id:"post_"+t.id,role:"listitem",className:w("a11y__section","post-item-x",Xw.postSection,this.getClassName(t,a,s,c,l,u),Xw.postBubbleContentWrapper),tabIndex:0,onFocus:this.handlePostFocus,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,onTouchStart:this.setHover,onClick:this.handlePostClick,"aria-label":this.state.currentAriaLabel,"aria-atomic":!0,children:[y("div",{id:"bubble_".concat(t.id),className:Xw.bubbleContent,children:[t.user_id===this.props.currentUserId||this.props.channelIsArchived?null:f("div",{className:w(Xw.reactionBox,S({},Xw.reactionActive,this.state.emojiPickerEnable)),children:f(nx,{post:this.props.post,isReadOnly:this.props.isReadOnly,onUp:this.handleEmojiOpen})}),f(Mw,{post:t,activeChannel:this.props.activeChannel,handleCommentClick:this.handleCommentClick,compactDisplay:this.props.compactDisplay,isCommentMention:this.props.isCommentMention,isFirstReply:this.props.isFirstReply,sameRoot:this.hasSameRoot(this.props),hasComment:t.root_id&&t.root_id.length>0||l}),f(Hw,{post:t,handleCommentClick:this.handleCommentClick,handleCardClick:this.handleCardClick,handleDropdownOpened:this.handleDropdownOpened,compactDisplay:this.props.compactDisplay,isFirstReply:this.props.isFirstReply,replyCount:this.props.replyCount,showTimeWithoutHover:!h,hover:this.state.hover||this.state.a11yActive,isLastPost:this.props.isLastPost,sameRoot:this.hasSameRoot(this.props)})]}),f("div",{className:Xw.postContentAvatar,children:d}),f("div",{className:Xw.postActions,children:f(Yw,{post:t,handleCommentClick:this.handleCommentClick,replyCount:this.props.replyCount,isFirstReply:this.props.isFirstReply,hover:this.state.hover||this.state.a11yActive})})]})})}}]),n}(b.PureComponent);S(rx,"propTypes",{post:q.object.isRequired,thread:q.object,createAriaLabel:q.func.isRequired,currentUserId:q.string.isRequired,center:q.bool,compactDisplay:q.bool,isFirstReply:q.bool,shouldHighlight:q.bool,consecutivePostByUser:q.bool,previousPostIsComment:q.bool,togglePostMenu:q.func,isCommentMention:q.bool,isGuest:q.bool,replyCount:q.number,isLastPost:q.bool,channelIsArchived:q.bool.isRequired,intl:$s.isRequired,actions:q.shape({selectPost:q.func.isRequired,selectPostCard:q.func.isRequired,markPostAsUnread:q.func.isRequired}).isRequired,isFlagged:q.bool.isRequired,isCollapsedThreadsEnabled:q.bool,isReadOnly:q.bool}),S(rx,"defaultProps",{post:{},isReadOnly:!1,isGuest:!1});var ix=I(rx);function ox(e,t){return!(!e||!e.root_id)&&(!t||e.root_id!==t.id&&e.root_id!==t.root_id)}var ax=g((function(){var e=bi(),t=yi(),n=ki();return function(r,i){var o=i.post||lr(r,i.postId),a=Je(r,o.channel_id),s=null;i.previousPostId&&(s=lr(r,i.previousPostId));var l=!1,c=!1;s&&(l=wi(o,s),c=Boolean(s.root_id));var u=0!==(De(r)||{}).delete_at;return{post:o,createAriaLabel:n(r,o),currentUserId:ge(r),isGuest:br(Le(r)),isFirstReply:ox(o,s),consecutivePostByUser:l,previousPostIsComment:c,replyCount:e(r,o),isCommentMention:t(r,o.id),center:vr(r,hr.CATEGORY_DISPLAY_SETTINGS,hr.CHANNEL_DISPLAY_MODE,hr.CHANNEL_DISPLAY_MODE_DEFAULT)===hr.CHANNEL_DISPLAY_MODE_CENTERED,compactDisplay:vr(r,hr.CATEGORY_DISPLAY_SETTINGS,hr.MESSAGE_DISPLAY,hr.MESSAGE_DISPLAY_DEFAULT)===hr.MESSAGE_DISPLAY_COMPACT,channelIsArchived:xi(a),isFlagged:null!=vr(r,hr.CATEGORY_FLAGGED_POST,o.id,null),isCollapsedThreadsEnabled:Ei(r),isReadOnly:vn(r)||u}}}),(function(e){return{actions:P({selectPost:Ci,selectPostCard:Si,markPostAsUnread:_i},e)}}))(ix);var sx=g((function(){var e=qi();return function(t,n){return{post:e(t,n.combinedId),postId:n.combinedId}}}))(ax),lx="mqik-f02aa279",cx="mqik-57573d5f",ux="mqik-dab47c84",dx="mqik-4c6b39c7",px=function(e){var t=e.children;return y("div",{className:lx,children:[f("div",{className:ux}),f("div",{className:dx,children:t})]})},hx=[ts,ns],fx=function(e){var t=e.date;return f(px,{children:f(es,{value:t,useTime:!1,useSemanticOutput:!1,ranges:hx})})};fx.propTypes={date:q.oneOfType([q.number,q.instanceOf(Date)]).isRequired};var mx=p.exports.memo(fx),gx=function(e){var t=e.children;return y("div",{className:cx,children:[f("div",{className:ux}),f("div",{className:dx,children:t})]})},vx="mqik-ca428930",bx=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){return f("div",{className:w(vx,"new-separator"),children:f(gx,{id:this.props.separatorId,children:f(E,{id:"posts_view.newMsg",defaultMessage:"New Messages"})})})}}]),n}(b.PureComponent),yx=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"blockShortcutReactToLastPostForNonMessages",value:function(e){var t=this.props.actions.emitShortcutReactToLastPostFrom;Ai(e)&&t(nr.NO_WHERE)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.listId,r=t.isLastPost,i=t.shortcutReactToLastPostEmittedFrom,o=e.shortcutReactToLastPostEmittedFrom!==i&&i===nr.CENTER;r&&o&&this.blockShortcutReactToLastPostForNonMessages(n)}},{key:"render",value:function(){var e=this.props,t=e.listId,n=e.previousListId,r=e.loadingOlderPosts,i=e.loadingNewerPosts,o=e.post,a=Mi,s=a.OLDER_MESSAGES_LOADER,l=a.NEWER_MESSAGES_LOADER,c=a.CHANNEL_INTRO_MESSAGE,u=a.LOAD_OLDER_MESSAGES_TRIGGER,d=a.LOAD_NEWER_MESSAGES_TRIGGER;if(Pi(t)){var p=Ti(t);return f(mx,{date:p},p)}if(Ii(t))return f(bx,{separatorId:t});if(t===c)return f("div",{});if(t===u||t===d)return f("button",{className:"more-messages-text theme style--none color--link",onClick:t===u?this.props.loadOlderPosts:this.props.loadNewerPosts,children:f(E,{id:"posts_view.loadMore",defaultMessage:"Load More Messages"})});if(t===s||t===l)return f("div",{className:"loading-screen",children:y("div",{className:w("loading__content",{hideAnimation:!r&&!i}),children:[f("div",{className:"round round-1"}),f("div",{className:"round round-2"}),f("div",{className:"round round-3"})]})});var h={previousPostId:n,shouldHighlight:this.props.shouldHighlight,togglePostMenu:this.props.togglePostMenu,isLastPost:this.props.isLastPost,activeChannel:this.props.channel};return Or(t)?f(sx,C({combinedId:t},h)):f(ax,C({postId:t,post:o},h))}}]),n}(b.PureComponent);var kx=g((function(e,t){var n;Ai(t.listId)||(n=t.listId);var r=gr(e);return{post:t.post||(n?lr(e,n):null),channel:t.channel,shortcutReactToLastPostEmittedFrom:r}}),(function(e){return{actions:P({emitShortcutReactToLastPostFrom:Ir},e)}}))(yx),wx=Ka.jsx;var xx=p.exports.forwardRef((function(e,t){return wx("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:wx("path",{fillRule:"evenodd",d:"M15.707 4.293a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L10 8.586l4.293-4.293a1 1 0 011.414 0zm0 6a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414L10 14.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"})}))})),Ex="mqik-e348b088",Cx=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){return f("div",{className:w(Ex,{"u3-hidden":this.props.atBottom}),onClick:this.props.onClick,children:f(xx,{className:"u3-w-6 u3-h-6 u3-animate-bounce u3-text-white"})})}}]),n}(b.PureComponent);S(Cx,"propTypes",{isScrolling:q.bool.isRequired,atBottom:q.bool,onClick:q.func.isRequired});var Sx=Ka.jsx,_x=Ka.jsxs;var qx=p.exports.forwardRef((function(e,t){return _x("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:[Sx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),Sx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}))})),Ax="mqik-12b068c8",Px="mqik-41a5fd77",Tx="mqik-bc058da2",Ix="mqik-93946fdf",Mx="mqik-3119bb0a",Nx="mqik-9fbcf278",Rx="mqik-02d84790",Ox=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"mounted",void 0),S(m(e),"handleDismiss",(function(){"function"==typeof e.props.onDismiss&&e.props.onDismiss()})),e}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=S({},Ax,!0),n=S({},Tx,!0),r=this.props,i=r.show,o=r.extraClasses,a=r.showActions,s=r.width;i&&(t[Px]=!0),a&&(n[Ix]=!0);return y("div",{className:w(t,"toastClass"),children:[y("div",{className:w(n),onClick:a?this.props.onClick:void 0,children:[a&&y("div",{className:Mx,children:[f(qx,{className:"u3-w-5 u3-h-5 u3-text-white"}),s>Se.MOBILE_SCREEN_WIDTH&&e.props.onClickMessage]}),this.props.children]}),f("div",{className:Nx,onClick:this.handleDismiss,"data-testid":o?"dismissToast-".concat(o):"dismissToast",children:f(Xa,{className:w(Rx),id:"dismissToast"})})]})}}]),n}(b.PureComponent),Lx=[os],Dx=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"handleShortcut",(function(e){Ce(e,Se.KeyCodes.ESCAPE)&&(r.state.showUnreadToast?r.hideUnreadToast():r.state.showNewMessagesToast?r.hideNewMessagesToast():r.hideArchiveToast())})),S(m(r),"hideUnreadToast",(function(){r.state.showUnreadToast&&r.setState({showUnreadToast:!1})})),S(m(r),"hideArchiveToast",(function(){r.state.showMessageHistoryToast&&r.setState({showMessageHistoryToast:!1})})),S(m(r),"hideNewMessagesToast",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.state.showNewMessagesToast&&(r.setState({showNewMessagesToast:!1}),e&&r.props.updateLastViewedBottomAt())})),S(m(r),"hideSearchHintToast",(function(){r.props.onSearchHintDismiss&&r.props.onSearchHintDismiss()})),S(m(r),"newMessagesToastText",(function(e,t){return r.props.width>500&&void 0!==t?f(E,{id:"postlist.toast.newMessagesSince",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}",values:{count:e,isToday:is(new Date(t)).toString(),date:f(es,{value:t,useTime:!1,ranges:Lx})}}):f(E,{id:"postlist.toast.newMessages",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}}",values:{count:e}})})),S(m(r),"archiveToastText",(function(){return f("p",{className:"u3-ml-8 u3-inline-block",children:f(E,{id:"postlist.toast.history",defaultMessage:"Viewing message history"})})})),S(m(r),"changeUrlToRemountChannelView",(function(){var e=r.props,t=e.match,n=e.history,i=e.channelId;i?n.replace("/".concat(t.params.team,"/group/").concat(i)):n.replace("/".concat(t.params.team))})),S(m(r),"scrollToNewMessage",(function(){var e=r.props,t=e.focusedPostId,n=e.atLatestPost,i=e.scrollToNewMessage,o=e.updateLastViewedBottomAt;!t||n?(i(),o(),r.hideNewMessagesToast()):r.changeUrlToRemountChannelView()})),S(m(r),"scrollToLatestMessages",(function(){var e=r.props,t=e.focusedPostId,n=e.atLatestPost,i=e.scrollToLatestMessages;if(t){if(!n)return void r.changeUrlToRemountChannelView();r.hideArchiveToast()}i(),r.hideUnreadToast()})),r.state={unreadCountInChannel:e.unreadCountInChannel},r}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.state,t=e.showUnreadToast,n=e.showNewMessagesToast,r=e.showMessageHistoryToast,i=Boolean(t||n||r);document.addEventListener("keydown",this.handleShortcut),this.props.actions.updateToastStatus(i)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.showUnreadToast,i=n.showNewMessagesToast,o=n.showMessageHistoryToast,a=this.props,s=a.atBottom,l=a.atLatestPost,c=a.postListIds,u=a.lastViewedBottom,d=a.updateNewMessagesAtInChannel,p=a.actions;!e.atBottom&&s&&l&&(this.hideNewMessagesToast(!1),this.hideUnreadToast(),this.hideArchiveToast());var h=e.postListIds.length,f=c.length;if(f!==h&&c[0]!==e.postListIds[0]&&(!1===s&&l&&f>0)&&!r&&d(u),t.showUnreadToast!==r||t.showNewMessagesToast!==i||t.showMessageHistoryToast!==o){var m=Boolean(r||i||o);p.updateToastStatus(m)}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleShortcut)}},{key:"getToastToRender",value:function(){var e=this.props,t=e.atLatestPost,n=e.atBottom,r=e.width,i=e.lastViewedAt,o=(e.showSearchHintToast,this.state),a=o.showUnreadToast,s=o.showNewMessagesToast,l=o.showMessageHistoryToast,c=o.unreadCount,u={show:!0,width:r,onDismiss:this.hideUnreadToast,onClick:this.scrollToLatestMessages,onClickMessage:_e("postlist.toast.scrollToBottom","Jump to recents"),showActions:!t||t&&!n};if(a&&c>0)return f(Ox,C(C({},u),{},{children:this.newMessagesToastText(c,i)}));if(s){var d={onDismiss:this.hideNewMessagesToast,onClick:this.scrollToLatestMessages,onClickMessage:_e("postlist.toast.scrollToLatest","Jump to new messages")};return f(Ox,C(C(C({},u),d),{},{children:this.newMessagesToastText(c,i)}))}if(l){var p={show:!0,width:r,onDismiss:this.hideArchiveToast,onClick:this.scrollToLatestMessages,onClickMessage:_e("postlist.toast.scrollToBottom","Jump to recents"),showActions:!0,extraClasses:"toast__history"};return f(Ox,C(C({},p),{},{children:this.archiveToastText()}))}return null}},{key:"render",value:function(){var e=this.getToastToRender();return f(b.Fragment,{children:e})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r,i=t.showUnreadToast,o=t.showNewMessagesToast,a=t.showMessageHistoryToast;return r=e.atLatestPost?n.countNewMessages(e.postListIds,e.rootPosts,e.isCollapsedThreadsEnabled):e.channelMarkedAsUnread?t.unreadCountInChannel:t.unreadCountInChannel+e.newRecentMessagesCount,void 0===i&&null!==e.atBottom&&(i=r>0&&!e.atBottom),void 0===a&&""!==e.focusedPostId&&null!==e.atBottom&&(a=e.initScrollOffsetFromBottom>1e3||!e.atLatestPost),!e.channelMarkedAsUnread||e.atBottom||t.channelMarkedAsUnread||t.showUnreadToast||(i=!0),e.channelMarkedAsUnread&&e.lastViewedAt!==t.lastViewedAt&&!e.atBottom&&(i=!0),!i&&r>0&&!e.atBottom&&e.lastViewedBottom<e.latestPostTimeStamp&&(o=!0),r||(o=!1,i=!1),{unreadCount:r,showUnreadToast:i,showNewMessagesToast:o,lastViewedAt:e.lastViewedAt,channelMarkedAsUnread:e.channelMarkedAsUnread,showMessageHistoryToast:a}}}]),n}(b.PureComponent);S(Dx,"propTypes",{unreadCountInChannel:q.number,newRecentMessagesCount:q.number,channelMarkedAsUnread:q.bool,isCollapsedThreadsEnabled:q.bool,rootPosts:q.object,atLatestPost:q.bool,postListIds:q.array,latestPostTimeStamp:q.number,atBottom:q.bool,lastViewedBottom:q.number,width:q.number,lastViewedAt:q.number,focusedPostId:q.string,channelId:q.string,initScrollOffsetFromBottom:q.number,updateNewMessagesAtInChannel:q.func,scrollToNewMessage:q.func,scrollToLatestMessages:q.func,updateLastViewedBottomAt:q.func,showSearchHintToast:q.bool,onSearchHintDismiss:q.func,match:q.shape({params:q.shape({team:q.string}).isRequired}).isRequired,actions:q.shape({updateToastStatus:q.func.isRequired}).isRequired}),S(Dx,"defaultProps",{focusedPostId:""}),S(Dx,"countNewMessages",(function(e,t,n){var r=Ni(e);if(r<=0)return 0;var i=e.slice(0,r).filter((function(e){return!Ai(e)}));return n&&(i=i.filter((function(e){return t[e]}))),i.length}));var Fx=I(Dx);var Hx=M(g((function(){var e=tn(),t=A(Ri,ge,(function(e,t){return t}),(function(e,t,n){return n}),Ei,(function(e,t,n,r,i){return n?n.map((function(t){return e[t]})).filter((function(e){return e&&e.user_id!==t&&e.state!==Xe.POST_DELETED&&e.create_at>r&&(!i||""===e.root_id)})).length:0})),n=A(Ri,ge,(function(e,t){return t}),(function(e,t,n){return Object.values(e).filter((function(e){return""===e.root_id&&e.channel_id===n.id&&e.state!==Xe.POST_DELETED})).reduce((function(e,t){return e[t.id]=!0,e}),{})})),r=Oi();return function(i,o){var a=e(i,{id:o.channelId}),s=0,l=Li(i,a.id),c=i.views.channel.lastChannelViewTime[a.id];if(!o.atLatestPost){var u=Di(i,a.id);u&&(u=r(i,{postIds:u,lastViewedAt:c,channelId:a.id})),s=t(i,u,c)}return{rootPosts:n(i,a),lastViewedAt:c,newRecentMessagesCount:s,isCollapsedThreadsEnabled:Ei(i),unreadCountInChannel:Fi(i,a),channelMarkedAsUnread:l}}}),(function(e){return{actions:P({updateToastStatus:Aa},e)}}))(Fx)),Ux="mqik-f039e3e1",jx="mqik-05ea1f8c",Bx="mqik-17088fc9",zx="mqik-727615df",Vx="mqik-67fa946d",Wx="mqik-1f7842d4",Gx="mqik-c5cd3113",Kx="mqik-c0e296a8",Yx=50,Xx=100,Qx={padding:"0px 0px 7px"},Jx={position:"absolute",bottom:"0",maxHeight:"100%"},Zx=function(e){d(n,e);var t=h(n);function n(e){var r;l(this,n),S(m(r=t.call(this,e)),"getNewMessagesSeparatorIndex",(function(e){return e.findIndex((function(e){return 0===e.indexOf(Mi.START_OF_NEW_MESSAGES)}))})),S(m(r),"handleWindowResize",(function(){r.props.actions.checkAndSetMobileView();var e=Zn();if(e!==r.state.isMobile){var t=r.state.dynamicListStyle;r.state.postMenuOpened&&(e||"unset"!==t.willChange?e&&"transform"===t.willChange&&(t.willChange="unset"):t.willChange="transform"),r.setState({isMobile:e,dynamicListStyle:t}),r.scrollStopAction=new Rb(r.handleScrollStop)}r.showSearchHintThreshold=r.getShowSearchHintThreshold()})),S(m(r),"togglePostMenu",(function(e){var t=r.state.dynamicListStyle;r.state.isMobile&&(t.willChange=e?"unset":"transform"),r.setState({postMenuOpened:e,dynamicListStyle:t})})),S(m(r),"renderRow",(function(e){var t=e.data,n=e.itemId,i=e.style,o=t.indexOf(n),a="",s="post-row__padding",l=-1!==o&&o<t.length-1?t[o+1]:"",c=o>0&&o<t.length?t[o-1]:"";(Pi(c)||Ii(c))&&(a+="post-row__padding bottom"),(Pi(l)||Ii(l))&&(a.includes(s)?a+=" top":a+="post-row__padding top");var u=n===r.state.postListIds[0];return f("div",{style:i,className:w(zx,Vx,a,S({},Wx,u)),children:f(kx,{listId:n,previousListId:Ui(t,o),shouldHighlight:n===r.props.focusedPostId,loadOlderPosts:r.props.actions.loadOlderPosts,loadNewerPosts:r.props.actions.loadNewerPosts,togglePostMenu:r.togglePostMenu,isLastPost:u,loadingNewerPosts:r.props.loadingNewerPosts,loadingOlderPosts:r.props.loadingOlderPosts})})})),S(m(r),"scrollToFailed",(function(e){0===e?r.props.actions.changeUnreadChunkTimeStamp(""):r.props.actions.changeUnreadChunkTimeStamp(r.props.lastViewedAt)})),S(m(r),"onScroll",(function(e){var t=e.scrollDirection,n=e.scrollOffset,i=e.scrollUpdateWasRequested,o=e.clientHeight,a=e.scrollHeight;if(!(a<=0)){var s="forward"===t&&!i,l=a-o-n,c=l<1e3;if("backward"===t&&!i&&n<1e3&&!r.props.atOldestPost?r.props.actions.loadOlderPosts():s&&c&&!r.props.atLatestPost&&r.props.actions.loadNewerPosts(),r.state.isMobile&&(r.state.isScrolling||r.setState({isScrolling:!0}),r.scrollStopAction&&r.scrollStopAction.fireAfter(Se.SCROLL_DELAY)),r.checkBottom(n,a,o),i)r.listRef.current._getRangeToRender()[3]<=1&&!r.props.atLatestPost&&r.props.actions.canLoadMorePosts(ji.AFTER_ID),!r.state.atBottom&&a&&r.setState({initScrollOffsetFromBottom:l});r.state.isMobile&&r.state.showSearchHint&&r.setState({showSearchHint:!1}),r.state.isMobile||r.state.isSearchHintDismissed||r.setState({showSearchHint:l>r.showSearchHintThreshold})}})),S(m(r),"getShowSearchHintThreshold",(function(){return 3*window.screen.height})),S(m(r),"checkBottom",(function(e,t,n){r.updateAtBottom(r.isAtBottom(e,t,n))})),S(m(r),"isAtBottom",(function(e,t,n){return t-n-e<=10&&t>0})),S(m(r),"updateAtBottom",(function(e){if(e!==r.state.atBottom){var t=Date.now();r.props.latestPostTimeStamp>t&&(t=r.props.latestPostTimeStamp),r.setState({atBottom:e,lastViewedBottom:t})}})),S(m(r),"updateLastViewedBottomAt",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();r.setState({lastViewedBottom:e})})),S(m(r),"handleScrollStop",(function(){r.mounted&&r.setState({isScrolling:!1})})),S(m(r),"handleSearchHintDismiss",(function(){r.setState({showSearchHint:!1,isSearchHintDismissed:!0})})),S(m(r),"updateFloatingTimestamp",(function(e){r.state.isMobile&&r.props.postListIds&&r.setState({topPostId:Bi(r.props.postListIds.slice(e))})})),S(m(r),"onItemsRendered",(function(e){var t=e.visibleStartIndex;r.updateFloatingTimestamp(t)})),S(m(r),"initScrollToIndex",(function(){return r.props.focusedPostId?{index:r.state.postListIds.findIndex((function(e){return e===r.props.focusedPostId})),position:"center"}:{index:0,position:"end"}})),S(m(r),"scrollToLatestMessages",(function(){r.props.atLatestPost?r.scrollToBottom():(r.updateNewMessagesAtInChannel(),r.props.actions.changeUnreadChunkTimeStamp(r.props.latestPostTimeStamp))})),S(m(r),"scrollToBottom",(function(){r.listRef.current?r.listRef.current.scrollToItem(0,"end"):setTimeout((function(){r.listRef.current&&r.listRef.current.scrollToItem(0,"end")}),500)})),S(m(r),"scrollToNewMessage",(function(){r.listRef.current?r.listRef.current.scrollToItem(Ni(r.state.postListIds),"start",-50):setTimeout((function(){r.listRef.current&&r.listRef.current.scrollToItem(Ni(r.state.postListIds),"start",-50)}),500)})),S(m(r),"updateNewMessagesAtInChannel",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();r.props.actions.updateNewMessagesAtInChannel(r.props.channelId,e)})),S(m(r),"renderToasts",(function(e){return f(Hx,{atLatestPost:r.props.atLatestPost,postListIds:r.state.postListIds,atBottom:r.state.atBottom,width:e,lastViewedBottom:r.state.lastViewedBottom,latestPostTimeStamp:r.props.latestPostTimeStamp,scrollToNewMessage:r.scrollToNewMessage,scrollToLatestMessages:r.scrollToLatestMessages,updateNewMessagesAtInChannel:r.updateNewMessagesAtInChannel,updateLastViewedBottomAt:r.updateLastViewedBottomAt,channelId:r.props.channelId,focusedPostId:r.props.focusedPostId,initScrollOffsetFromBottom:r.state.initScrollOffsetFromBottom,onSearchHintDismiss:r.handleSearchHintDismiss,showSearchHintToast:r.state.showSearchHint})}));var i=Mi.CHANNEL_INTRO_MESSAGE,o=Zn();r.state={isScrolling:!1,isMobile:o,atBottom:null,lastViewedBottom:Date.now(),postListIds:[i],topPostId:"",postMenuOpened:!1,dynamicListStyle:{willChange:"transform"},initScrollCompleted:!1,initScrollOffsetFromBottom:0,showSearchHint:!1,isSearchHintDismissed:!1},r.listRef=b.createRef(),r.postListRef=b.createRef(),o&&(r.scrollStopAction=new Rb(r.handleScrollStop)),r.initRangeToRender=r.props.focusedPostId?[0,Xx]:[0,Yx];var a=0;a=e.focusedPostId?r.props.postListIds.findIndex((function(e){return e===r.props.focusedPostId})):r.getNewMessagesSeparatorIndex(e.postListIds);var s=e.focusedPostId?Xx:Yx;return r.initRangeToRender=[Math.max(a-30,0),Math.max(a+30,Math.min(e.postListIds.length-1,s))],r.showSearchHintThreshold=r.getShowSearchHintThreshold(),r}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.actions.checkAndSetMobileView(),window.addEventListener("resize",this.handleWindowResize),$e.addListener(Hi.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}},{key:"getSnapshotBeforeUpdate",value:function(e){if(this.postListRef&&this.postListRef.current){var t=this.props.postListIds&&this.props.postListIds.length!==e.postListIds.length&&this.props.postListIds[0]===e.postListIds[0],n=this.props.atOldestPost!==e.atOldestPost;if((t||n)&&!1===this.state.atBottom){var r=this.postListRef.current;return{previousScrollTop:r.parentElement.scrollTop,previousScrollHeight:r.scrollHeight}}}return null}},{key:"componentDidUpdate",value:function(e,t,n){if(this.postListRef.current){var r=e.postListIds.length,i=this.props.postListIds.length;if(n){var o=this.postListRef.current.scrollHeight,a=i!==r&&this.props.postListIds[0]===e.postListIds[0],s=this.props.atOldestPost!==e.atOldestPost;if((a||s)&&!this.state.atBottom&&n){var l=n.previousScrollTop+(o-n.previousScrollHeight);0!==l&&l-n.previousScrollTop!=0&&this.listRef.current.scrollTo(l,l-n.previousScrollTop,!0)}}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.handleWindowResize),$e.removeListener(Hi.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}},{key:"render",value:function(){var e,t=this,n=this.props.channelId;this.props.latestAriaLabelFunc&&this.props.postListIds.indexOf(Mi.START_OF_NEW_MESSAGES)>=0&&(e=this.props.latestAriaLabelFunc(this.props.intl));var r=this.state.dynamicListStyle;return y("div",{role:"list",className:"a11y__region","aria-label":_e("accessibility.sections.centerContent","message list main region"),children:[this.state.isMobile&&y(b.Fragment,{children:[f(Ny,{isScrolling:this.state.isScrolling,isMobile:!0,postId:this.state.topPostId}),f(Cx,{isScrolling:this.state.isScrolling,atBottom:this.state.atBottom,onClick:this.scrollToBottom})]}),f("div",{role:"presentation",className:Ux,children:f("div",{role:"presentation",className:jx,children:y("div",{id:"postListContent",className:Bx,children:[f("span",{className:w(Gx,"sr-only"),"aria-live":"polite",children:e}),f(dy,{children:function(e){var n=e.height,i=e.width;return y(b.Fragment,{children:[f("div",{children:t.renderToasts(i)}),f(_y,{ref:t.listRef,height:n,width:i,className:Kx,itemData:t.state.postListIds,overscanCountForward:80,overscanCountBackward:80,onScroll:t.onScroll,initScrollToIndex:t.initScrollToIndex,canLoadMorePosts:t.props.actions.canLoadMorePosts,innerRef:t.postListRef,style:C(C({},Jx),r),innerListStyle:Qx,initRangeToRender:t.initRangeToRender,loaderId:Mi.OLDER_MESSAGES_LOADER,correctScrollToBottom:t.props.atLatestPost,onItemsRendered:t.onItemsRendered,scrollToFailed:t.scrollToFailed,children:t.renderRow})]})}})]})})},"postlist-"+n)]})}}],[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.postListIds;return t=e.atOldestPost?[].concat(i(n),[Mi.CHANNEL_INTRO_MESSAGE]):e.autoRetryEnable?[].concat(i(n),[Mi.OLDER_MESSAGES_LOADER]):[].concat(i(n),[Mi.LOAD_OLDER_MESSAGES_TRIGGER]),e.atLatestPost||(t=e.autoRetryEnable?[Mi.NEWER_MESSAGES_LOADER].concat(i(t)):[Mi.LOAD_NEWER_MESSAGES_TRIGGER].concat(i(t))),{postListIds:t}}}]),n}(b.PureComponent);S(Zx,"propTypes",{postListIds:q.array.isRequired,focusedPostId:q.string,channelId:q.string.isRequired,autoRetryEnable:q.bool,atOldestPost:q.bool,atLatestPost:q.bool,loadingNewerPosts:q.bool,loadingOlderPosts:q.bool,intl:$s.isRequired,latestPostTimeStamp:q.number,latestAriaLabelFunc:q.func,lastViewedAt:q.string,actions:q.shape({loadOlderPosts:q.func.isRequired,loadNewerPosts:q.func.isRequired,canLoadMorePosts:q.func.isRequired,checkAndSetMobileView:q.func.isRequired,changeUnreadChunkTimeStamp:q.func.isRequired,updateNewMessagesAtInChannel:q.func.isRequired}).isRequired});var $x=I(Zx),eE=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"autoRetriesCount",void 0),S(m(r),"loadingMorePosts",void 0),S(m(r),"actionsForPostList",void 0),S(m(r),"mounted",void 0),S(m(r),"extraPagesLoaded",void 0),S(m(r),"postsOnLoad",function(){var e=x(k().mark((function e(t){var n,i,o,a,s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,i=n.focusedPostId,o=n.isFirstLoad,a=n.latestPostTimeStamp,s=n.isPrefetchingInProcess,l=n.actions,!i){e.next=6;break}return e.next=4,l.loadPostsAround(t,r.props.focusedPostId);case 4:e.next=19;break;case 6:if(!o){e.next=12;break}if(s){e.next=10;break}return e.next=10,l.loadLatestPosts(t);case 10:e.next=19;break;case 12:if(!a){e.next=17;break}return e.next=15,l.loadLatestPosts(t);case 15:e.next=19;break;case 17:return e.next=19,l.loadLatestPosts(t);case 19:i||r.markChannelAsReadAndViewed(t),r.mounted&&r.setState({loadingOlderPosts:!1,loadingNewerPosts:!1});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"callLoadPosts",function(){var e=x(k().mark((function e(t,n,i){var o,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.actions.loadPosts({channelId:t,postId:n,type:i});case 2:if(o=e.sent,a=o.error,i===ji.BEFORE_ID?r.setState({loadingOlderPosts:!1}):r.setState({loadingNewerPosts:!1}),!a){e.next=15;break}if(!(r.autoRetriesCount<3)){e.next=12;break}return r.autoRetriesCount++,e.next=10,r.callLoadPosts(t,n,i);case 10:e.next=13;break;case 12:r.mounted&&r.setState({autoRetryEnable:!1});case 13:e.next=17;break;case 15:r.mounted&&r.setState({autoRetryEnable:!0}),r.state.autoRetryEnable||(r.autoRetriesCount=0);case 17:return e.abrupt("return",{error:a});case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),S(m(r),"markChannelAsReadAndViewed",(function(e){r.props.actions.markChannelAsViewed(e),r.props.actions.markChannelAsRead(e)})),S(m(r),"getOldestVisiblePostId",(function(){return zi(r.props.postListIds)})),S(m(r),"getLatestVisiblePostId",(function(){return Bi(r.props.postListIds)})),S(m(r),"canLoadMorePosts",x(k().mark((function e(){var t,n=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:ji.BEFORE_ID,r.props.postListIds){e.next=3;break}return e.abrupt("return");case 3:if(!r.state.loadingOlderPosts&&!r.state.loadingNewerPosts){e.next=5;break}return e.abrupt("return");case 5:if(!(r.extraPagesLoaded>10)){e.next=8;break}return r.state.autoRetryEnable&&r.setState({autoRetryEnable:!1}),e.abrupt("return");case 8:if(r.props.atOldestPost||t!==ji.BEFORE_ID){e.next=13;break}return e.next=11,r.getPostsBefore();case 11:e.next=16;break;case 13:if(r.props.atLatestPost){e.next=16;break}return e.next=16,r.getPostsAfter();case 16:r.extraPagesLoaded+=1;case 17:case"end":return e.stop()}}),e)})))),S(m(r),"getPostsBefore",x(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.loadingOlderPosts){e.next=2;break}return e.abrupt("return");case 2:return t=r.getOldestVisiblePostId(),r.setState({loadingOlderPosts:!0}),e.next=6,r.callLoadPosts(r.props.channelId,t,ji.BEFORE_ID);case 6:case"end":return e.stop()}}),e)})))),S(m(r),"getPostsAfter",x(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.loadingNewerPosts){e.next=2;break}return e.abrupt("return");case 2:return t=r.getLatestVisiblePostId(),r.setState({loadingNewerPosts:!0}),e.next=6,r.callLoadPosts(r.props.channelId,t,ji.AFTER_ID);case 6:case"end":return e.stop()}}),e)})))),r.state={loadingNewerPosts:!1,loadingOlderPosts:!1,autoRetryEnable:!0},r.mounted=!1,r.autoRetriesCount=0,r.loadingMorePosts=null,r.extraPagesLoaded=0,r.actionsForPostList={loadOlderPosts:r.getPostsBefore,loadNewerPosts:r.getPostsAfter,checkAndSetMobileView:e.actions.checkAndSetMobileView,canLoadMorePosts:r.canLoadMorePosts,changeUnreadChunkTimeStamp:e.changeUnreadChunkTimeStamp,updateNewMessagesAtInChannel:r.props.actions.updateNewMessagesAtInChannel},r}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.channelId&&this.postsOnLoad(this.props.channelId)}},{key:"componentDidUpdate",value:function(e){this.props.channelId!==e.channelId&&this.postsOnLoad(this.props.channelId)}},{key:"componentWillUnmount",value:function(){this.props.channelManuallyUnread||this.markChannelAsReadAndViewed(this.props.channelId),this.mounted=!1}},{key:"render",value:function(){return this.props.postListIds?f($x,{loadingNewerPosts:this.state.loadingNewerPosts,loadingOlderPosts:this.state.loadingOlderPosts,atOldestPost:this.props.atOldestPost,atLatestPost:this.props.atLatestPost,focusedPostId:this.props.focusedPostId,channelId:this.props.channelId,autoRetryEnable:this.state.autoRetryEnable,actions:this.actionsForPostList,postListIds:this.props.formattedPostIds,latestPostTimeStamp:this.props.latestPostTimeStamp,latestAriaLabelFunc:this.props.latestAriaLabelFunc,latestPostId:this.props.latestPostId},"postlist-"+this.props.channelId):f(Vi,{})}}]),n}(b.PureComponent),tE=function(e,t){return!e.entities.posts.postsInChannel[t]},nE=Qi((function(e){return Bi(e)}));var rE=g((function(){var e=Wi(),t=Oi(),n=ki();return function(r,i){var o,a,s,l,c=0,u=!1,d=!1,p=i.focusedPostId,h=i.unreadChunkTimeStamp,f=i.channelId,m=r.views.channel,g=m.lastChannelViewTime[f],v=m.channelPrefetchStatus[f]===ve.STARTED,b=Li(r,f);if((a=p&&0!==h?e(r,p,f):h?Gi(r,f,h):Ki(r,f))&&(o=a.order,u=!!a.recent,d=!!a.oldest),o&&(s=t(r,{postIds:o,lastViewedAt:g,indicateNewMessages:!0,channelId:f}),o.length)){var y=nE(o),k=lr(r,y);c=k.create_at,l=n(r,k)}return{lastViewedAt:g,isFirstLoad:tE(r,f),formattedPostIds:s,atLatestPost:u,atOldestPost:d,latestPostTimeStamp:c,postListIds:o,latestAriaLabelFunc:l,isPrefetchingInProcess:v,channelManuallyUnread:b}}}),(function(e){return{actions:P({loadUnreads:Pa,loadPosts:Ta,loadLatestPosts:Ia,loadPostsAround:Ma,checkAndSetMobileView:Na,syncPostsInChannel:Ra,markChannelAsViewed:Yi,markChannelAsRead:Xi,updateNewMessagesAtInChannel:Oa},e)}}))(eE),iE="mqik-0a3960a1",oE=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"changeUnreadChunkTimeStamp",(function(e){r.setState({unreadChunkTimeStamp:e,loaderForChangeOfPostsChunk:!1},(function(){window.requestAnimationFrame((function(){r.setState({loaderForChangeOfPostsChunk:!1})}))}))})),r.state={unreadChunkTimeStamp:e.lastViewedAt,loaderForChangeOfPostsChunk:!1,channelLoading:e.channelLoading},r}return u(n,[{key:"render",value:function(){return this.props.channelLoading||this.state.loaderForChangeOfPostsChunk?y("div",{id:"post-list",className:w(iE),children:[f("div",{className:"filter-x u3-filder-x",children:""}),f(Vi,{})]}):y("div",{id:"post-list",className:w(iE),role:"main",children:[f("div",{className:"filter-x u3-filder-x",children:""}),f(rE,{match:this.props.match,unreadChunkTimeStamp:this.state.unreadChunkTimeStamp,channelId:this.props.channelId,changeUnreadChunkTimeStamp:this.changeUnreadChunkTimeStamp,focusedPostId:this.props.focusedPostId})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null===t.unreadChunkTimeStamp&&e.lastViewedAt?{unreadChunkTimeStamp:e.lastViewedAt}:e.channelLoading!==t.channelLoading?{unreadChunkTimeStamp:e.lastViewedAt,channelLoading:e.channelLoading}:null}}]),n}(b.PureComponent);var aE=g((function(){return function(e,t){var n,r=Ji(e,t.match.params.team),i=Je(e,t.channelId),o=e.views.channel.lastChannelViewTime[t.channelId];i&&(i.type===Se.DM_CHANNEL&&i.teammate_id&&(n=He(e,i.teammate_id)),o=i.last_post_at?o:i.last_post_at);var a=Zi(e),s=function(e,t,n,r,i){var o=e.params;if(o.postid)return!1;if(t&&n){if(t.type!==Se.DM_CHANNEL&&t.name!==o.identifier)return!0;if(t.type===Se.DM_CHANNEL&&r&&o.identifier!=="@".concat(r.username))return!0;var a=n.id;return!!(t.team_id&&t.team_id!==a||i&&!i[a])}return!0}(t.match,i,r,n,a);return{lastViewedAt:(new Date).getTime(),channelLoading:s}}}))(oE),sE="mqik-35bb03ec",lE="mqik-53d2bd64",cE="mqik-069ba657",uE="mqik-a098bb29",dE=function(e){d(r,e);var t,n=h(r);function r(e){var t;return l(this,r),S(m(t=n.call(this,e)),"channelViewRef",void 0),S(m(t),"getChannelView",(function(){return t.channelViewRef.current})),S(m(t),"onClickCloseChannel",(function(){t.props.actions.goToLastViewedChannel()})),S(m(t),"handleFocus",(function(e){e.preventDefault(),t.props.actions.selectChannel(t.props.channelId)})),t.state={url:e.match.url,channelId:e.channelId,focusedPostId:e.match.params.postid,deferredPostView:r.createDeferredPostView(),showNextSteps:e.showNextSteps},t.channelViewRef=b.createRef(),t}return u(r,[{key:"componentDidMount",value:(t=x(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!this.props.showNextSteps&&!this.props.showNextStepsTips||this.props.isOnboardingHidden||this.props.actions.setShowNextStepsView(!0),this.props.channelMemberLoading&&this.props.actions.getMyChannelMember(this.props.channelId),this.props.channelRolesLoading&&this.props.actions.getMyChannelMember(this.props.channelRole);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){this.props.channelMemberLoading&&e.channelId!==this.props.channelId&&this.props.actions.getMyChannelMember(this.props.channelId),this.props.channelRolesLoading&&e.channelRole!==this.props.channelRole&&this.props.actions.getRoleByName(this.props.channelRole),e.channelId===this.props.channelId&&e.channelIsArchived===this.props.channelIsArchived||this.props.channelIsArchived&&!this.props.viewArchivedChannels&&this.props.actions.goToLastViewedChannel(),this.props.match.url!==e.match.url&&this.props.showNextStepsEphemeral&&this.props.actions.setShowNextStepsView(!1)}},{key:"render",value:function(){var e,t=this.props,n=t.channelIsArchived,r=t.isMinimal,i=t.channelId,o=t.preData;this.props.deactivatedChannel?e=f("div",{className:"post-create__container",id:"post-create",children:y("div",{className:"channel-archived__message",children:[f(Zs,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."}),f("button",{className:"btn btn-primary channel-archived__close-btn",onClick:this.onClickCloseChannel,children:f(E,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})})]})}):n?e=f("div",{className:"post-create__container",id:"post-create",children:y("div",{id:"channelArchivedMessage",className:"channel-archived__message",children:[f(Zs,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."}),f("button",{className:"btn btn-primary channel-archived__close-btn",onClick:this.onClickCloseChannel,children:f(E,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})})]})}):this.props.channelRolesLoading||(e=f("div",{className:"post-create__container",id:"post-create",children:f(Xb,{getChannelView:this.getChannelView,channelId:i})}));var a=this.state.deferredPostView;return y("div",{ref:this.channelViewRef,className:w(sE,S({},lE,r)),onFocus:this.handleFocus,children:[f(Yf,C({},this.props)),y("div",{className:w(cE),children:[f(Jb,{overlayType:"center"}),f(a,{channelId:this.props.channelId,match:o?o.match:this.props.match,focusedPostId:this.state.focusedPostId}),e]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={},i=e.match.params.postid;return e.match.url!==t.url&&e.channelId!==t.channelId&&(n={deferredPostView:r.createDeferredPostView(),url:e.match.url,focusedPostId:i}),e.channelId!==t.channelId&&(n=C(C({},n),{},{channelId:e.channelId,focusedPostId:i})),i&&i!==t.focusedPostId&&(n=C(C({},n),{},{focusedPostId:i})),e.showNextSteps!==t.showNextSteps&&(n=C(C({},n),{},{showNextSteps:e.showNextSteps})),Object.keys(n).length?n:null}}]),r}(b.PureComponent);S(dE,"createDeferredPostView",(function(){return e=aE,t=f("div",{id:"post-list",className:w(uE,"a11y__region"),"data-a11y-sort-order":"1","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0}),n=function(n){d(i,n);var r=h(i);function i(e,t){var n;return l(this,i),(n=r.call(this,e,t)).state={shouldRender:!1},n}return u(i,[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){return e.setState({shouldRender:!0})}))}))}},{key:"render",value:function(){return this.state.shouldRender?f(e,C({},this.props)):t}}]),i}(b.PureComponent),O(n,e);var e,t,n}));var pE=A((function(e,t){return $i(e,t)}),(function(e){return Boolean(e&&e.delete_at)}));var hE=M(g((function(){var e=tn();return function(t,n){var r=e(t,{id:n.channelId}),i=eo(t,r.id||""),o=be(t),a=to(t,r.id||""),s="true"===o.EnableTutorial,l=dr(t,hr.TUTORIAL_STEP,ge(t),pr.FINISHED),c="true"===o.ExperimentalViewArchivedChannels,u=!0,d=!0,p="";if(r&&r.id){var h=no(t),f=ro(t);if(f[r.id]){d=!1;var m,g=v(f[r.id].values());try{for(g.s();!(m=g.n()).done;){var b=m.value;p=b,h[b]&&(u=!1);break}}catch(y){g.e(y)}finally{g.f()}}}return{channelId:r?r.id:"",isMinimal:i,channelRole:p,channelRolesLoading:u,channelMemberLoading:d,deactivatedChannel:!!r&&pE(t,r.id),focusedPostId:t.views.channel.focusedPostId,showTutorial:s&&l<=pr.INTRO_SCREENS,showNextStepsEphemeral:t.views.nextSteps.show,channelIsArchived:!!r&&0!==r.delete_at,viewArchivedChannels:c,isCloud:!1,preData:a}}}),(function(e){return{actions:P({setShowNextStepsView:Kc,goToLastViewedChannel:ga,getProfiles:io,getContacts:Qs,getMyChannelMember:oo,getRoleByName:ao,selectChannel:Zt},e)}}))(dE)),fE="mqik-a4e08f2d",mE="mqik-0ac00af3";var gE=g((function(e){return{team:me(e),chatList:so(e)}}))((function(e){return f("div",{className:fE,children:f("div",{className:w(mE),children:e.chatList.map((function(e,t){return f(hE,{channelId:e},e)}))})})}));function vE(e){return e.views.lhs.isOpen}var bE={},yE={},kE={exports:{}},wE=null,xE=["Webkit","Moz","O","ms"],EE=function(e){return CE.test(e)?e.toLowerCase():SE.test(e)?(function(e){return e.replace(qE,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():_E.test(e)?function(e){return e.replace(AE,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()},CE=/\s/,SE=/(_|-|\.|:)/,_E=/([a-z][A-Z]|[A-Z][a-z])/;var qE=/[\W_]+(.|$)/g;var AE=/(.)([A-Z]+)/g;var PE=EE;var TE=function(e){return PE(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()};var IE={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},ME=function(e){wE||(wE=document.createElement("div"));var t=wE.style;if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=xE.length;r>=0;r--){var i=xE[r]+n;if(i in t)return i}return!1},NE=function(e){return TE(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))},RE={float:"cssFloat"},OE=function(e,t){return"number"!=typeof t||IE[e]?t:t+"px"};function LE(e,t,n){var r=RE[t];if(void 0===r&&(r=function(e){var t=NE(e),n=ME(t);return RE[t]=RE[e]=RE[n]=n,n}(t)),r){if(void 0===n)return e.style[r];e.style[r]=OE(r,n)}}function DE(e,t){for(var n in t)t.hasOwnProperty(n)&&LE(e,n,t[n])}function FE(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:DE(arguments[0],arguments[1]):LE(arguments[0],arguments[1],arguments[2])}kE.exports=FE,kE.exports.set=FE,kE.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=LE(e,n||""),t}),{}):LE(e,t||"")};var HE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return"string"==typeof e}}(HE);var UE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!1!==i)return i;if("undefined"!=typeof document){var e=document.createElement("div");(0,r.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else i=0;return i||0};var t,n=kE.exports,r=(t=n)&&t.__esModule?t:{default:t};var i=!1}(UE);var jE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!1}}(jE);var BE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}}(BE);var zE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}}(zE);var VE={};Object.defineProperty(VE,"__esModule",{value:!0}),VE.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},VE.containerStyleAutoHeight={height:"auto"},VE.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},VE.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},VE.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},VE.trackHorizontalStyleDefault={position:"absolute",height:6},VE.trackVerticalStyleDefault={position:"absolute",width:6},VE.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},VE.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},VE.disableSelectStyle={userSelect:"none"},VE.disableSelectStyleReset={userSelect:""};var WE={};Object.defineProperty(WE,"__esModule",{value:!0});var GE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};WE.renderViewDefault=function(e){return XE.default.createElement("div",e)},WE.renderTrackHorizontalDefault=function(e){var t=e.style,n=QE(e,["style"]),r=GE({},t,{right:2,bottom:2,left:2,borderRadius:3});return XE.default.createElement("div",GE({style:r},n))},WE.renderTrackVerticalDefault=function(e){var t=e.style,n=QE(e,["style"]),r=GE({},t,{right:2,bottom:2,top:2,borderRadius:3});return XE.default.createElement("div",GE({style:r},n))},WE.renderThumbHorizontalDefault=function(e){var t=e.style,n=QE(e,["style"]),r=GE({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return XE.default.createElement("div",GE({style:r},n))},WE.renderThumbVerticalDefault=function(e){var t=e.style,n=QE(e,["style"]),r=GE({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return XE.default.createElement("div",GE({style:r},n))};var KE,YE=p.exports,XE=(KE=YE)&&KE.__esModule?KE:{default:KE};function QE(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=xu.exports,i=v(r),a=v(kE.exports),s=p.exports,l=v(D.exports),c=v(HE),u=v(UE),d=v(jE),h=v(BE),f=v(zE),m=VE,g=WE;function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!=typeof t?e:t}var k=function(e){function l(e){var t;b(this,l);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=y(this,(t=l.__proto__||Object.getPrototypeOf(l)).call.apply(t,[this,e].concat(r)));return o.getScrollLeft=o.getScrollLeft.bind(o),o.getScrollTop=o.getScrollTop.bind(o),o.getScrollWidth=o.getScrollWidth.bind(o),o.getScrollHeight=o.getScrollHeight.bind(o),o.getClientWidth=o.getClientWidth.bind(o),o.getClientHeight=o.getClientHeight.bind(o),o.getValues=o.getValues.bind(o),o.getThumbHorizontalWidth=o.getThumbHorizontalWidth.bind(o),o.getThumbVerticalHeight=o.getThumbVerticalHeight.bind(o),o.getScrollLeftForOffset=o.getScrollLeftForOffset.bind(o),o.getScrollTopForOffset=o.getScrollTopForOffset.bind(o),o.scrollLeft=o.scrollLeft.bind(o),o.scrollTop=o.scrollTop.bind(o),o.scrollToLeft=o.scrollToLeft.bind(o),o.scrollToTop=o.scrollToTop.bind(o),o.scrollToRight=o.scrollToRight.bind(o),o.scrollToBottom=o.scrollToBottom.bind(o),o.handleTrackMouseEnter=o.handleTrackMouseEnter.bind(o),o.handleTrackMouseLeave=o.handleTrackMouseLeave.bind(o),o.handleHorizontalTrackMouseDown=o.handleHorizontalTrackMouseDown.bind(o),o.handleVerticalTrackMouseDown=o.handleVerticalTrackMouseDown.bind(o),o.handleHorizontalThumbMouseDown=o.handleHorizontalThumbMouseDown.bind(o),o.handleVerticalThumbMouseDown=o.handleVerticalThumbMouseDown.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o.state={didMountUniversal:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,e),n(l,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,r.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,o=e.scrollWidth,a=void 0===o?0:o,s=e.scrollHeight,l=void 0===s?0:s,c=e.clientWidth,u=void 0===c?0:c,d=e.clientHeight,p=void 0===d?0:d;return{left:n/(a-u)||0,top:i/(l-p)||0,scrollLeft:n,scrollTop:i,scrollWidth:a,scrollHeight:l,clientWidth:u,clientHeight:p}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,o=r.clientWidth,a=(0,h.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,o=r.clientHeight,a=(0,f.default)(this.trackVertical),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,h.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,f.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,u.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,u.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function(){(0,a.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=d.default}},{key:"teardownDragging",value:function(){(0,a.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,a.default)(this.trackHorizontal,{opacity:1}),(0,a.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,a.default)(e.trackHorizontal,{opacity:0}),(0,a.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&i.default.cancel(this.requestFrame),this.requestFrame=(0,i.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,u.default)()){var o=i.scrollLeft,s=i.clientWidth,l=i.scrollWidth,c=(0,h.default)(this.trackHorizontal),d=this.getThumbHorizontalWidth(),p={width:d,transform:"translateX("+o/(l-s)*(c-d)+"px)"},m=i.scrollTop,g=i.clientHeight,v=i.scrollHeight,b=(0,f.default)(this.trackVertical),y=this.getThumbVerticalHeight(),k={height:y,transform:"translateY("+m/(v-g)*(b-y)+"px)"};if(r){var w={visibility:l>s?"visible":"hidden"},x={visibility:v>g?"visible":"hidden"};(0,a.default)(this.trackHorizontal,w),(0,a.default)(this.trackVertical,x)}(0,a.default)(this.thumbHorizontal,p),(0,a.default)(this.thumbVertical,k)}n&&n(i),"function"==typeof e&&e(i)}},{key:"render",value:function(){var e=this,n=(0,u.default)(),r=this.props;r.onScroll,r.onScrollFrame,r.onScrollStart,r.onScrollStop,r.onUpdate;var i=r.renderView,o=r.renderTrackHorizontal,a=r.renderTrackVertical,l=r.renderThumbHorizontal,d=r.renderThumbVertical,p=r.tagName;r.hideTracksWhenNotNeeded;var h=r.autoHide;r.autoHideTimeout;var f=r.autoHideDuration;r.thumbSize,r.thumbMinSize;var g=r.universal,v=r.autoHeight,b=r.autoHeightMin,y=r.autoHeightMax,k=r.style,w=r.children,x=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),E=this.state.didMountUniversal,C=t({},m.containerStyleDefault,v&&t({},m.containerStyleAutoHeight,{minHeight:b,maxHeight:y}),k),S=t({},m.viewStyleDefault,{marginRight:n?-n:0,marginBottom:n?-n:0},v&&t({},m.viewStyleAutoHeight,{minHeight:(0,c.default)(b)?"calc("+b+" + "+n+"px)":b+n,maxHeight:(0,c.default)(y)?"calc("+y+" + "+n+"px)":y+n}),v&&g&&!E&&{minHeight:b,maxHeight:y},g&&!E&&m.viewStyleUniversalInitial),_={transition:"opacity "+f+"ms",opacity:0},q=t({},m.trackHorizontalStyleDefault,h&&_,(!n||g&&!E)&&{display:"none"}),A=t({},m.trackVerticalStyleDefault,h&&_,(!n||g&&!E)&&{display:"none"});return(0,s.createElement)(p,t({},x,{style:C,ref:function(t){e.container=t}}),[(0,s.cloneElement)(i({style:S}),{key:"view",ref:function(t){e.view=t}},w),(0,s.cloneElement)(o({style:q}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,s.cloneElement)(l({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,s.cloneElement)(a({style:A}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,s.cloneElement)(d({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),l}(s.Component);e.default=k,k.propTypes={onScroll:l.default.func,onScrollFrame:l.default.func,onScrollStart:l.default.func,onScrollStop:l.default.func,onUpdate:l.default.func,renderView:l.default.func,renderTrackHorizontal:l.default.func,renderTrackVertical:l.default.func,renderThumbHorizontal:l.default.func,renderThumbVertical:l.default.func,tagName:l.default.string,thumbSize:l.default.number,thumbMinSize:l.default.number,hideTracksWhenNotNeeded:l.default.bool,autoHide:l.default.bool,autoHideTimeout:l.default.number,autoHideDuration:l.default.number,autoHeight:l.default.bool,autoHeightMin:l.default.oneOfType([l.default.number,l.default.string]),autoHeightMax:l.default.oneOfType([l.default.number,l.default.string]),universal:l.default.bool,style:l.default.object,children:l.default.node},k.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}}(yE),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Scrollbars=void 0;var t=function(e){return e&&e.__esModule?e:{default:e}}(yE);e.default=t.default,e.Scrollbars=t.default}(bE);var JE={exports:{}};!function(e,t){e.exports=function(){var e=void 0;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e||"undefined"==typeof process||"node"!==process.title||(e=setImmediate);var t=e=e||function(e){window.setTimeout(e,1e3/60)},n=Array.prototype.concat,r=Array.prototype.slice;function i(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];e.apply(t,n.call(o,r.call(a)))}}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function a(e){return t(e)}function s(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var l={};function c(e){if(l[e])return l[e];var t=e.replace("#","");3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=t.match(/.{2}/g);if(!n||n.length<3)throw new Error("Expected a color string of format #rrggbb");var r={r:parseInt(n[0],16),g:parseInt(n[1],16),b:parseInt(n[2],16)};return l[e]=r,r}function u(e,t,n){var r=e.toString(16),i=t.toString(16),o=n.toString(16);return"#"+(r=r.length<2?"0"+r:r)+(i=i.length<2?"0"+i:i)+(o=o.length<2?"0"+o:o)}var d=Object.freeze({bind:i,extend:o,onFrame:a,removeFirst:s,hexToRGB:c,rgbToHex:u});function p(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments[5],a=c(t),s=c(n),l=Math.floor(p(e,r,i,a.r,s.r)),d=Math.floor(p(e,r,i,a.g,s.g)),h=Math.floor(p(e,r,i,a.b,s.b));return o?"rgb("+l+","+d+","+h+")":u(l,d,h)}function f(e){return e*Math.PI/180}function m(e){return 180*e/Math.PI}var g=Object.freeze({mapValueInRange:p,interpolateColor:h,degreesToRadians:f,radiansToDegrees:m});function v(e){return 3.62*(e-30)+194}function b(e){return(e-194)/3.62+30}function y(e){return 3*(e-8)+25}function k(e){return(e-25)/3+8}var w=Object.freeze({tensionFromOrigamiValue:v,origamiValueFromTension:b,frictionFromOrigamiValue:y,origamiFromFriction:k}),x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(){function e(){x(this,e),this.springSystem=null}return e.prototype.run=function(){var e=q.call(this);a((function(){e.loop(Date.now())}))},e}(),S=function(){function e(t){x(this,e),this.springSystem=null,this.time=0,this.running=!1,this.timestep=t||16.667}return e.prototype.run=function(){var e=q.call(this);if(!this.running){for(this.running=!0;!e.getIsIdle();)e.loop(this.time+=this.timestep);this.running=!1}},e}(),_=function(){function e(){x(this,e),this.springSystem=null,this.time=0,this.running=!1}return e.prototype.run=function(){},e.prototype.step=function(e){q.call(this).loop(this.time+=e)},e}();function q(){if(null==this.springSystem)throw new Error("cannot run looper without a springSystem");return this.springSystem}var A=Object.freeze({AnimationLooper:C,SimulationLooper:S,SteppingSimulationLooper:_}),P=function(){function e(t,n){x(this,e),this.bounciness=t,this.speed=n;var r=this.normalize(t/1.7,0,20);r=this.projectNormal(r,0,.8);var i=this.normalize(n/1.7,0,20);this.bouncyTension=this.projectNormal(i,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(r,this.b3Nobounce(this.bouncyTension),.01)}return e.prototype.normalize=function(e,t,n){return(e-t)/(n-t)},e.prototype.projectNormal=function(e,t,n){return t+e*(n-t)},e.prototype.linearInterpolation=function(e,t,n){return e*n+(1-e)*t},e.prototype.quadraticOutInterpolation=function(e,t,n){return this.linearInterpolation(2*e-e*e,t,n)},e.prototype.b3Friction1=function(e){return 7e-4*Math.pow(e,3)-.031*Math.pow(e,2)+.64*e+1.28},e.prototype.b3Friction2=function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2},e.prototype.b3Friction3=function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84},e.prototype.b3Nobounce=function(e){return e<=18?this.b3Friction1(e):e>18&&e<=44?this.b3Friction2(e):this.b3Friction3(e)},e}(),T=function(){function e(t,n){x(this,e),this.tension=t,this.friction=n}return e.fromOrigamiTensionAndFriction=function(t,n){return new e(v(t),y(n))},e.fromBouncinessAndSpeed=function(t,n){var r=new P(t,n);return e.fromOrigamiTensionAndFriction(r.bouncyTension,r.bouncyFriction)},e.coastingConfigWithOrigamiFriction=function(t){return new e(0,y(t))},e}();T.DEFAULT_ORIGAMI_SPRING_CONFIG=T.fromOrigamiTensionAndFriction(40,7);var I=function e(){x(this,e),this.position=0,this.velocity=0},M=function(){function e(t){x(this,e),this.listeners=[],this._startValue=0,this._currentState=new I,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new I,this._restSpeedThreshold=.001,this._tempState=new I,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+e._ID++,this._springSystem=t}return e.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},e.prototype.getId=function(){return this._id},e.prototype.setSpringConfig=function(e){return this._springConfig=e,this},e.prototype.getSpringConfig=function(){return this._springConfig},e.prototype.setCurrentValue=function(e,t){return this._startValue=e,this._currentState.position=e,t||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},e.prototype.getStartValue=function(){return this._startValue},e.prototype.getCurrentValue=function(){return this._currentState.position},e.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},e.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},e.prototype.setEndValue=function(e){if(this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t].onSpringEndStateChange;r&&r(this)}return this},e.prototype.getEndValue=function(){return this._endValue},e.prototype.setVelocity=function(e){return e===this._currentState.velocity||(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId())),this},e.prototype.getVelocity=function(){return this._currentState.velocity},e.prototype.setRestSpeedThreshold=function(e){return this._restSpeedThreshold=e,this},e.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},e.prototype.setRestDisplacementThreshold=function(e){this._displacementFromRestThreshold=e},e.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},e.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},e.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},e.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},e.prototype.advance=function(t,n){var r=this.isAtRest();if(!r||!this._wasAtRest){var i=n;n>e.MAX_DELTA_TIME_SEC&&(i=e.MAX_DELTA_TIME_SEC),this._timeAccumulator+=i;for(var o=this._springConfig.tension,a=this._springConfig.friction,s=this._currentState.position,l=this._currentState.velocity,c=this._tempState.position,u=this._tempState.velocity,d=void 0,p=void 0,h=void 0,f=void 0,m=void 0,g=void 0,v=void 0,b=void 0;this._timeAccumulator>=e.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=e.SOLVER_TIMESTEP_SEC,this._timeAccumulator<e.SOLVER_TIMESTEP_SEC&&(this._previousState.position=s,this._previousState.velocity=l),d=l,p=o*(this._endValue-c)-a*l,c=s+d*e.SOLVER_TIMESTEP_SEC*.5,h=u=l+p*e.SOLVER_TIMESTEP_SEC*.5,f=o*(this._endValue-c)-a*u,c=s+h*e.SOLVER_TIMESTEP_SEC*.5,m=u=l+f*e.SOLVER_TIMESTEP_SEC*.5,g=o*(this._endValue-c)-a*u,c=s+m*e.SOLVER_TIMESTEP_SEC,v=u=l+g*e.SOLVER_TIMESTEP_SEC,b=1/6*(p+2*(f+g)+(o*(this._endValue-c)-a*u)),s+=1/6*(d+2*(h+m)+v)*e.SOLVER_TIMESTEP_SEC,l+=b*e.SOLVER_TIMESTEP_SEC;this._tempState.position=c,this._tempState.velocity=u,this._currentState.position=s,this._currentState.velocity=l,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/e.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),r=!0);var y=!1;this._wasAtRest&&(this._wasAtRest=!1,y=!0);var k=!1;r&&(this._wasAtRest=!0,k=!0),this.notifyPositionUpdated(y,k)}},e.prototype.notifyPositionUpdated=function(e,t){for(var n=0,r=this.listeners.length;n<r;n++){var i=this.listeners[n];e&&i.onSpringActivate&&i.onSpringActivate(this),i.onSpringUpdate&&i.onSpringUpdate(this),t&&i.onSpringAtRest&&i.onSpringAtRest(this)}},e.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},e.prototype.wasAtRest=function(){return this._wasAtRest},e.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},e.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},e.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},e.prototype.getListeners=function(){return this.listeners},e.prototype.addListener=function(e){return this.listeners.push(e),this},e.prototype.removeListener=function(e){return s(this.listeners,e),this},e.prototype.removeAllListeners=function(){return this.listeners=[],this},e.prototype.currentValueIsApproximately=function(e){return Math.abs(this.getCurrentValue()-e)<=this.getRestDisplacementThreshold()},e}();M._ID=0,M.MAX_DELTA_TIME_SEC=.064,M.SOLVER_TIMESTEP_SEC=.001;var N=function(){function e(t){x(this,e),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=t||new C,this.looper.springSystem=this}return e.prototype.setLooper=function(e){this.looper=e,e.springSystem=this},e.prototype.createSpring=function(e,t){var n=void 0;return n=void 0===e||void 0===t?T.DEFAULT_ORIGAMI_SPRING_CONFIG:T.fromOrigamiTensionAndFriction(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithBouncinessAndSpeed=function(e,t){var n=void 0;return n=void 0===e||void 0===t?T.DEFAULT_ORIGAMI_SPRING_CONFIG:T.fromBouncinessAndSpeed(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithConfig=function(e){var t=new M(this);return this.registerSpring(t),t.setSpringConfig(e),t},e.prototype.getIsIdle=function(){return this._isIdle},e.prototype.getSpringById=function(e){return this._springRegistry[e]},e.prototype.getAllSprings=function(){var e=[];for(var t in this._springRegistry)this._springRegistry.hasOwnProperty(t)&&e.push(this._springRegistry[t]);return e},e.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},e.prototype.deregisterSpring=function(e){s(this._activeSprings,e),delete this._springRegistry[e.getId()]},e.prototype.advance=function(e,t){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,r=this._activeSprings.length;n<r;n++){var i=this._activeSprings[n];i.systemShouldAdvance()?i.advance(e/1e3,t/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(i))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},e.prototype.loop=function(e){var t=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},e.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){s(this.listeners,e)},e.prototype.removeAllListeners=function(){this.listeners=[]},e}();return E({},A,{OrigamiValueConverter:w,MathUtil:g,Spring:M,SpringConfig:T,SpringSystem:N,util:E({},d,g)})}()}(JE);var ZE=Ka.jsx;var $E=p.exports.forwardRef((function(e,t){return ZE("svg",C(C({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e)),{},{children:ZE("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}))})),eC="mqik-e9623fc4",tC="mqik-eda00eab",nC="mqik-13b1ae77",rC="mqik-16d43afe",iC="mqik-a70f0c5b",oC="mqik-b1c0de58",aC="mqik-9b4edf97",sC="mqik-1c2e67da",lC=function(e){return f("div",{children:"Shared"})};function cC(e){var t,n=[],r=0,i=v(e.matchAll(G()));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o[0],s=o.index;o.index!==r&&n.push(e.substring(r,s)),n.push(f("span",{className:"emoji",children:a},s)),r=s+a.length}}catch(l){i.e(l)}finally{i.f()}return r<e.length&&n.push(e.substring(r)),1===n.length?n[0]:n}var uC="mqik-eaeccb35",dC=function(e){var t=e.unreadMentions;return t>0&&t<100?f("span",{className:uC,children:t}):t>99?f("span",{className:uC,children:"9+"}):null},pC="mqik-745f6b5a",hC="mqik-7f6f6a17",fC="mqik-cf411b3f",mC=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){return 0!==this.props.channel.delete_at?f("i",{className:"icon icon-archive-outline"}):this.props.hasDraft?y("div",{className:pC,children:[this.props.icon,f("span",{className:hC,children:f(Gw,{className:fC})})]}):this.props.icon}}]),n}(b.PureComponent);function gC(e,t,n){return e&&Boolean(e.message.trim()||e.fileInfos.length||e.uploadsInProgress.length)&&t!==(null==n?void 0:n.id)}var vC=g((function(e,t){var n,r=Q(e);return{hasDraft:gC(!(null===(n=t.channel)||void 0===n||!n.id)&&ar(e,Xn.DRAFT,t.channel.id),r,t.channel)}}),(function(e){return{actions:P({},e)}}))(mC),bC="mqik-919643f2",yC="mqik-96ed684f",kC="mqik-6ad1ab83",wC="mqik-433de003",xC="mqik-580175b4",EC=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"labelRef",void 0),S(m(r),"gmItemRef",void 0),S(m(r),"enableToolTipIfNeeded",(function(){var e=r.gmItemRef.current||r.labelRef.current,t=e&&e.offsetWidth<e.scrollWidth;r.setState({showTooltip:Boolean(t)})})),S(m(r),"getAriaLabel",(function(){var e=r.props,t=e.label,n=e.ariaLabelPrefix,i=e.unreadMentions,o=t;return n&&(o+=" ".concat(n)),1===i?o+=" ".concat(i," ").concat(_e("accessibility.sidebar.types.mention","mention")):i>1&&(o+=" ".concat(i," ").concat(_e("accessibility.sidebar.types.mentions","mentions"))),r.showChannelAsUnread()&&0===i&&(o+=" ".concat(_e("accessibility.sidebar.types.unread","unread"))),o.toLowerCase()})),S(m(r),"removeTooltipLink",(function(){var e,t;return null===(e=r.gmItemRef.current)||void 0===e||null===(t=e.removeAttribute)||void 0===t?void 0:t.call(e,"aria-describedby")})),S(m(r),"handleChannelClick",(function(e){r.handleSelectChannel(e)})),S(m(r),"handleSelectChannel",(function(e){e.defaultPrevented||0!==e.button||(r.props.actions.addChatId(r.props.channel.id),ht(e)?(e.preventDefault(),r.props.actions.multiSelectChannelAdd(r.props.channel.id)):r.props.actions.clearChannelSelection())})),S(m(r),"handleMenuToggle",(function(e){return r.setState({isMenuOpen:e})})),S(m(r),"showChannelAsUnread",(function(){return r.props.unreadMentions>0||r.props.unreadMsgs>0&&r.props.showUnreadForMsgs})),r.labelRef=b.createRef(),r.gmItemRef=b.createRef(),r.state={isMenuOpen:!1,showTooltip:!1},r}return u(n,[{key:"componentDidMount",value:function(){this.enableToolTipIfNeeded()}},{key:"componentDidUpdate",value:function(e){e.label!==this.props.label&&this.enableToolTipIfNeeded()}},{key:"render",value:function(){var e,t=this.props,n=t.link,r=t.label,i=t.channel,o=t.unreadMentions,a=t.icon,s=t.isMuted,l=f("span",{className:w("SidebarChannelLinkLabel",{truncated:this.state.showTooltip}),children:cC(r)}),c=y(R,{children:[f(vC,{channel:i,icon:a}),f("div",{className:w(kC,"SidebarChannelLinkLabel_wrapper"),ref:this.labelRef,children:l}),y("div",{className:w(wC),children:[f(es,{value:i.last_post_at||i.create_at,className:w(xC),useSemanticOutput:!0,useTime:!1,units:["now","second","minute","hour","Today","Yesterday"]}),f(dC,{unreadMentions:o})]})]}),u=w(bC,["SidebarLink",(e={menuOpen:this.state.isMenuOpen,muted:s},S(e,yC,this.showChannelAsUnread()),S(e,"selected",!1),e)]);"sidebarItem_".concat(i.name),this.getAriaLabel(),this.handleChannelClick,this.props.isCollapsed;return f(W,{className:u,"data-group":"sidebarItem_".concat(i.name),"aria-label":this.getAriaLabel(),to:n,onClick:this.handleChannelClick,onContextMenu:function(e){return e.preventDefault()},tabIndex:this.props.isCollapsed?-1:0,children:c})}}]),n}(b.PureComponent);var CC=g((function(e,t){var n=nn(e)[t.channel.id],r=0,i=0,o=!0,a=Ei(e);return n&&(r=a?n.mention_count_root:n.mention_count,t.channel&&(i=lo(a,t.channel,n)),n.notify_props&&(o=n.notify_props.mark_unread!==un.MENTION)),{unreadMentions:r,unreadMsgs:i,showUnreadForMsgs:o,isMuted:an(n),isChannelSelected:co(e,t.channel.id)}}),(function(e){return{actions:P({clearChannelSelection:cl,multiSelectChannelTo:dl,multiSelectChannelAdd:ul,addChatId:pl},e)}}))(EC),SC=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleLeavePublicChannel",(function(){e.props.actions.leaveChannel(e.props.channel.id)})),S(m(e),"handleLeavePrivateChannel",(function(){ha({id:e.props.channel.id,display_name:e.props.channel.display_name})})),S(m(e),"getCloseHandler",(function(){var t=e.props.channel;return t.type===Se.OPEN_CHANNEL&&t.name!==Se.DEFAULT_CHANNEL?e.handleLeavePublicChannel:t.type===Se.PRIVATE_CHANNEL?e.handleLeavePrivateChannel:null})),S(m(e),"getIcon",(function(){var t=e.props.channel;return t.shared?f(lC,{className:"icon",channelType:t.type,withTooltip:!0}):f(as,{src:Oe.getChannelPictureUrl(t.id,t.last_picture_update),size:"lg",status:"",wrapperClass:"DirectChannel__profile-picture",newStatusIcon:!0})})),e}return u(n,[{key:"render",value:function(){var e,t=this.props,n=t.channel,r=t.currentTeamName;return n.type===Se.OPEN_CHANNEL?e=_e("accessibility.sidebar.types.public","public channel"):n.type===Se.PRIVATE_CHANNEL&&(e=_e("accessibility.sidebar.types.private","private channel")),f(CC,{channel:n,link:"/".concat(r,"/group/").concat(n.name),label:n.display_name,ariaLabelPrefix:e,closeHandler:this.getCloseHandler(),icon:this.getIcon(),isCollapsed:!1})}}]),n}(b.PureComponent);var _C=g(null,(function(e){return{actions:P({leaveChannel:fa},e)}}))(SC),qC="mqik-80f31a48",AC="mqik-1e85479b",PC=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"handleLeaveChannel",(function(e){var t=r.props.channel.teammate_id,n=Se.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,i=r.props.currentUserId;r.props.actions.savePreferences(i,[{user_id:i,category:n,name:t,value:"false"}]).then(e),r.props.actions.leaveDirectChannel(r.props.channel.name),r.props.active&&Ge.push("/".concat(r.props.currentTeamName,"/channels/").concat(r.props.redirectChannel))})),S(m(r),"onSvgLoadError",(function(){r.setState({svgErrorUrl:r.props.botIconUrl})})),S(m(r),"onSvgLoad",(function(){r.setState({svgErrorUrl:null})})),S(m(r),"getIcon",(function(){var e=r.props,t=e.channel,n=e.teammate;if(!n)return null;if(n.id&&n.delete_at)return f("i",{className:"icon icon-archive-outline"});var i="";return"online"===t.status?i="status-online":"away"===t.status?i="status-away":"dnd"===t.status&&(i="status-dnd"),f(as,{src:Oe.getProfilePictureUrl(n.id,n.last_picture_update),size:"lg",status:n.is_bot?"":t.status,wrapperClass:qC,newStatusIcon:!0,statusClass:w(AC,i)})})),r.state={svgErrorUrl:null},r}return u(n,[{key:"render",value:function(){var e=this.props,t=e.channel,n=e.teammate,r=e.currentTeamName;if(!n)return null;var i=t.display_name;return this.props.currentUserId===n.id&&(i=this.props.intl.formatMessage({id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)"},{displayname:t.display_name})),f(CC,{teammateId:n.id,channel:t,link:"/".concat(r,"/messages/@").concat(n.username),label:i,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}]),n}(b.PureComponent),TC=I(PC);var IC=g((function(e,t){var n,r=He(e,t.channel.teammate_id),i=Le(e),o=me(e),a=$t(e,o.id),s=Q(e),l=t.channel.id===s;return{teammate:r,currentUserId:i.id,redirectChannel:a,active:l,botIconUrl:(n=r,n&&n.is_bot&&n.bot_last_icon_update?"".concat(Oe.getBotRoute(n.id),"/icon?_=").concat(n.bot_last_icon_update||0):null)}}),(function(e){return{actions:P({savePreferences:en,leaveDirectChannel:ma},e)}}))(TC),MC=function(e){d(n,e);var t=h(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return S(m(e=t.call.apply(t,[this].concat(i))),"handleLeaveChannel",(function(t){var n=e.props.channel.id,r=Se.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,i=e.props.currentUserId;e.props.actions.savePreferences(i,[{user_id:i,category:r,name:n,value:"false"}]).then(t),e.props.active&&Ge.push("/".concat(e.props.currentTeamName,"/channels/").concat(e.props.redirectChannel))})),S(m(e),"getIcon",(function(){return f("div",{className:"status status--group",children:e.props.membersCount})})),e}return u(n,[{key:"render",value:function(){var e=this.props,t=e.channel,n=e.currentTeamName;return f(CC,{channel:t,link:"/".concat(n,"/messages/").concat(t.name),label:t.display_name,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}]),n}(b.PureComponent);var NC=g((function(e,t){var n=Le(e),r=me(e),i=$t(e,r.id),o=Q(e),a=t.channel.id===o,s=uo(e),l=0;if(s&&s[t.channel.id]){var c=s[t.channel.id];l=c.size,c.has(n.id)&&l--}return{currentUserId:n.id,redirectChannel:i,active:a,membersCount:l}}),(function(e){return{actions:P({savePreferences:en},e)}}))(MC);function RC(e){return e.unreadMentions>0||e.unreadMsgs>0&&e.showUnreadForMsgs}var OC={channelItem:"mqik-936757b2"};var LC=g((function(){var e=tn();return function(t,n){var r=e(t,{id:n.channelId}),i=me(t),o=nn(t)[n.channelId];Q(t);var a=Ei(t),s=0,l=0,c=!0;return o&&(s=a?o.mention_count_root:o.mention_count,r&&(l=lo(a,r,o)),o.notify_props&&(c=o.notify_props.mark_unread!==un.MENTION)),{channel:r,isCurrentChannel:!1,currentTeamName:i.name,unreadMentions:s,unreadMsgs:l,showUnreadForMsgs:c,draggingState:po(t),isChannelSelected:co(t,n.channelId),multiSelectedChannelIds:t.views.channelSidebar.multiSelectedChannelIds,autoSortedCategoryIds:ho(t)}}}))((function(e){var t=e.channel,n=e.currentTeamName,r=_C;return t.type===Se.DM_CHANNEL?r=IC:t.type===Se.GM_CHANNEL&&(r=NC),f("li",{className:w(OC.channelItem,S({},OC.hasUnread,RC(e))),children:f(r,{isCollapsed:!1,channel:t,currentTeamName:n})})}));var DC=g((function(){var e=fo(),t=mo();return function(n,r){var i=r.categories.reduce((function(t,r){return t.concat(e(n,r))}),[]),o=1===go(n),a=i.map((function(e){return Je(n,e)}));return{channelIds:(a=t(n,a)).map((function(e){return e.id})),categoryLoading:o,sidebarIndex:0}}}),(function(e){return{actions:P({openModal:xe},e)}}))((function(e){var t=j(),n=T();if(e.categoryLoading&&0===e.sidebarIndex)return f(Xs,{});return 0===e.channelIds.length?f("div",{className:w(eC),children:y("div",{className:w(tC),children:[f($E,{className:nC}),f("p",{className:w(rC),children:t.formatMessage({id:"sidebar.starting",defaultMessage:"Để bắt đầu, tham gia một nhóm hoặc thử nhắn tin với bạn bè."})}),y("div",{className:w(iC),children:[f("button",{className:w(oC,aC),onClick:function(){return n.push("/friends")},children:t.formatMessage({id:"sidebar.open_friends",defaultMessage:"Danh sách Bạn bè"})}),f("button",{className:w(oC,sC),onClick:function(){e.actions.openModal({modalId:de.MORE_CHANNELS,dialogType:_l,dialogProps:{morePublicChannelsModalType:"public"}})},children:t.formatMessage({id:"sidebar.group_list",defaultMessage:"Tham gia Nhóm"})})]})]})}):y(p.exports.Fragment,{children:[f("ul",{role:"chat-list",children:e.channelIds.map((function(e,t){return f(LC,{channelIndex:t,channelId:e},e)}))}),e.categoryLoading&&e.sidebarIndex?f(Xs,{count:1}):null]})})),FC={sidebarChannelList:"mqik-c8ed5811",sidebarChannelListContent:"mqik-e611ce1a"};function HC(e){return f("div",C(C({},e),{},{className:"scrollbar--view"}))}function UC(e){return f("div",C(C({},e),{},{className:"scrollbar--horizontal"}))}function jC(e){return f("div",C(C({},e),{},{className:"scrollbar--vertical"}))}function BC(e){return f("div",C(C({},e),{},{className:"scrollbar--verticalTrack"}))}var zC=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"loaded",void 0),S(m(r),"channelRefs",void 0),S(m(r),"scrollbar",void 0),S(m(r),"scrollAnimation",void 0),S(m(r),"animate",void 0),S(m(r),"loadMore",void 0),S(m(r),"updateMore",void 0),S(m(r),"getDisplayedChannelIds",(function(){return r.props.displayedChannels.map((function(e){return e.id}))})),S(m(r),"getChannelRef",(function(e){return r.channelRefs.get(e)})),S(m(r),"setChannelRef",(function(e,t){t?r.channelRefs.set(e,t):r.channelRefs.delete(e)})),S(m(r),"handleScrollAnimationUpdate",(function(e){var t=e.getCurrentValue();r.scrollbar.current.scrollTop(t)})),S(m(r),"scrollToChannel",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=r.channelRefs.get(e);if(n){var i=n.offsetTop,o=i+n.offsetHeight,a=r.scrollbar.current.getScrollTop(),s=r.scrollbar.current.getClientHeight();if(i<a+0){var l,c=t||!r.state.showTopUnread?10:0,u=r.getDisplayedChannelIds();l=u.length>0&&u[0]===e?0:i-c-0,r.scrollToPosition(l)}else if(o>a+s){var d=t||!r.state.showBottomUnread?10:0,p=o-s+d;r.scrollToPosition(p)}}}})),S(m(r),"scrollToPosition",(function(e){r.scrollAnimation.setCurrentValue(r.scrollbar.current.getScrollTop()).setAtRest(),r.scrollAnimation.setEndValue(e)})),S(m(r),"onScroll",x(k().mark((function e(){var t,n,i,o,a,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(null===(t=r.scrollbar.current)||void 0===t?void 0:t.getScrollHeight())||0,a=(null===(n=r.scrollbar.current)||void 0===n?void 0:n.getScrollTop())||0,s=(null===(i=r.scrollbar.current)||void 0===i?void 0:i.getClientHeight())||0,a+s+72>=o&&r.props.allowLoadmore&&!r.state.loadMore&&(r.setState({loadMore:!0}),r.handleLoadMore());case 4:case"end":return e.stop()}}),e)})))),S(m(r),"handleLoadMore",x(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loadMore||-1!==r.props.sidebarIndex){e.next=2;break}return e.abrupt("return");case 2:return r.loadMore=!0,e.next=5,r.props.actions.loadMoreChannelsForCurrentUser(r.props.sidebarIndex+1,r.updateMore);case 5:r.setState({loadMore:!0}),r.loadMore=!1;case 7:case"end":return e.stop()}}),e)})))),r.state={showTopUnread:!1,showBottomUnread:!1,loadMore:!1},r.channelRefs=new Map,r.loaded=!1,r.loadMore=!1,r.scrollbar=p.exports.createRef(),r.animate=new JE.exports.SpringSystem,r.scrollAnimation=r.animate.createSpring(),r.scrollAnimation.setOvershootClampingEnabled(!0),r.scrollAnimation.addListener({onSpringUpdate:r.handleScrollAnimationUpdate}),r.updateMore=qa((function(){r.setState({loadMore:!1})}),3e3),r}return u(n,[{key:"render",value:function(){return f("div",{id:"sidebar-chat-list",role:"application",className:w(FC.sidebarChannelList,{disabled:this.props.isUnreadFilterEnabled}),"data-a11y-disable-nav":Boolean(this.props.draggingState.type),"data-a11y-sort-order":"7",children:f("div",{className:w(FC.sidebarChannelListContent),children:y(bE.Scrollbars,{ref:this.scrollbar,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:UC,renderThumbVertical:jC,renderTrackVertical:BC,renderView:HC,onScroll:this.onScroll,style:{position:"absolute"},children:[f(DC,{categories:this.props.categories,getChannelRef:this.getChannelRef,setChannelRef:this.setChannelRef}),this.props.allowLoadmore&&!this.props.sidebarLoading&&this.props.sidebarIndex>0?f("div",{className:w(FC.sidebarChannelMore),children:f("p",{onClick:this.handleLoadMore,children:"Xem thêm"})}):null]})})})}}]),n}(p.exports.PureComponent);var VC=g((function(e){var t=me(e),n=vo(e);re(e,n);var r=1===go(e);return{currentTeam:t,categories:Z(e),isUnreadFilterEnabled:bo(e),unreadChannelIds:yo(e),displayedChannels:$(e),draggingState:po(e),newCategoryIds:e.views.channelSidebar.newCategoryIds,multiSelectedChannelIds:e.views.channelSidebar.multiSelectedChannelIds,showUnreadsCategory:ko(e),isCategoryAll:"all"===n,sidebarIndex:wo(e,n),allowLoadmore:!1,sidebarLoading:r}}),(function(e){return{actions:P({close:tl,switchToChannelById:La,moveChannelsInSidebar:sl,moveCategory:xo,setDraggingState:il,stopDragging:ol,clearChannelSelection:cl,multiSelectChannelAdd:ul,sidebarGetMore:Eo,loadChannelsForCurrentUser:Da,loadChannelsForCurrentUser2:Fa,loadMoreChannelsForCurrentUser:Ha,loadChannelsForCurrentCategory:Ua},e)}}))(zC),WC="mqik-a386b190",GC=function(e){d(r,e);var t,n=h(r);function r(e){var t;return l(this,r),S(m(t=n.call(this,e)),"handleClickClearChannelSelection",(function(e){e.defaultPrevented||t.props.actions.clearChannelSelection()})),S(m(t),"handleKeyDownClearChannelSelection",(function(e){Ce(e,Se.KeyCodes.ESCAPE)&&t.props.actions.clearChannelSelection()})),S(m(t),"showMoreDirectChannelsModal",(function(){t.setState({showDirectChannelsModal:!0})})),S(m(t),"hideMoreDirectChannelsModal",(function(){t.setState({showDirectChannelsModal:!1})})),S(m(t),"handleOpenMoreDirectChannelsModal",(function(e){e.preventDefault(),t.state.showDirectChannelsModal?t.hideMoreDirectChannelsModal():t.showMoreDirectChannelsModal()})),S(m(t),"onDragStart",(function(){t.setState({isDragging:!0})})),S(m(t),"onDragEnd",(function(){t.setState({isDragging:!1})})),S(m(t),"onActiveLeftbar",(function(e){t.setState({sidebarLeftSelected:e})})),t.state={showDirectChannelsModal:!1,isDragging:!1,sidebarLeftSelected:"messages"},t}return u(r,[{key:"componentDidMount",value:(t=x(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.teamId){e.next=5;break}return e.next=3,this.props.actions.fetchMyCategories(this.props.teamId);case 3:this.props.actions.loadChannelsForCurrentUser2(),this.props.actions.loadFirstDirect(this.props.teamId);case 5:window.addEventListener("click",this.handleClickClearChannelSelection),window.addEventListener("keydown",this.handleKeyDownClearChannelSelection);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){this.props.teamId&&e.teamId!==this.props.teamId&&this.props.actions.fetchMyCategories(this.props.teamId)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClickClearChannelSelection),window.removeEventListener("keydown",this.handleKeyDownClearChannelSelection)}},{key:"render",value:function(){return this.props.teamId?f("div",{className:w(WC,{dragging:this.state.isDragging}),children:f(VC,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd})}):f("div",{})}}]),r}(b.PureComponent);var KC=g((function(e){var t=me(e),n=Q(e),r=bo(e),i=!1,o=!1,a=!1;return t&&(i=Ie(e,{channel:n,team:t.id,permission:pe.CREATE_PUBLIC_CHANNEL}),o=Ie(e,{channel:n,team:t.id,permission:pe.CREATE_PRIVATE_CHANNEL}),a=Ie(e,{channel:n,team:t.id,permission:pe.JOIN_PUBLIC_CHANNELS})),{teamId:t?t.id:"",canCreatePrivateChannel:o,canCreatePublicChannel:i,canJoinPublicChannel:a,isOpen:vE(e),hasSeenModal:qe(e,Ae.CATEGORY_WHATS_NEW_MODAL,Ae.HAS_SEEN_SIDEBAR_WHATS_NEW_MODAL,!1),isCloud:"true"===ct(e).Cloud,unreadFilterEnabled:r}}),(function(e){return{actions:P({clearChannelSelection:cl,createCategory:al,fetchMyCategories:Co,loadFirstDirect:ja,loadChannelsForCurrentUser2:Fa,openModal:xe},e)}}))(GC),YC=!1;function XC(e,t,n,r){return function(){var i=x(k().mark((function i(o,a){var s,l,c,u,d,p,h,f,m,g,v,b,y,w,x,E;return k().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!YC){i.next=2;break}return i.abrupt("return",{data:!1});case 2:return i.next=4,o(So(e));case 4:if(s=i.sent,l=s.data){i.next=9;break}return(r||Ge).replace("/error?type=".concat(_o.PERMALINK_NOT_FOUND,"&returnTo=").concat(t)),i.abrupt("return",{data:!0});case 9:if(c=a(),u=l.posts[l.order[0]].channel_id,d=c.entities.channels.channels[u],p=me(c),h=p.id,d){i.next=23;break}return i.next=17,o(qo(u));case 17:if(f=i.sent,m=f.data){i.next=22;break}return(r||Ge).replace("/error?type=".concat(_o.PERMALINK_NOT_FOUND,"&returnTo=").concat(t)),i.abrupt("return",{data:!1});case 22:d=m;case 23:if(g=c.entities.channels.myMembers[u]){i.next=44;break}if(d.type!==Se.DM_CHANNEL&&d.type!==Se.GM_CHANNEL){i.next=28;break}return(r||Ge).replace("/error?type=".concat(_o.PERMALINK_NOT_FOUND,"&returnTo=").concat(t)),i.abrupt("return",{data:!1});case 28:return i.next=30,o(Ao(d.id,n));case 30:if("data"in(v=i.sent)&&(g=v.data),g){i.next=44;break}if(b=Le(c),d.type!==Se.PRIVATE_CHANNEL||!Po(b.roles)){i.next=42;break}return YC=!0,i.next=38,o(To(p,d));case 38:if(y=i.sent,YC=!1,!("data"in y)||y.data.join){i.next=42;break}return i.abrupt("return",{data:!1});case 42:return i.next=44,o(we(n,"",u,""));case 44:if(!d.team_id||d.team_id===h){i.next=47;break}return(r||Ge).replace("/error?type=".concat(_o.PERMALINK_NOT_FOUND,"&returnTo=").concat(t)),i.abrupt("return",{data:!1});case 47:return d&&d.type===Se.DM_CHANNEL?o(Io(d.id)):d&&d.type===Se.GM_CHANNEL&&o(Mo(d.id)),o(Zt(u)),o({type:X.RECEIVED_FOCUSED_POST,data:e,channelId:u}),w=Re(c,d.team_id||h),d.type===Se.DM_CHANNEL?(x=No(d.name),E=He(c,x),(r||Ge).replace("/".concat(w.name,"/messages/@").concat(E.username,"/").concat(e))):d.type===Se.GM_CHANNEL?(r||Ge).replace("/".concat(w.name,"/messages/").concat(d.name,"/").concat(e)):(r||Ge).replace("/".concat(w.name,"/group/").concat(d.name,"/").concat(e)),o(Fa()),o(Ro(u)),i.abrupt("return",{data:!0});case 55:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()}var QC=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),S(m(r=t.call(this,e)),"mounted",void 0),S(m(r),"doPermalinkEvent",function(){var e=x(k().mark((function e(t){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.match.params.postId,e.next=3,r.props.actions.focusPost(n,r.props.returnTo,r.props.currentUserId,t.history);case 3:r.mounted&&r.setState({valid:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(m(r),"isStateValid",(function(){return r.state.valid&&r.props.channelId&&r.props.teamName})),r.state={valid:!1},r.mounted=!1,r}return u(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.doPermalinkEvent(this.props),document.body.classList.add("app__body")}},{key:"componentDidUpdate",value:function(){this.state.valid||this.doPermalinkEvent(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return this.isStateValid()?null:f("div",{id:"app-content",className:"app__content"})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={postid:e.match.params.postId,valid:t.valid};return t.postid!==e.match.params.postId&&(n.valid=!1),n}}]),n}(b.PureComponent);var JC=g((function(e){var t=me(e),n=De(e),r=ge(e);return{channelId:n?n.id:"",teamName:t?t.name:"",currentUserId:r}}),(function(e){return{actions:P({focusPost:XC},e)}}))(QC),ZC=new RegExp("^[a-zA-Z0-9]{".concat(26,"}__[a-zA-Z0-9]{").concat(26,"}$"));function $C(e){var t=e.match,n=e.history;return function(){var e=x(k().mark((function e(r,i){var o,a,s,l,c,u,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i(),a=t.params,s=a.path,l=a.identifier,c=a.team,l){e.next=4;break}return e.abrupt("return",{data:void 0});case 4:if(u=Ji(o,c)){e.next=7;break}return e.abrupt("return",{data:void 0});case 7:d=eS(o,s,l),e.t0=d,e.next="channel_name"===e.t0?11:"channel_id"===e.t0?14:"group_channel_group_id"===e.t0?17:"direct_channel_username"===e.t0?20:"direct_channel_email"===e.t0?23:"direct_channel_user_ids"===e.t0?26:"direct_channel_user_id"===e.t0?29:"error"===e.t0?32:36;break;case 11:return e.next=13,r(nS(t,n));case 13:return e.abrupt("break",36);case 14:return e.next=16,r(tS(t,n));case 16:return e.abrupt("break",36);case 17:return e.next=19,r(sS(t,n));case 19:return e.abrupt("break",36);case 20:return e.next=22,r(rS(t,n));case 22:return e.abrupt("break",36);case 23:return e.next=25,r(aS(t,n));case 25:return e.abrupt("break",36);case 26:return e.next=28,r(oS(t,n));case 28:return e.abrupt("break",36);case 29:return e.next=31,r(iS(t,n,l));case 31:return e.abrupt("break",36);case 32:return e.next=34,r(Oo(u.id,0,20));case 34:return cS(t,n,$t(o,u.id)),e.abrupt("break",36);case 36:return e.abrupt("return",{data:void 0});case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function eS(e,t,n){if("group"===t){var r=jo(e,n),i=he(e).find((function(e){return e.name===n}));return 26===n.length?r||i?"channel_name":"channel_id":!r&&!i&&40===n.length||r&&r.type===Se.GM_CHANNEL||i&&i.type===Se.GM_CHANNEL?"group_channel_group_id":function(e){return 54===e.length&&ZC.test(e)}(n)?"direct_channel_user_ids":"channel_name"}return"messages"===t?0===n.indexOf("@")?"direct_channel_username":n.indexOf("@")>0?"direct_channel_email":26===n.length?"direct_channel_user_id":40===n.length?"group_channel_group_id":"error":"error"}function tS(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d,p,h;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=e.params,s=a.team,l=a.identifier,c=l.toLowerCase(),u=Je(o,c),d=o.entities.channels.myMembers[c],p=Ji(o,s),u&&d){n.next=16;break}return n.next=9,r(Bo(ge(o),p.id,c,""));case 9:if(!("error"in(h=n.sent))){n.next=15;break}return n.next=13,r(Oo(p.id,0,20));case 13:return uS(e,t,$t(o,p.id)),n.abrupt("return",{data:void 0});case 15:u=h.data.channel;case 16:return u.type===Se.DM_CHANNEL?r(iS(e,t,No(u.name,ge(o)))):u.type===Se.GM_CHANNEL?t.replace("/".concat(s,"/messages/").concat(u.name)):t.replace("/".concat(s,"/group/").concat(u.name)),n.abrupt("return",{data:void 0});case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function nS(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d,p,h,f,m,g,v,b;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=e.params,s=a.team,l=a.identifier,c=l.toLowerCase(),u=Ji(o,s)){n.next=6;break}return n.abrupt("return",{data:void 0});case 6:if(d=Vo(o,u.id)[c]){n.next=12;break}return n.next=10,r(Wo(s,c,!0));case 10:"data"in(p=n.sent)&&(d=p.data);case 12:if(!d){n.next=19;break}if(h=o.entities.channels.myMembers[d.id]){n.next=19;break}return n.next=17,r(Ao(d.id,ge(o)));case 17:"data"in(f=n.sent)&&(h=f.data);case 19:if(d&&h){n.next=46;break}if(m=Le(i()),!Po(null==m?void 0:m.roles)){n.next=29;break}if(d.type!==Se.PRIVATE_CHANNEL){n.next=29;break}return n.next=26,r(To(u,d));case 26:if(!("data"in(g=n.sent))||g.data.join){n.next=29;break}return n.abrupt("return",{data:void 0});case 29:return n.next=31,r(Bo(ge(o),u.id,"",c));case 31:if(!("error"in(v=n.sent))){n.next=45;break}if(d){n.next=43;break}return n.next=36,r(Wo(s,c,!0));case 36:if(!("error"in(b=n.sent))&&0!==b.data.delete_at){n.next=42;break}return n.next=40,r(Oo(u.id,0,20));case 40:return uS(e,t,$t(o,u.id)),n.abrupt("return",{data:void 0});case 42:d=b.data;case 43:n.next=46;break;case 45:d=v.data.channel;case 46:return d.type===Se.DM_CHANNEL?r(oS(e,t)):d.type===Se.GM_CHANNEL?t.replace("/".concat(s,"/messages/").concat(d.name)):lS(d),n.abrupt("return",{data:void 0});case 48:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function rS(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d,p,h;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=e.params,s=a.team,l=a.identifier,c=l.slice(1,l.length).toLowerCase(),u=Ji(o,s),d=Ho(o,c)){n.next=15;break}return n.next=8,r(Uo(c));case 8:if(!("error"in(p=n.sent))){n.next=14;break}return n.next=12,r(Oo(u.id,0,20));case 12:return cS(e,t,$t(o,u.id)),n.abrupt("return",{data:void 0});case 14:d=p.data;case 15:return n.next=17,r(ua(d.id));case 17:if(!("error"in(h=n.sent))){n.next=23;break}return n.next=21,r(Oo(u.id,0,20));case 21:return cS(e,t,$t(o,u.id)),n.abrupt("return",{data:void 0});case 23:return lS(h.data),n.abrupt("return",{data:void 0});case 25:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function iS(e,t,n){return function(){var r=x(k().mark((function r(i,o){var a,s,l,c,u;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=o(),s=e.params.team,l=Ji(a,s),c=He(a,n)){r.next=14;break}return r.next=7,i(Lo(n));case 7:if(!("error"in(u=r.sent))){r.next=13;break}return r.next=11,i(Oo(l.id,0,20));case 11:return cS(e,t,$t(a,l.id)),r.abrupt("return",{data:void 0});case 13:c=u.data;case 14:return t.replace("/".concat(s,"/messages/@").concat(c.username)),r.abrupt("return",{data:void 0});case 16:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}function oS(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d,p;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=e.params,s=a.team,l=a.identifier,c=No(l.toLowerCase(),ge(i())),u=Ji(o,s),d=He(o,c)){n.next=15;break}return n.next=8,r(Lo(c));case 8:if(!("error"in(p=n.sent))){n.next=14;break}return n.next=12,r(Oo(u.id,0,20));case 12:return cS(e,t,$t(o,u.id)),n.abrupt("return",{data:void 0});case 14:d=p.data;case 15:return t.replace("/".concat(s,"/messages/@").concat(d.username)),n.abrupt("return",{data:void 0});case 17:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function aS(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d,p;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=e.params,s=a.team,l=a.identifier,c=l.toLowerCase(),u=Ji(o,s),d=Do(o,c)){n.next=15;break}return n.next=8,r(Fo(c));case 8:if(!("error"in(p=n.sent))){n.next=14;break}return n.next=12,r(Oo(u.id,0,20));case 12:return cS(e,t,$t(o,u.id)),n.abrupt("return",{data:void 0});case 14:d=p.data;case 15:return t.replace("/".concat(s,"/messages/@").concat(d.username)),n.abrupt("return",{data:void 0});case 17:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function sS(e,t){return function(){var n=x(k().mark((function n(r,i){var o,a,s,l,c,u,d,p;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=e.params,s=a.identifier,l=a.team,c=s.toLowerCase(),t.replace(e.url.replace("/group/","/messages/")),u=jo(o,c),d=Ji(o,l),u){n.next=16;break}return n.next=9,r(Bo(ge(o),d.id,"",c));case 9:if(!("error"in(p=n.sent))){n.next=15;break}return n.next=13,r(Oo(d.id,0,20));case 13:return cS(e,t,$t(o,d.id)),n.abrupt("return",{data:void 0});case 15:u=p.data.channel;case 16:return r(zo(u.id)),lS(u),n.abrupt("return",{data:void 0});case 19:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function lS(e){Ba(e)}function cS(e,t,n){var r=e.params.team;t.push(r?"/".concat(r,"/group/").concat(n):"/")}function uS(e,t,n){return dS.apply(this,arguments)}function dS(){return(dS=x(k().mark((function e(t,n,r){var i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.params.team,n.push(i?"/error?type=channel_not_found&returnTo=/".concat(i,"/group/").concat(r):"/");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}A((function(e,t){return $i(e,t)}),(function(e){return Boolean(e&&e.delete_at)}));var pS=g((function(e){var t=De(e);return{channelId:t?t.id:""}}),(function(e){return{actions:P({setPreChat:gl,addChatId:pl},e)}}))((function(e){var t=s(p.exports.useState(""),2),n=t[0],r=t[1],i=s(p.exports.useState(!1),2),o=i[0],a=i[1];return p.exports.useEffect((function(){o!=e.loaded&&n!==e.match.url&&(a(e.loaded),r(e.match.url),e.actions.setPreChat(e.channelId,{match:e.match}))})),null}));var hS,fS=g(null,(function(e){return{actions:P({onChannelByIdentifierEnter:$C},e)}}))((function(e){var t,n,r,i=s(p.exports.useState(!1),2),o=i[0],a=i[1],l=s(p.exports.useState(!1),2),c=l[0],u=l[1],d=(n=e,r=p.exports.useRef(),p.exports.useEffect((function(){r.current=n})),r.current),h=function(){var e=x(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.actions.onChannelByIdentifierEnter(t);case 2:u(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p.exports.useEffect((function(){return h(e),a(!0),function(){t&&clearTimeout(t)}}),[]),p.exports.useEffect((function(){c&&u(!1);var n=e.match.params.team,r=null==d?void 0:d.match.params.team,i=e.match.params.identifier,a=null==d?void 0:d.match.params.identifier;if(!o||!a)return u(!0);n!==r||i!==a?(t&&clearTimeout(t),h(e),e.match.params.postid&&(t=setTimeout((function(){var t=e.match.url.split("/").slice(0,-1).join("/");Ge.replace(t)}),Se.PERMALINK_FADEOUT))):u(!0)}),[e.match]),c?f(pS,{match:e.match,history:e.history,location:e.location,loaded:c}):f("div",{children:"..."})})),mS=function(e){d(n,e);var t=h(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={returnTo:"",lastReturnTo:""},r}return u(n,[{key:"render",value:function(){var e=this,t=this.props.match.url;return y(K,{children:[f(Y,{path:"".concat(t,"/pl/:postid"),render:function(t){return f(JC,C(C({},t),{},{returnTo:e.state.returnTo}))}}),f(Y,{path:"/:team/:path(group|messages)/:identifier/:postid?",component:fS})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.lastReturnTo!==e.location.pathname&&e.location.pathname.includes("/pl/")?{lastReturnTo:e.location.pathname,returnTo:t.lastReturnTo}:{lastReturnTo:e.location.pathname}}}]),n}(b.PureComponent),gS=g((function(e,t){return{lhsOpen:!1,rhsOpen:!1,rhsMenuOpen:!1,isCollapsedThreadsEnabled:Ei(e)}}))(mS),vS=function(e){var t=s(p.exports.useState(!0),2),n=t[0];t[1];return p.exports.useEffect((function(){var e,t;if(null===(e=ci())||void 0===e||e.classList.add("mexty-app__body","mexty-team-view"),Go())null===(t=ci())||void 0===t||t.classList.add("mexty-os--windows");else if(Ko()){var n;null===(n=ci())||void 0===n||n.classList.add("mexty-os--mac")}return function(){var e;null===(e=ci())||void 0===e||e.classList.remove("mexty-app__body","mexty-team-view")}}),[n]),y("div",{className:ec,children:[f(rc,{}),!e.fetchingChannels&&f(KC,{}),!e.fetchingChannels&&f(Y,{component:gS}),!e.fetchingChannels&&f(gE,{}),e.fetchingChannels&&f(Xs,{}),f(Gc,{}),f(jc,{}),f(oc,{})]})},bS=Date.now(),yS=function(e){(new Date).getTime(),clearInterval(hS),hS=window.setInterval((function(){var e=(new Date).getTime();e>bS+6e4&&za(!1),bS=e}),3e4);var t=s(p.exports.useState(null),2),n=t[0],r=t[1],i=s(p.exports.useState(""),2),o=i[0],a=i[1],l=s(p.exports.useState(!0),2),c=l[0],u=l[1];p.exports.useEffect((function(){(new Date).getTime()-e.lastSyncProfile>36e5&&!1===br(e.currentUser)&&e.actions.syncMe();var t=e.tutorialStep;if(0===t&&e.currentUser){var n=e.currentUser.id,r=[{user_id:n,category:hr.TUTORIAL_STEP,name:n,value:pr.POST_POPOVER.toString()}];e.actions.setDefaultProfileImage(n),e.actions.savePreferences(n,r)}if(-1!==[0,1].indexOf(t)&&e.currentUser){var i=e.currentUser.id,o=hr.CATEGORY_DISPLAY_SETTINGS,a=[{user_id:i,category:hr.TUTORIAL_STEP,name:i,value:pr.CHANNEL_POPOVER.toString()},{user_id:i,category:o,name:hr.USE_MILITARY_TIME,value:"true"},{user_id:i,category:o,name:hr.CHANNEL_DISPLAY_MODE,value:"full"},{user_id:i,category:o,name:hr.MESSAGE_DISPLAY,value:hr.MESSAGE_DISPLAY_CLEAN},{user_id:i,category:o,name:hr.MESSAGE_DISPLAY,value:hr.MESSAGE_DISPLAY_CLEAN},{user_id:i,category:o,name:hr.COLLAPSED_REPLY_THREADS,value:"off"},{user_id:i,category:o,name:hr.LINK_PREVIEW_DISPLAY,value:"true"},{user_id:i,category:o,name:hr.COLLAPSE_DISPLAY,value:"false"},{user_id:i,category:o,name:hr.NAME_NAME_FORMAT,value:Se.TEAMMATE_NAME_DISPLAY.SHOW_NICKNAME_FULLNAME}];e.actions.savePreferences(i,a)}var s=e.match.params.team,l=e.teamList.find((function(e){return e.name===s}));l?d(l):h(s,!0)}),[]),p.exports.useEffect((function(){var t=e.teamList.find((function(t){return t.name===e.match.params.team}));t&&r(t)}),[e.match.params.team]),p.exports.useEffect((function(){n&&d(n)}),[n]),p.exports.useEffect((function(){var t,r;(e.chatActive&&n&&d(n,!0),e.chatActive)?null===(t=document.querySelector(".p-pageWrapper"))||void 0===t||t.classList.add("mexty-quik-enabled"):null===(r=document.querySelector(".p-pageWrapper"))||void 0===r||r.classList.remove("mexty-quik-enabled")}),[e.chatActive]),Ne.setTeamIdJoinedOnLoad(null);var d=function(){var t=x(k().mark((function t(n){var r,i=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],n.name!==o){t.next=3;break}return t.abrupt("return");case 3:if(e.actions.selectTeam(n),e.actions.setPreviousTeamId(n.id),e.actions.setChatReady(),!r){t.next=12;break}return a(n.name),c||u(!0),t.next=11,e.actions.fetchMyChannelIds(n.id,"",0,50);case 11:u(!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=x(k().mark((function t(n,i){var o,a,s,l;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.actions.getTeamByName(n);case 2:if(o=t.sent,!(a=o.data)||0!==a.delete_at){t.next=15;break}return t.next=7,e.actions.addUserToTeam(a.id,null===(s=e.currentUser)||void 0===s?void 0:s.id);case 7:if(l=t.sent,!l.error){t.next=12;break}return e.history.push("/error?type=team_not_found"),t.abrupt("return");case 12:return i&&Ne.setTeamIdJoinedOnLoad(a.id),r(a),t.abrupt("return");case 15:e.history.push("/error?type=team_not_found");case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();if(!e.chatActive)return f(p.exports.Fragment,{});if(c)return y("div",{className:w(tc),children:[f(Xs,{}),f($l,{})]});return y("div",{className:w(tc),children:[y(K,{children:[f(Y,{path:"/:team/friends",component:Js}),f(Y,{render:function(e){return f(vS,{pathName:e.location.pathname,fetchingChannels:c})}})]}),f($l,{})]})};c("default",g((function(e){var t=Le(e),n=dr(e,hr.TUTORIAL_STEP,t.id,pr.INTRO_SCREENS);return{currentUser:t,currentTeamId:Pe(e),currentChannelId:Q(e),prevTeamId:Va(e),teamList:dn(e),tutorialStep:n,lastSyncProfile:Yo(e),chatActive:ra(e)}}),(function(e){return{actions:P({selectTeam:Xo,setPreviousTeamId:Qo,fetchMyChannelIds:Jo,getTeamByName:Zo,addUserToTeam:$o,setDefaultProfileImage:ea,savePreferences:en,syncMe:Wa,setChatReady:Ga},e)}}))(yS))}}}))}();
