var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;import{B as c,$ as o,x as l,y as d,A as m,F as u,G as f}from"./vendor.bbf9911b.js";import{b3 as p,L as b,P as v,eg as g,b2 as T,ef as h,d as k,av as x,b6 as y,ga as P,ag as S,gb as j,gc as B,ch as O,gd as w,s as q}from"./index.190edc01.js";import{S as I,T as N,U as C,V as L,X as R}from"./index.f9be2f73.js";import{r as E}from"./jsx-runtime_commonjs-proxy.8e94ef61.js";import{U}from"./index.b6321635.js";import{L as A}from"./index.7b48b190.js";import"./index.0ec9f6e9.js";var D=E.jsx;var H=c.exports.forwardRef((function(e,c){return D("svg",(o=((e,a)=>{for(var r in a||(a={}))s.call(a,r)&&i(e,r,a[r]);if(t)for(var r of t(a))n.call(a,r)&&i(e,r,a[r]);return e})({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:c},e)),a(o,r({children:D("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}))));var o}));var _={teamContainer:"mqik-944dff04",teamController:"mqik-d87af3e9",channelContainer:"mqik-f0903c37",teamSidebarRight:"mqik-aa5b732a",quikTeamPage:"mqik-2e0d247c",sidebarHeader:"mqik-20f5ceda",sidebarBtnBack:"mqik-344dc811",sidebarHeaderTitle:"mqik-9f543ba5"};let M,F=Date.now();var V=e=>{const a=o();(new Date).getTime(),clearInterval(M),M=window.setInterval((()=>{const e=(new Date).getTime();e>F+6e4&&I(!1),F=e}),3e4);const[r,t]=c.exports.useState(null);c.exports.useState("");const[s,n]=c.exports.useState(!0);return c.exports.useEffect((()=>{(new Date).getTime()-e.lastSyncProfile>36e5&&!1===p(e.currentUser)&&e.actions.syncMe();if(0===e.tutorialStep&&e.currentUser){const a=e.currentUser.id,r=[{user_id:a,category:v.TUTORIAL_STEP,name:a,value:g.POST_POPOVER.toString()}];e.actions.setDefaultProfileImage(a),e.actions.savePreferences(a,r)}}),[]),c.exports.useEffect((()=>{const a=e.teamList.find((a=>a.name===e.match.params.team));a&&t(a)}),[e.match.params.team]),c.exports.useEffect((()=>{var a,r;e.chatActive?null==(a=document.querySelector(".p-pageWrapper"))||a.classList.add("mexty-quik-enabled"):null==(r=document.querySelector(".p-pageWrapper"))||r.classList.remove("mexty-quik-enabled")}),[e.chatActive]),b.setTeamIdJoinedOnLoad(null),e.chatActive?d("div",s?{className:m(_.quikTeamPage),children:[d("div",{className:m(_.sidebarHeader),children:[l("button",{className:m(_.sidebarBtnBack),onClick:()=>a.goBack(),children:l(H,{className:_.sidebarBtnBackIcon})}),l("p",{className:m(_.sidebarHeaderTitle),children:"Bạn bè"})]}),l(A,{}),l(U,{})]}:{className:m(_.quikTeamPage),children:[d("div",{className:m(_.sidebarHeader),children:[l("button",{className:m(_.sidebarBtnBack),onClick:()=>a.goBack(),children:l(H,{className:_.sidebarBtnBackIcon})}),l("p",{className:m(_.sidebarHeaderTitle),children:"Bạn bè"})]}),l("div",{className:m(_.friendsContainer),children:"123456"}),l(U,{})]}):l(c.exports.Fragment,{})};var W=u((function(e){const a=T(e),r=h(e,v.TUTORIAL_STEP,a.id,g.INTRO_SCREENS);return{currentUser:a,currentTeamId:k(e),currentChannelId:x(e),prevTeamId:N(e),teamList:y(e),tutorialStep:r,lastSyncProfile:P(e),chatActive:C(e)}}),(function(e){return{actions:f({selectTeam:S,setPreviousTeamId:j,getTeamByName:B,addUserToTeam:O,setDefaultProfileImage:w,savePreferences:q,syncMe:L,setChatReady:R},e)}}))(V);export{W as default};
